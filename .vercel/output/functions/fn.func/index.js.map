{
  "version": 3,
  "sources": ["../../../../.svelte-kit/output/server/chunks/prod-ssr.js", "../../../../.svelte-kit/output/server/chunks/ssr.js", "../../../../node_modules/@auth/core/lib/utils/cookie.js", "../../../../node_modules/@auth/core/errors.js", "../../../../node_modules/@auth/core/lib/utils/assert.js", "../../../../node_modules/@panva/hkdf/dist/web/runtime/hkdf.js", "../../../../node_modules/@panva/hkdf/dist/web/index.js", "../../../../node_modules/jose/dist/browser/runtime/webcrypto.js", "../../../../node_modules/jose/dist/browser/runtime/digest.js", "../../../../node_modules/jose/dist/browser/lib/buffer_utils.js", "../../../../node_modules/jose/dist/browser/runtime/base64url.js", "../../../../node_modules/jose/dist/browser/util/errors.js", "../../../../node_modules/jose/dist/browser/runtime/random.js", "../../../../node_modules/jose/dist/browser/lib/iv.js", "../../../../node_modules/jose/dist/browser/lib/check_iv_length.js", "../../../../node_modules/jose/dist/browser/runtime/check_cek_length.js", "../../../../node_modules/jose/dist/browser/runtime/timing_safe_equal.js", "../../../../node_modules/jose/dist/browser/lib/crypto_key.js", "../../../../node_modules/jose/dist/browser/lib/invalid_key_input.js", "../../../../node_modules/jose/dist/browser/runtime/is_key_like.js", "../../../../node_modules/jose/dist/browser/runtime/decrypt.js", "../../../../node_modules/jose/dist/browser/lib/is_disjoint.js", "../../../../node_modules/jose/dist/browser/lib/is_object.js", "../../../../node_modules/jose/dist/browser/runtime/bogus.js", "../../../../node_modules/jose/dist/browser/runtime/aeskw.js", "../../../../node_modules/jose/dist/browser/runtime/ecdhes.js", "../../../../node_modules/jose/dist/browser/lib/check_p2s.js", "../../../../node_modules/jose/dist/browser/runtime/pbes2kw.js", "../../../../node_modules/jose/dist/browser/runtime/subtle_rsaes.js", "../../../../node_modules/jose/dist/browser/runtime/check_key_length.js", "../../../../node_modules/jose/dist/browser/runtime/rsaes.js", "../../../../node_modules/jose/dist/browser/lib/cek.js", "../../../../node_modules/jose/dist/browser/lib/format_pem.js", "../../../../node_modules/jose/dist/browser/runtime/asn1.js", "../../../../node_modules/jose/dist/browser/runtime/jwk_to_key.js", "../../../../node_modules/jose/dist/browser/key/import.js", "../../../../node_modules/jose/dist/browser/lib/check_key_type.js", "../../../../node_modules/jose/dist/browser/runtime/encrypt.js", "../../../../node_modules/jose/dist/browser/lib/aesgcmkw.js", "../../../../node_modules/jose/dist/browser/lib/decrypt_key_management.js", "../../../../node_modules/jose/dist/browser/lib/validate_crit.js", "../../../../node_modules/jose/dist/browser/lib/validate_algorithms.js", "../../../../node_modules/jose/dist/browser/jwe/flattened/decrypt.js", "../../../../node_modules/jose/dist/browser/jwe/compact/decrypt.js", "../../../../node_modules/jose/dist/browser/jwe/general/decrypt.js", "../../../../node_modules/jose/dist/browser/runtime/key_to_jwk.js", "../../../../node_modules/jose/dist/browser/key/export.js", "../../../../node_modules/jose/dist/browser/lib/encrypt_key_management.js", "../../../../node_modules/jose/dist/browser/jwe/flattened/encrypt.js", "../../../../node_modules/jose/dist/browser/jwe/general/encrypt.js", "../../../../node_modules/jose/dist/browser/runtime/subtle_dsa.js", "../../../../node_modules/jose/dist/browser/runtime/get_sign_verify_key.js", "../../../../node_modules/jose/dist/browser/runtime/verify.js", "../../../../node_modules/jose/dist/browser/jws/flattened/verify.js", "../../../../node_modules/jose/dist/browser/jws/compact/verify.js", "../../../../node_modules/jose/dist/browser/jws/general/verify.js", "../../../../node_modules/jose/dist/browser/lib/epoch.js", "../../../../node_modules/jose/dist/browser/lib/secs.js", "../../../../node_modules/jose/dist/browser/lib/jwt_claims_set.js", "../../../../node_modules/jose/dist/browser/jwt/verify.js", "../../../../node_modules/jose/dist/browser/jwt/decrypt.js", "../../../../node_modules/jose/dist/browser/jwe/compact/encrypt.js", "../../../../node_modules/jose/dist/browser/runtime/sign.js", "../../../../node_modules/jose/dist/browser/jws/flattened/sign.js", "../../../../node_modules/jose/dist/browser/jws/compact/sign.js", "../../../../node_modules/jose/dist/browser/jws/general/sign.js", "../../../../node_modules/jose/dist/browser/jwt/produce.js", "../../../../node_modules/jose/dist/browser/jwt/sign.js", "../../../../node_modules/jose/dist/browser/jwt/encrypt.js", "../../../../node_modules/jose/dist/browser/jwk/thumbprint.js", "../../../../node_modules/jose/dist/browser/jwk/embedded.js", "../../../../node_modules/jose/dist/browser/jwks/local.js", "../../../../node_modules/jose/dist/browser/runtime/fetch_jwks.js", "../../../../node_modules/jose/dist/browser/jwks/remote.js", "../../../../node_modules/jose/dist/browser/jwt/unsecured.js", "../../../../node_modules/jose/dist/browser/util/base64url.js", "../../../../node_modules/jose/dist/browser/util/decode_protected_header.js", "../../../../node_modules/jose/dist/browser/util/decode_jwt.js", "../../../../node_modules/jose/dist/browser/runtime/generate.js", "../../../../node_modules/jose/dist/browser/key/generate_key_pair.js", "../../../../node_modules/jose/dist/browser/key/generate_secret.js", "../../../../node_modules/jose/dist/browser/runtime/runtime.js", "../../../../node_modules/jose/dist/browser/util/runtime.js", "../../../../node_modules/jose/dist/browser/index.js", "../../../../node_modules/cookie/index.js", "../../../../node_modules/@auth/core/jwt.js", "../../../../node_modules/@auth/core/lib/utils/callback-url.js", "../../../../node_modules/@auth/core/lib/utils/logger.js", "../../../../node_modules/@auth/core/lib/utils/actions.js", "../../../../node_modules/@auth/core/lib/utils/web.js", "../../../../node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js", "../../../../node_modules/@auth/core/lib/utils/merge.js", "../../../../node_modules/@auth/core/lib/utils/providers.js", "../../../../node_modules/@auth/core/lib/init.js", "../../../../node_modules/preact/src/util.js", "../../../../node_modules/preact/src/options.js", "../../../../node_modules/preact/src/create-element.js", "../../../../node_modules/preact/src/component.js", "../../../../node_modules/preact/src/create-context.js", "../../../../node_modules/preact/src/constants.js", "../../../../node_modules/preact/src/diff/children.js", "../../../../node_modules/preact/src/diff/props.js", "../../../../node_modules/preact/src/diff/index.js", "../../../../node_modules/preact/src/render.js", "../../../../node_modules/preact/src/clone-element.js", "../../../../node_modules/preact/src/diff/catch-error.js", "../../../../node_modules/preact-render-to-string/src/util.js", "../../../../node_modules/preact-render-to-string/src/pretty.js", "../../../../node_modules/preact-render-to-string/src/index.js", "../../../../node_modules/preact/jsx-runtime/src/index.js", "../../../../node_modules/@auth/core/lib/pages/error.js", "../../../../node_modules/@auth/core/lib/utils/webauthn-client.js", "../../../../node_modules/@auth/core/lib/pages/signin.js", "../../../../node_modules/@auth/core/lib/pages/signout.js", "../../../../node_modules/@auth/core/lib/pages/styles.js", "../../../../node_modules/@auth/core/lib/pages/verify-request.js", "../../../../node_modules/@auth/core/lib/pages/index.js", "../../../../node_modules/@auth/core/lib/utils/date.js", "../../../../node_modules/@auth/core/lib/actions/callback/handle-login.js", "../../../../node_modules/oauth4webapi/build/index.js", "../../../../node_modules/@auth/core/lib/actions/callback/oauth/checks.js", "../../../../node_modules/@auth/core/lib/actions/callback/oauth/callback.js", "../../../../node_modules/@auth/core/lib/utils/webauthn-utils.js", "../../../../node_modules/@auth/core/lib/actions/callback/index.js", "../../../../node_modules/@auth/core/lib/actions/session.js", "../../../../node_modules/@auth/core/lib/actions/signin/authorization-url.js", "../../../../node_modules/@auth/core/lib/actions/signin/send-token.js", "../../../../node_modules/@auth/core/lib/actions/signin/index.js", "../../../../node_modules/@auth/core/lib/actions/signout.js", "../../../../node_modules/@auth/core/lib/utils/session.js", "../../../../node_modules/@auth/core/lib/actions/webauthn-options.js", "../../../../node_modules/@auth/core/lib/actions/index.js", "../../../../node_modules/@auth/core/lib/index.js", "../../../../node_modules/@auth/core/lib/utils/env.js", "../../../../node_modules/@auth/core/index.js", "../../../../.svelte-kit/output/server/chunks/index.js", "../../../../node_modules/set-cookie-parser/lib/set-cookie.js", "../../../../node_modules/@auth/core/providers/github.js", "../../../../node_modules/@auth/prisma-adapter/index.js", "../../../../node_modules/@prisma/client/runtime/index-browser.js", "../../../../node_modules/.prisma/client/index-browser.js", "../../../../node_modules/@prisma/client/index-browser.js", "../../../../.svelte-kit/output/server/chunks/prisma.js", "../../../../.svelte-kit/output/server/chunks/hooks.server.js", "../../../../.svelte-kit/output/server/chunks/internal.js", "../../../../.svelte-kit/output/server/chunks/exports.js", "../../../../node_modules/devalue/src/utils.js", "../../../../node_modules/devalue/src/uneval.js", "../../../../node_modules/devalue/src/constants.js", "../../../../node_modules/devalue/src/parse.js", "../../../../node_modules/devalue/src/stringify.js", "../../../../node_modules/devalue/index.js", "../../../../.svelte-kit/output/server/chunks/index2.js", "../../../../.svelte-kit/output/server/entries/pages/_layout.server.ts.js", "../../../../.svelte-kit/output/server/chunks/stores.js", "../../../../.svelte-kit/output/server/entries/pages/_layout.svelte.js", "../../../../.svelte-kit/output/server/nodes/0.js", "../../../../.svelte-kit/output/server/entries/fallbacks/error.svelte.js", "../../../../.svelte-kit/output/server/nodes/1.js", "../../../../.svelte-kit/output/server/entries/pages/_page.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/2.js", "../../../../.svelte-kit/output/server/entries/pages/update/_todoid_/_page.server.ts.js", "../../../../.svelte-kit/output/server/entries/pages/update/_todoid_/_page.svelte.js", "../../../../.svelte-kit/output/server/nodes/3.js", "../../../../.svelte-kit/output/server/index.js", "../../../../.svelte-kit/vercel-tmp/fn/manifest.js", "../../../../.svelte-kit/vercel-tmp/fn/edge.js"],
  "sourcesContent": ["const DEV = false;\nexport {\n  DEV as D\n};\n", "function noop() {\n}\nfunction run(fn) {\n  return fn();\n}\nfunction blank_object() {\n  return /* @__PURE__ */ Object.create(null);\n}\nfunction run_all(fns) {\n  fns.forEach(run);\n}\nfunction safe_not_equal(a, b) {\n  return a != a ? b == b : a !== b || a && typeof a === \"object\" || typeof a === \"function\";\n}\nfunction subscribe(store, ...callbacks) {\n  if (store == null) {\n    for (const callback of callbacks) {\n      callback(void 0);\n    }\n    return noop;\n  }\n  const unsub = store.subscribe(...callbacks);\n  return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nlet current_component;\nfunction set_current_component(component) {\n  current_component = component;\n}\nfunction get_current_component() {\n  if (!current_component)\n    throw new Error(\"Function called outside component initialization\");\n  return current_component;\n}\nfunction setContext(key, context) {\n  get_current_component().$$.context.set(key, context);\n  return context;\n}\nfunction getContext(key) {\n  return get_current_component().$$.context.get(key);\n}\nfunction ensure_array_like(array_like_or_iterator) {\n  return array_like_or_iterator?.length !== void 0 ? array_like_or_iterator : Array.from(array_like_or_iterator);\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\nfunction escape(value, is_attr = false) {\n  const str = String(value);\n  const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n  pattern.lastIndex = 0;\n  let escaped = \"\";\n  let last = 0;\n  while (pattern.test(str)) {\n    const i = pattern.lastIndex - 1;\n    const ch = str[i];\n    escaped += str.substring(last, i) + (ch === \"&\" ? \"&amp;\" : ch === '\"' ? \"&quot;\" : \"&lt;\");\n    last = i + 1;\n  }\n  return escaped + str.substring(last);\n}\nfunction each(items, fn) {\n  items = ensure_array_like(items);\n  let str = \"\";\n  for (let i = 0; i < items.length; i += 1) {\n    str += fn(items[i], i);\n  }\n  return str;\n}\nconst missing_component = {\n  $$render: () => \"\"\n};\nfunction validate_component(component, name) {\n  if (!component || !component.$$render) {\n    if (name === \"svelte:component\")\n      name += \" this={...}\";\n    throw new Error(\n      `<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`\n    );\n  }\n  return component;\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n  function $$render(result, props, bindings, slots, context) {\n    const parent_component = current_component;\n    const $$ = {\n      on_destroy,\n      context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n      // these will be immediately discarded\n      on_mount: [],\n      before_update: [],\n      after_update: [],\n      callbacks: blank_object()\n    };\n    set_current_component({ $$ });\n    const html = fn(result, props, bindings, slots);\n    set_current_component(parent_component);\n    return html;\n  }\n  return {\n    render: (props = {}, { $$slots = {}, context = /* @__PURE__ */ new Map() } = {}) => {\n      on_destroy = [];\n      const result = { title: \"\", head: \"\", css: /* @__PURE__ */ new Set() };\n      const html = $$render(result, props, {}, $$slots, context);\n      run_all(on_destroy);\n      return {\n        html,\n        css: {\n          code: Array.from(result.css).map((css) => css.code).join(\"\\n\"),\n          map: null\n          // TODO\n        },\n        head: result.title + result.head\n      };\n    },\n    $$render\n  };\n}\nfunction add_attribute(name, value, boolean) {\n  if (value == null || boolean && !value)\n    return \"\";\n  const assignment = boolean && value === true ? \"\" : `=\"${escape(value, true)}\"`;\n  return ` ${name}${assignment}`;\n}\nexport {\n  subscribe as a,\n  add_attribute as b,\n  create_ssr_component as c,\n  each as d,\n  escape as e,\n  safe_not_equal as f,\n  getContext as g,\n  missing_component as m,\n  noop as n,\n  setContext as s,\n  validate_component as v\n};\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SessionStore_instances, _SessionStore_chunks, _SessionStore_option, _SessionStore_logger, _SessionStore_chunk, _SessionStore_clean;\n// Uncomment to recalculate the estimated size\n// of an empty session cookie\n// import { serialize } from \"cookie\"\n// console.log(\n//   \"Cookie estimated to be \",\n//   serialize(`__Secure.authjs.session-token.0`, \"\", {\n//     expires: new Date(),\n//     httpOnly: true,\n//     maxAge: Number.MAX_SAFE_INTEGER,\n//     path: \"/\",\n//     sameSite: \"strict\",\n//     secure: true,\n//     domain: \"example.com\",\n//   }).length,\n//   \" bytes\"\n// )\nconst ALLOWED_COOKIE_SIZE = 4096;\n// Based on commented out section above\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 160;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\n/**\n * Use secure cookies if the site uses HTTPS\n * This being conditional allows cookies to work non-HTTPS development URLs\n * Honour secure cookie option, which sets 'secure' and also adds '__Secure-'\n * prefix, but enable them by default if the site URL is HTTPS; but not for\n * non-HTTPS URLs like http://localhost which are used in development).\n * For more on prefixes see https://googlechrome.github.io/samples/cookie-prefixes/\n *\n * @TODO Review cookie settings (names, options)\n */\nexport function defaultCookies(useSecureCookies) {\n    const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n    return {\n        // default cookie options\n        sessionToken: {\n            name: `${cookiePrefix}authjs.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        callbackUrl: {\n            name: `${cookiePrefix}authjs.callback-url`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        csrfToken: {\n            // Default to __Host- for CSRF token for additional protection if using useSecureCookies\n            // NB: The `__Host-` prefix is stricter than the `__Secure-` prefix.\n            name: `${useSecureCookies ? \"__Host-\" : \"\"}authjs.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        pkceCodeVerifier: {\n            name: `${cookiePrefix}authjs.pkce.code_verifier`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n        state: {\n            name: `${cookiePrefix}authjs.state`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n        nonce: {\n            name: `${cookiePrefix}authjs.nonce`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n            },\n        },\n        webauthnChallenge: {\n            name: `${cookiePrefix}authjs.challenge`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15, // 15 minutes in seconds\n            },\n        },\n    };\n}\nexport class SessionStore {\n    constructor(option, cookies, logger) {\n        _SessionStore_instances.add(this);\n        _SessionStore_chunks.set(this, {});\n        _SessionStore_option.set(this, void 0);\n        _SessionStore_logger.set(this, void 0);\n        __classPrivateFieldSet(this, _SessionStore_logger, logger, \"f\");\n        __classPrivateFieldSet(this, _SessionStore_option, option, \"f\");\n        if (!cookies)\n            return;\n        const { name: sessionCookiePrefix } = option;\n        for (const [name, value] of Object.entries(cookies)) {\n            if (!name.startsWith(sessionCookiePrefix) || !value)\n                continue;\n            __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n        }\n    }\n    /**\n     * The JWT Session or database Session ID\n     * constructed from the cookie chunks.\n     */\n    get value() {\n        // Sort the chunks by their keys before joining\n        const sortedKeys = Object.keys(__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")).sort((a, b) => {\n            const aSuffix = parseInt(a.split(\".\").pop() || \"0\");\n            const bSuffix = parseInt(b.split(\".\").pop() || \"0\");\n            return aSuffix - bSuffix;\n        });\n        // Use the sorted keys to join the chunks in the correct order\n        return sortedKeys.map((key) => __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[key]).join(\"\");\n    }\n    /**\n     * Given a cookie value, return new cookies, chunked, to fit the allowed cookie size.\n     * If the cookie has changed from chunked to unchunked or vice versa,\n     * it deletes the old cookies as well.\n     */\n    chunk(value, options) {\n        // Assume all cookies should be cleaned by default\n        const cookies = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this);\n        // Calculate new chunks\n        const chunked = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_chunk).call(this, {\n            name: __classPrivateFieldGet(this, _SessionStore_option, \"f\").name,\n            value,\n            options: { ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options, ...options },\n        });\n        // Update stored chunks / cookies\n        for (const chunk of chunked) {\n            cookies[chunk.name] = chunk;\n        }\n        return Object.values(cookies);\n    }\n    /** Returns a list of cookies that should be cleaned. */\n    clean() {\n        return Object.values(__classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this));\n    }\n}\n_SessionStore_chunks = new WeakMap(), _SessionStore_option = new WeakMap(), _SessionStore_logger = new WeakMap(), _SessionStore_instances = new WeakSet(), _SessionStore_chunk = function _SessionStore_chunk(cookie) {\n    const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n    if (chunkCount === 1) {\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[cookie.name] = cookie.value;\n        return [cookie];\n    }\n    const cookies = [];\n    for (let i = 0; i < chunkCount; i++) {\n        const name = `${cookie.name}.${i}`;\n        const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n        cookies.push({ ...cookie, name, value });\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n    }\n    __classPrivateFieldGet(this, _SessionStore_logger, \"f\").debug(\"CHUNKING_SESSION_COOKIE\", {\n        message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n        emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n        valueSize: cookie.value.length,\n        chunks: cookies.map((c) => c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE),\n    });\n    return cookies;\n}, _SessionStore_clean = function _SessionStore_clean() {\n    const cleanedChunks = {};\n    for (const name in __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")) {\n        delete __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")?.[name];\n        cleanedChunks[name] = {\n            name,\n            value: \"\",\n            options: { ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options, maxAge: 0 },\n        };\n    }\n    return cleanedChunks;\n};\n", "/**\n * Base error class for all Auth.js errors.\n * It's optimized to be printed in the server logs in a nicely formatted way\n * via the [`logger.error`](https://authjs.dev/reference/core#logger) option.\n */\nexport class AuthError extends Error {\n    constructor(message, errorOptions) {\n        if (message instanceof Error) {\n            super(undefined, {\n                cause: { err: message, ...message.cause, ...errorOptions },\n            });\n        }\n        else if (typeof message === \"string\") {\n            if (errorOptions instanceof Error) {\n                errorOptions = { err: errorOptions, ...errorOptions.cause };\n            }\n            super(message, errorOptions);\n        }\n        else {\n            super(undefined, message);\n        }\n        this.name = this.constructor.name;\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.type = this.constructor.type ?? \"AuthError\";\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.kind = this.constructor.kind ?? \"error\";\n        Error.captureStackTrace?.(this, this.constructor);\n        const url = `https://errors.authjs.dev#${this.type.toLowerCase()}`;\n        this.message += `${this.message ? \" .\" : \"\"}Read more at ${url}`;\n    }\n}\nexport class SignInError extends AuthError {\n}\nSignInError.kind = \"signIn\";\n/**\n * One of the database [`Adapter` methods](https://authjs.dev/reference/core/adapters#methods)\n * failed during execution.\n *\n * :::tip\n * If `debug: true` is set, you can check out `[auth][debug]` in the logs to learn more about the failed adapter method execution.\n * @example\n * ```sh\n * [auth][debug]: adapter_getUserByEmail\n * { \"args\": [undefined] }\n * ```\n * :::\n */\nexport class AdapterError extends AuthError {\n}\nAdapterError.type = \"AdapterError\";\n/**\n * Thrown when the execution of the [`signIn` callback](https://authjs.dev/reference/core/types#signin) fails\n * or if it returns `false`.\n */\nexport class AccessDenied extends AuthError {\n}\nAccessDenied.type = \"AccessDenied\";\n/**\n * This error occurs when the user cannot finish login.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/reference/core/providers/oauth), possible causes are:\n * - The user denied access to the application\n * - There was an error parsing the OAuth Profile:\n *   Check out the provider's `profile` or `userinfo.request` method to make sure\n *   it correctly fetches the user's profile.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * For an [Email provider](https://authjs.dev/reference/core/providers/email), possible causes are:\n * - The provided email/token combination was invalid/missing:\n *   Check if the provider's `sendVerificationRequest` method correctly sends the email.\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n * For a [Credentials provider](https://authjs.dev/reference/core/providers/credentials), possible causes are:\n * - The `authorize` method threw an uncaught error:\n *   Check the provider's `authorize` method.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * :::tip\n * Check out `[auth][cause]` in the error message for more details.\n * It will show the original stack trace.\n * :::\n */\nexport class CallbackRouteError extends AuthError {\n}\nCallbackRouteError.type = \"CallbackRouteError\";\n/**\n * Thrown when Auth.js is misconfigured and accidentally tried to require authentication on a custom error page.\n * To prevent an infinite loop, Auth.js will instead render its default error page.\n *\n * To fix this, make sure that the `error` page does not require authentication.\n *\n * Learn more at [Guide: Error pages](https://authjs.dev/guides/basics/pages)\n */\nexport class ErrorPageLoop extends AuthError {\n}\nErrorPageLoop.type = \"ErrorPageLoop\";\n/**\n * One of the [`events` methods](https://authjs.dev/reference/core/types#eventcallbacks)\n * failed during execution.\n *\n * Make sure that the `events` methods are implemented correctly and uncaught errors are handled.\n *\n * Learn more at [`events`](https://authjs.dev/reference/core/types#eventcallbacks)\n */\nexport class EventError extends AuthError {\n}\nEventError.type = \"EventError\";\n/**\n * Thrown when Auth.js is unable to verify a `callbackUrl` value.\n * The browser either disabled cookies or the `callbackUrl` is not a valid URL.\n *\n * Somebody might have tried to manipulate the callback URL that Auth.js uses to redirect the user back to the configured `callbackUrl`/page.\n * This could be a malicious hacker trying to redirect the user to a phishing site.\n * To prevent this, Auth.js checks if the callback URL is valid and throws this error if it is not.\n *\n * There is no action required, but it might be an indicator that somebody is trying to attack your application.\n */\nexport class InvalidCallbackUrl extends AuthError {\n}\nInvalidCallbackUrl.type = \"InvalidCallbackUrl\";\n/**\n * Can be thrown from the `authorize` callback of the Credentials provider.\n * When an error occurs during the `authorize` callback, two things can happen:\n * 1. The user is redirected to the signin page, with `error=CredentialsSignin&code=credentials` in the URL. `code` is configurable.\n * 2. If you throw this error in a framework that handles form actions server-side, this error is thrown, instead of redirecting the user, so you'll need to handle.\n */\nexport class CredentialsSignin extends SignInError {\n    constructor() {\n        super(...arguments);\n        /**\n         * The error code that is set in the `code` query parameter of the redirect URL.\n         *\n         *\n         * \u26A0 NOTE: This property is going to be included in the URL, so make sure it does not hint at sensitive errors.\n         *\n         * The full error is always logged on the server, if you need to debug.\n         *\n         * Generally, we don't recommend hinting specifically if the user had either a wrong username or password specifically,\n         * try rather something like \"Invalid credentials\".\n         */\n        this.code = \"credentials\";\n    }\n}\nCredentialsSignin.type = \"CredentialsSignin\";\n/**\n * One of the configured OAuth or OIDC providers is missing the `authorization`, `token` or `userinfo`, or `issuer` configuration.\n * To perform OAuth or OIDC sign in, at least one of these endpoints is required.\n *\n * Learn more at [`OAuth2Config`](https://authjs.dev/reference/core/providers#oauth2configprofile) or [Guide: OAuth Provider](https://authjs.dev/guides/providers/custom-provider)\n */\nexport class InvalidEndpoints extends AuthError {\n}\nInvalidEndpoints.type = \"InvalidEndpoints\";\n/**\n * Thrown when a PKCE, state or nonce OAuth check could not be performed.\n * This could happen if the OAuth provider is configured incorrectly or if the browser is blocking cookies.\n *\n * Learn more at [`checks`](https://authjs.dev/reference/core/providers#checks)\n */\nexport class InvalidCheck extends AuthError {\n}\nInvalidCheck.type = \"InvalidCheck\";\n/**\n * Logged on the server when Auth.js could not decode or encode a JWT-based (`strategy: \"jwt\"`) session.\n *\n * Possible causes are either a misconfigured `secret` or a malformed JWT or `encode/decode` methods.\n *\n * :::note\n * When this error is logged, the session cookie is destroyed.\n * :::\n *\n * Learn more at [`secret`](https://authjs.dev/reference/core#secret), [`jwt.encode`](https://authjs.dev/reference/core/jwt#encode) or [`jwt.decode`](https://authjs.dev/reference/core/jwt#decode) for more information.\n */\nexport class JWTSessionError extends AuthError {\n}\nJWTSessionError.type = \"JWTSessionError\";\n/**\n * Thrown if Auth.js is misonfigured. This could happen if you configured an Email provider but did not set up a database adapter,\n * or tried using a `strategy: \"database\"` session without a database adapter.\n * In both cases, make sure you either remove the configuration or add the missing adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/getting-started/adapters), [Email provider](https://authjs.dev/reference/core/providers/email) or [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */\nexport class MissingAdapter extends AuthError {\n}\nMissingAdapter.type = \"MissingAdapter\";\n/**\n * Thrown similarily to [`MissingAdapter`](https://authjs.dev/reference/core/errors#missingadapter), but only some required methods were missing.\n *\n * Make sure you either remove the configuration or add the missing methods to the adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/reference/core/adapters)\n */\nexport class MissingAdapterMethods extends AuthError {\n}\nMissingAdapterMethods.type = \"MissingAdapterMethods\";\n/**\n * Thrown when a Credentials provider is missing the `authorize` configuration.\n * To perform credentials sign in, the `authorize` method is required.\n *\n * Learn more at [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */\nexport class MissingAuthorize extends AuthError {\n}\nMissingAuthorize.type = \"MissingAuthorize\";\n/**\n * Auth.js requires a secret or multiple secrets to be set, but none was not found. This is used to encrypt cookies, JWTs and other sensitive data.\n *\n * :::note\n * If you are using a framework like Next.js, we try to automatically infer the secret from the `AUTH_SECRET`, `AUTH_SECRET_1`, etc. environment variables.\n * Alternatively, you can also explicitly set the [`AuthConfig.secret`](https://authjs.dev/reference/core#secret) option.\n * :::\n *\n *\n * :::tip\n * To generate a random string, you can use the Auth.js CLI: `npx auth secret`\n * :::\n */\nexport class MissingSecret extends AuthError {\n}\nMissingSecret.type = \"MissingSecret\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link OAuth accounts to existing accounts if the user is not signed in.\n *\n * :::tip\n * If you trust the OAuth provider to have verified the user's email address,\n * you can enable automatic account linking by setting [`allowDangerousEmailAccountLinking: true`](https://authjs.dev/reference/core/providers#allowdangerousemailaccountlinking)\n * in the provider configuration.\n * :::\n */\nexport class OAuthAccountNotLinked extends SignInError {\n}\nOAuthAccountNotLinked.type = \"OAuthAccountNotLinked\";\n/**\n * Thrown when an OAuth provider returns an error during the sign in process.\n * This could happen for example if the user denied access to the application or there was a configuration error.\n *\n * For a full list of possible reasons, check out the specification [Authorization Code Grant: Error Response](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1)\n */\nexport class OAuthCallbackError extends SignInError {\n}\nOAuthCallbackError.type = \"OAuthCallbackError\";\n/**\n * This error occurs during an OAuth sign in attempt when the provider's\n * response could not be parsed. This could for example happen if the provider's API\n * changed, or the [`OAuth2Config.profile`](https://authjs.dev/reference/core/providers/oauth#profile) method is not implemented correctly.\n */\nexport class OAuthProfileParseError extends AuthError {\n}\nOAuthProfileParseError.type = \"OAuthProfileParseError\";\n/**\n * Logged on the server when Auth.js could not retrieve a session from the database (`strategy: \"database\"`).\n *\n * The database adapter might be misconfigured or the database is not reachable.\n *\n * Learn more at [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */\nexport class SessionTokenError extends AuthError {\n}\nSessionTokenError.type = \"SessionTokenError\";\n/**\n * Happens when login by [OAuth](https://authjs.dev/getting-started/providers/oauth-tutorial) could not be started.\n *\n * Possible causes are:\n * - The Authorization Server is not compliant with the [OAuth 2.0](https://www.ietf.org/rfc/rfc6749.html) or the [OIDC](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *   Check the details in the error message.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n */\nexport class OAuthSignInError extends SignInError {\n}\nOAuthSignInError.type = \"OAuthSignInError\";\n/**\n * Happens when the login by an [Email provider](https://authjs.dev/getting-started/providers/email-tutorial) could not be started.\n *\n * Possible causes are:\n * - The email sent from the client is invalid, could not be normalized by [`EmailConfig.normalizeIdentifier`](https://authjs.dev/reference/core/providers/email#normalizeidentifier)\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n */\nexport class EmailSignInError extends SignInError {\n}\nEmailSignInError.type = \"EmailSignInError\";\n/**\n * Represents an error that occurs during the sign-out process. This error\n * is logged when there are issues in terminating a user's session, either\n * by failing to delete the session from the database (in database session\n * strategies) or encountering issues during other parts of the sign-out\n * process, such as emitting sign-out events or clearing session cookies.\n *\n * The session cookie(s) are emptied even if this error is logged.\n *\n */\nexport class SignOutError extends AuthError {\n}\nSignOutError.type = \"SignOutError\";\n/**\n * Auth.js was requested to handle an operation that it does not support.\n *\n * See [`AuthAction`](https://authjs.dev/reference/core/types#authaction) for the supported actions.\n */\nexport class UnknownAction extends AuthError {\n}\nUnknownAction.type = \"UnknownAction\";\n/**\n * Thrown when a Credentials provider is present but the JWT strategy (`strategy: \"jwt\"`) is not enabled.\n *\n * Learn more at [`strategy`](https://authjs.dev/reference/core#strategy) or [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */\nexport class UnsupportedStrategy extends AuthError {\n}\nUnsupportedStrategy.type = \"UnsupportedStrategy\";\n/** Thrown when an endpoint was incorrectly called without a provider, or with an unsupported provider. */\nexport class InvalidProvider extends AuthError {\n}\nInvalidProvider.type = \"InvalidProvider\";\n/**\n * Thrown when the `trustHost` option was not set to `true`.\n *\n * Auth.js requires the `trustHost` option to be set to `true` since it's relying on the request headers' `host` value.\n *\n * :::note\n * Official Auth.js libraries might attempt to automatically set the `trustHost` option to `true` if the request is coming from a trusted host on a trusted platform.\n * :::\n *\n * Learn more at [`trustHost`](https://authjs.dev/reference/core#trusthost) or [Guide: Deployment](https://authjs.dev/getting-started/deployment)\n */\nexport class UntrustedHost extends AuthError {\n}\nUntrustedHost.type = \"UntrustedHost\";\n/**\n * The user's email/token combination was invalid.\n * This could be because the email/token combination was not found in the database,\n * or because the token has expired. Ask the user to log in again.\n */\nexport class Verification extends AuthError {\n}\nVerification.type = \"Verification\";\n/**\n * Error for missing CSRF tokens in client-side actions (`signIn`, `signOut`, `useSession#update`).\n * Thrown when actions lack the double submit cookie, essential for CSRF protection.\n *\n * CSRF ([Cross-Site Request Forgery](https://owasp.org/www-community/attacks/csrf))\n * is an attack leveraging authenticated user credentials for unauthorized actions.\n *\n * Double submit cookie pattern, a CSRF defense, requires matching values in a cookie\n * and request parameter. More on this at [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/Security/CSRF).\n */\nexport class MissingCSRF extends SignInError {\n}\nMissingCSRF.type = \"MissingCSRF\";\nconst clientErrors = new Set([\n    \"CredentialsSignin\",\n    \"OAuthAccountNotLinked\",\n    \"OAuthCallbackError\",\n    \"AccessDenied\",\n    \"Verification\",\n    \"MissingCSRF\",\n    \"AccountNotLinked\",\n    \"WebAuthnVerificationError\",\n]);\n/**\n * Used to only allow sending a certain subset of errors to the client.\n * Errors are always logged on the server, but to prevent leaking sensitive information,\n * only a subset of errors are sent to the client as-is.\n */\nexport function isClientError(error) {\n    if (error instanceof AuthError)\n        return clientErrors.has(error.type);\n    return false;\n}\n/**\n * Thrown when multiple providers have `enableConditionalUI` set to `true`.\n * Only one provider can have this option enabled at a time.\n */\nexport class DuplicateConditionalUI extends AuthError {\n}\nDuplicateConditionalUI.type = \"DuplicateConditionalUI\";\n/**\n * Thrown when a WebAuthn provider has `enableConditionalUI` set to `true` but no formField has `webauthn` in its autocomplete param.\n *\n * The `webauthn` autocomplete param is required for conditional UI to work.\n */\nexport class MissingWebAuthnAutocomplete extends AuthError {\n}\nMissingWebAuthnAutocomplete.type = \"MissingWebAuthnAutocomplete\";\n/**\n * Thrown when a WebAuthn provider fails to verify a client response.\n */\nexport class WebAuthnVerificationError extends AuthError {\n}\nWebAuthnVerificationError.type = \"WebAuthnVerificationError\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link accounts to existing accounts if the user is not signed in.\n */\nexport class AccountNotLinked extends SignInError {\n}\nAccountNotLinked.type = \"AccountNotLinked\";\n/**\n * Thrown when an experimental feature is used but not enabled.\n */\nexport class ExperimentalFeatureNotEnabled extends AuthError {\n}\nExperimentalFeatureNotEnabled.type = \"ExperimentalFeatureNotEnabled\";\n", "import { defaultCookies } from \"./cookie.js\";\nimport { AuthError, DuplicateConditionalUI, ExperimentalFeatureNotEnabled, InvalidCallbackUrl, InvalidEndpoints, MissingAdapter, MissingAdapterMethods, MissingAuthorize, MissingSecret, MissingWebAuthnAutocomplete, UnsupportedStrategy, UntrustedHost, } from \"../../errors.js\";\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n    try {\n        return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n    }\n    catch {\n        return false;\n    }\n}\nfunction isSemverString(version) {\n    return /^v\\d+(?:\\.\\d+){0,2}$/.test(version);\n}\nlet hasCredentials = false;\nlet hasEmail = false;\nlet hasWebAuthn = false;\nconst emailMethods = [\n    \"createVerificationToken\",\n    \"useVerificationToken\",\n    \"getUserByEmail\",\n];\nconst sessionMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"getUserByEmail\",\n    \"getUserByAccount\",\n    \"updateUser\",\n    \"linkAccount\",\n    \"createSession\",\n    \"getSessionAndUser\",\n    \"updateSession\",\n    \"deleteSession\",\n];\nconst webauthnMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"linkAccount\",\n    \"getAccount\",\n    \"getAuthenticator\",\n    \"createAuthenticator\",\n    \"listAuthenticatorsByUserId\",\n    \"updateAuthenticatorCounter\",\n];\n/**\n * Verify that the user configured Auth.js correctly.\n * Good place to mention deprecations as well.\n *\n * This is invoked before the init method, so default values are not available yet.\n */\nexport function assertConfig(request, options) {\n    const { url } = request;\n    const warnings = [];\n    if (!warned && options.debug)\n        warnings.push(\"debug-enabled\");\n    if (!options.trustHost) {\n        return new UntrustedHost(`Host must be trusted. URL was: ${request.url}`);\n    }\n    if (!options.secret) {\n        return new MissingSecret(\"Please define a `secret`.\");\n    }\n    const callbackUrlParam = request.query?.callbackUrl;\n    if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.origin)) {\n        return new InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n    }\n    const { callbackUrl: defaultCallbackUrl } = defaultCookies(options.useSecureCookies ?? url.protocol === \"https:\");\n    const callbackUrlCookie = request.cookies?.[options.cookies?.callbackUrl?.name ?? defaultCallbackUrl.name];\n    if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.origin)) {\n        return new InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n    }\n    // Keep track of webauthn providers that use conditional UI\n    let hasConditionalUIProvider = false;\n    for (const p of options.providers) {\n        const provider = typeof p === \"function\" ? p() : p;\n        if ((provider.type === \"oauth\" || provider.type === \"oidc\") &&\n            !(provider.issuer ?? provider.options?.issuer)) {\n            const { authorization: a, token: t, userinfo: u } = provider;\n            let key;\n            if (typeof a !== \"string\" && !a?.url)\n                key = \"authorization\";\n            else if (typeof t !== \"string\" && !t?.url)\n                key = \"token\";\n            else if (typeof u !== \"string\" && !u?.url)\n                key = \"userinfo\";\n            if (key) {\n                return new InvalidEndpoints(`Provider \"${provider.id}\" is missing both \\`issuer\\` and \\`${key}\\` endpoint config. At least one of them is required.`);\n            }\n        }\n        if (provider.type === \"credentials\")\n            hasCredentials = true;\n        else if (provider.type === \"email\")\n            hasEmail = true;\n        else if (provider.type === \"webauthn\") {\n            hasWebAuthn = true;\n            // Validate simpleWebAuthnBrowserVersion\n            if (provider.simpleWebAuthnBrowserVersion && !isSemverString(provider.simpleWebAuthnBrowserVersion)) {\n                return new AuthError(`Invalid provider config for \"${provider.id}\": simpleWebAuthnBrowserVersion \"${provider.simpleWebAuthnBrowserVersion}\" must be a valid semver string.`);\n            }\n            if (provider.enableConditionalUI) {\n                // Make sure only one webauthn provider has \"enableConditionalUI\" set to true\n                if (hasConditionalUIProvider) {\n                    return new DuplicateConditionalUI(`Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time.`);\n                }\n                hasConditionalUIProvider = true;\n                // Make sure at least one formField has \"webauthn\" in its autocomplete param\n                const hasWebauthnFormField = Object.values(provider.formFields).some((f) => f.autocomplete && f.autocomplete.toString().indexOf(\"webauthn\") > -1);\n                if (!hasWebauthnFormField) {\n                    return new MissingWebAuthnAutocomplete(`Provider \"${provider.id}\" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param.`);\n                }\n            }\n        }\n    }\n    if (hasCredentials) {\n        const dbStrategy = options.session?.strategy === \"database\";\n        const onlyCredentials = !options.providers.some((p) => (typeof p === \"function\" ? p() : p).type !== \"credentials\");\n        if (dbStrategy && onlyCredentials) {\n            return new UnsupportedStrategy(\"Signing in with credentials only supported if JWT strategy is enabled\");\n        }\n        const credentialsNoAuthorize = options.providers.some((p) => {\n            const provider = typeof p === \"function\" ? p() : p;\n            return provider.type === \"credentials\" && !provider.authorize;\n        });\n        if (credentialsNoAuthorize) {\n            return new MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n        }\n    }\n    const { adapter, session } = options;\n    let requiredMethods = [];\n    if (hasEmail || session?.strategy === \"database\" || (!session?.strategy && adapter)) {\n        if (hasEmail) {\n            if (!adapter)\n                return new MissingAdapter(\"Email login requires an adapter.\");\n            requiredMethods.push(...emailMethods);\n        }\n        else {\n            if (!adapter)\n                return new MissingAdapter(\"Database session requires an adapter.\");\n            requiredMethods.push(...sessionMethods);\n        }\n    }\n    if (hasWebAuthn) {\n        // Log experimental warning\n        if (options.experimental?.enableWebAuthn) {\n            warnings.push(\"experimental-webauthn\");\n        }\n        else {\n            return new ExperimentalFeatureNotEnabled(\"WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config.\");\n        }\n        if (!adapter)\n            return new MissingAdapter(\"WebAuthn requires an adapter.\");\n        requiredMethods.push(...webauthnMethods);\n    }\n    if (adapter) {\n        const missing = requiredMethods.filter((m) => !(m in adapter));\n        if (missing.length) {\n            return new MissingAdapterMethods(`Required adapter methods were missing: ${missing.join(\", \")}`);\n        }\n    }\n    if (!warned)\n        warned = true;\n    return warnings;\n}\n", "const getGlobal = () => {\n    if (typeof globalThis !== 'undefined')\n        return globalThis;\n    if (typeof self !== 'undefined')\n        return self;\n    if (typeof window !== 'undefined')\n        return window;\n    throw new Error('unable to locate global object');\n};\nexport default async (digest, ikm, salt, info, keylen) => {\n    const { crypto: { subtle }, } = getGlobal();\n    return new Uint8Array(await subtle.deriveBits({\n        name: 'HKDF',\n        hash: `SHA-${digest.substr(3)}`,\n        salt,\n        info,\n    }, await subtle.importKey('raw', ikm, 'HKDF', false, ['deriveBits']), keylen << 3));\n};\n", "import derive from './runtime/hkdf.js';\nfunction normalizeDigest(digest) {\n    switch (digest) {\n        case 'sha256':\n        case 'sha384':\n        case 'sha512':\n        case 'sha1':\n            return digest;\n        default:\n            throw new TypeError('unsupported \"digest\" value');\n    }\n}\nfunction normalizeUint8Array(input, label) {\n    if (typeof input === 'string')\n        return new TextEncoder().encode(input);\n    if (!(input instanceof Uint8Array))\n        throw new TypeError(`\"${label}\"\" must be an instance of Uint8Array or a string`);\n    return input;\n}\nfunction normalizeIkm(input) {\n    const ikm = normalizeUint8Array(input, 'ikm');\n    if (!ikm.byteLength)\n        throw new TypeError(`\"ikm\" must be at least one byte in length`);\n    return ikm;\n}\nfunction normalizeInfo(input) {\n    const info = normalizeUint8Array(input, 'info');\n    if (info.byteLength > 1024) {\n        throw TypeError('\"info\" must not contain more than 1024 bytes');\n    }\n    return info;\n}\nfunction normalizeKeylen(input, digest) {\n    if (typeof input !== 'number' || !Number.isInteger(input) || input < 1) {\n        throw new TypeError('\"keylen\" must be a positive integer');\n    }\n    const hashlen = parseInt(digest.substr(3), 10) >> 3 || 20;\n    if (input > 255 * hashlen) {\n        throw new TypeError('\"keylen\" too large');\n    }\n    return input;\n}\nasync function hkdf(digest, ikm, salt, info, keylen) {\n    return derive(normalizeDigest(digest), normalizeIkm(ikm), normalizeUint8Array(salt, 'salt'), normalizeInfo(info), normalizeKeylen(keylen, digest));\n}\nexport { hkdf, hkdf as default };\n", "export default crypto;\nexport const isCryptoKey = (key) => key instanceof CryptoKey;\n", "import crypto from './webcrypto.js';\nconst digest = async (algorithm, data) => {\n    const subtleDigest = `SHA-${algorithm.slice(-3)}`;\n    return new Uint8Array(await crypto.subtle.digest(subtleDigest, data));\n};\nexport default digest;\n", "import digest from '../runtime/digest.js';\nexport const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nexport function p2s(alg, p2sInput) {\n    return concat(encoder.encode(alg), new Uint8Array([0]), p2sInput);\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function lengthAndInput(input) {\n    return concat(uint32be(input.length), input);\n}\nexport async function concatKdf(secret, bits, value) {\n    const iterations = Math.ceil((bits >> 3) / 32);\n    const res = new Uint8Array(iterations * 32);\n    for (let iter = 0; iter < iterations; iter++) {\n        const buf = new Uint8Array(4 + secret.length + value.length);\n        buf.set(uint32be(iter + 1));\n        buf.set(secret, 4);\n        buf.set(value, 4 + secret.length);\n        res.set(await digest('sha256', buf), iter * 32);\n    }\n    return res.slice(0, bits >> 3);\n}\n", "import { encoder, decoder } from '../lib/buffer_utils.js';\nexport const encodeBase64 = (input) => {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < unencoded.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, unencoded.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n};\nexport const encode = (input) => {\n    return encodeBase64(input).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n};\nexport const decodeBase64 = (encoded) => {\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n};\nexport const decode = (input) => {\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, '');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n};\n", "export class JOSEError extends Error {\n    static get code() {\n        return 'ERR_JOSE_GENERIC';\n    }\n    constructor(message) {\n        super(message);\n        this.code = 'ERR_JOSE_GENERIC';\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class JWTClaimValidationFailed extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexport class JWTExpired extends JOSEError {\n    static get code() {\n        return 'ERR_JWT_EXPIRED';\n    }\n    constructor(message, claim = 'unspecified', reason = 'unspecified') {\n        super(message);\n        this.code = 'ERR_JWT_EXPIRED';\n        this.claim = claim;\n        this.reason = reason;\n    }\n}\nexport class JOSEAlgNotAllowed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n    static get code() {\n        return 'ERR_JOSE_ALG_NOT_ALLOWED';\n    }\n}\nexport class JOSENotSupported extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JOSE_NOT_SUPPORTED';\n    }\n    static get code() {\n        return 'ERR_JOSE_NOT_SUPPORTED';\n    }\n}\nexport class JWEDecryptionFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_DECRYPTION_FAILED';\n        this.message = 'decryption operation failed';\n    }\n    static get code() {\n        return 'ERR_JWE_DECRYPTION_FAILED';\n    }\n}\nexport class JWEInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWE_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWE_INVALID';\n    }\n}\nexport class JWSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWS_INVALID';\n    }\n}\nexport class JWTInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWT_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWT_INVALID';\n    }\n}\nexport class JWKInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWK_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWK_INVALID';\n    }\n}\nexport class JWKSInvalid extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_INVALID';\n    }\n    static get code() {\n        return 'ERR_JWKS_INVALID';\n    }\n}\nexport class JWKSNoMatchingKey extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_NO_MATCHING_KEY';\n        this.message = 'no applicable key found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_NO_MATCHING_KEY';\n    }\n}\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n        this.message = 'multiple matching keys found in the JSON Web Key Set';\n    }\n    static get code() {\n        return 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    }\n}\nSymbol.asyncIterator;\nexport class JWKSTimeout extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWKS_TIMEOUT';\n        this.message = 'request timed out';\n    }\n    static get code() {\n        return 'ERR_JWKS_TIMEOUT';\n    }\n}\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    constructor() {\n        super(...arguments);\n        this.code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n        this.message = 'signature verification failed';\n    }\n    static get code() {\n        return 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    }\n}\n", "import crypto from './webcrypto.js';\nexport default crypto.getRandomValues.bind(crypto);\n", "import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A128GCMKW':\n        case 'A192GCM':\n        case 'A192GCMKW':\n        case 'A256GCM':\n        case 'A256GCMKW':\n            return 96;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            return 128;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n", "import { JWEInvalid } from '../util/errors.js';\nimport { bitLength } from './iv.js';\nconst checkIvLength = (enc, iv) => {\n    if (iv.length << 3 !== bitLength(enc)) {\n        throw new JWEInvalid('Invalid Initialization Vector length');\n    }\n};\nexport default checkIvLength;\n", "import { JWEInvalid } from '../util/errors.js';\nconst checkCekLength = (cek, expected) => {\n    const actual = cek.byteLength << 3;\n    if (actual !== expected) {\n        throw new JWEInvalid(`Invalid Content Encryption Key length. Expected ${expected} bits, got ${actual} bits`);\n    }\n};\nexport default checkCekLength;\n", "const timingSafeEqual = (a, b) => {\n    if (!(a instanceof Uint8Array)) {\n        throw new TypeError('First argument must be a buffer');\n    }\n    if (!(b instanceof Uint8Array)) {\n        throw new TypeError('Second argument must be a buffer');\n    }\n    if (a.length !== b.length) {\n        throw new TypeError('Input buffers must have the same length');\n    }\n    const len = a.length;\n    let out = 0;\n    let i = -1;\n    while (++i < len) {\n        out |= a[i] ^ b[i];\n    }\n    return out === 0;\n};\nexport default timingSafeEqual;\n", "function unusable(name, prop = 'algorithm.name') {\n    return new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\n}\nfunction isAlgorithm(algorithm, name) {\n    return algorithm.name === name;\n}\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usages) {\n    if (usages.length && !usages.some((expected) => key.usages.includes(expected))) {\n        let msg = 'CryptoKey does not support this operation, its usages must include ';\n        if (usages.length > 2) {\n            const last = usages.pop();\n            msg += `one of ${usages.join(', ')}, or ${last}.`;\n        }\n        else if (usages.length === 2) {\n            msg += `one of ${usages[0]} or ${usages[1]}.`;\n        }\n        else {\n            msg += `${usages[0]}.`;\n        }\n        throw new TypeError(msg);\n    }\n}\nexport function checkSigCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'EdDSA': {\n            if (key.algorithm.name !== 'Ed25519' && key.algorithm.name !== 'Ed448') {\n                throw unusable('Ed25519 or Ed448');\n            }\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\nexport function checkEncCryptoKey(key, alg, ...usages) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                case 'X448':\n                    break;\n                default:\n                    throw unusable('ECDH, X25519, or X448');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usages);\n}\n", "function message(msg, actual, ...types) {\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport default (actual, ...types) => {\n    return message('Key must be ', actual, ...types);\n};\nexport function withAlg(alg, actual, ...types) {\n    return message(`Key for the ${alg} algorithm must be `, actual, ...types);\n}\n", "import { isCryptoKey } from './webcrypto.js';\nexport default (key) => {\n    return isCryptoKey(key);\n};\nexport const types = ['CryptoKey'];\n", "import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport timingSafeEqual from './timing_safe_equal.js';\nimport { JOSENotSupported, JWEDecryptionFailed, JWEInvalid } from '../util/errors.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nasync function cbcDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['decrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const expectedTag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    let macCheckPassed;\n    try {\n        macCheckPassed = timingSafeEqual(tag, expectedTag);\n    }\n    catch {\n    }\n    if (!macCheckPassed) {\n        throw new JWEDecryptionFailed();\n    }\n    let plaintext;\n    try {\n        plaintext = new Uint8Array(await crypto.subtle.decrypt({ iv, name: 'AES-CBC' }, encKey, ciphertext));\n    }\n    catch {\n    }\n    if (!plaintext) {\n        throw new JWEDecryptionFailed();\n    }\n    return plaintext;\n}\nasync function gcmDecrypt(enc, cek, ciphertext, iv, tag, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['decrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'decrypt');\n        encKey = cek;\n    }\n    try {\n        return new Uint8Array(await crypto.subtle.decrypt({\n            additionalData: aad,\n            iv,\n            name: 'AES-GCM',\n            tagLength: 128,\n        }, encKey, concat(ciphertext, tag)));\n    }\n    catch {\n        throw new JWEDecryptionFailed();\n    }\n}\nconst decrypt = async (enc, cek, ciphertext, iv, tag, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    if (!iv) {\n        throw new JWEInvalid('JWE Initialization Vector missing');\n    }\n    if (!tag) {\n        throw new JWEInvalid('JWE Authentication Tag missing');\n    }\n    checkIvLength(enc, iv);\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(-3), 10));\n            return cbcDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array)\n                checkCekLength(cek, parseInt(enc.slice(1, 4), 10));\n            return gcmDecrypt(enc, cek, ciphertext, iv, tag, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default decrypt;\n", "const isDisjoint = (...headers) => {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n};\nexport default isDisjoint;\n", "function isObjectLike(value) {\n    return typeof value === 'object' && value !== null;\n}\nexport default function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n", "const bogusWebCrypto = [\n    { hash: 'SHA-256', name: 'HMAC' },\n    true,\n    ['sign'],\n];\nexport default bogusWebCrypto;\n", "import bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction checkKeySize(key, alg) {\n    if (key.algorithm.length !== parseInt(alg.slice(1, 4), 10)) {\n        throw new TypeError(`Invalid key size for alg: ${alg}`);\n    }\n}\nfunction getCryptoKey(key, alg, usage) {\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'AES-KW', true, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nexport const wrap = async (alg, key, cek) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'wrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, cryptoKey, 'AES-KW'));\n};\nexport const unwrap = async (alg, key, encryptedKey) => {\n    const cryptoKey = await getCryptoKey(key, alg, 'unwrapKey');\n    checkKeySize(cryptoKey, alg);\n    const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, cryptoKey, 'AES-KW', ...bogusWebCrypto);\n    return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n};\n", "import { encoder, concat, uint32be, lengthAndInput, concatKdf } from '../lib/buffer_utils.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport async function deriveKey(publicKey, privateKey, algorithm, keyLength, apu = new Uint8Array(0), apv = new Uint8Array(0)) {\n    if (!isCryptoKey(publicKey)) {\n        throw new TypeError(invalidKeyInput(publicKey, ...types));\n    }\n    checkEncCryptoKey(publicKey, 'ECDH');\n    if (!isCryptoKey(privateKey)) {\n        throw new TypeError(invalidKeyInput(privateKey, ...types));\n    }\n    checkEncCryptoKey(privateKey, 'ECDH', 'deriveBits');\n    const value = concat(lengthAndInput(encoder.encode(algorithm)), lengthAndInput(apu), lengthAndInput(apv), uint32be(keyLength));\n    let length;\n    if (publicKey.algorithm.name === 'X25519') {\n        length = 256;\n    }\n    else if (publicKey.algorithm.name === 'X448') {\n        length = 448;\n    }\n    else {\n        length =\n            Math.ceil(parseInt(publicKey.algorithm.namedCurve.substr(-3), 10) / 8) << 3;\n    }\n    const sharedSecret = new Uint8Array(await crypto.subtle.deriveBits({\n        name: publicKey.algorithm.name,\n        public: publicKey,\n    }, privateKey, length));\n    return concatKdf(sharedSecret, keyLength, value);\n}\nexport async function generateEpk(key) {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return crypto.subtle.generateKey(key.algorithm, true, ['deriveBits']);\n}\nexport function ecdhAllowed(key) {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    return (['P-256', 'P-384', 'P-521'].includes(key.algorithm.namedCurve) ||\n        key.algorithm.name === 'X25519' ||\n        key.algorithm.name === 'X448');\n}\n", "import { JWEInvalid } from '../util/errors.js';\nexport default function checkP2s(p2s) {\n    if (!(p2s instanceof Uint8Array) || p2s.length < 8) {\n        throw new JWEInvalid('PBES2 Salt Input must be 8 or more octets');\n    }\n}\n", "import random from './random.js';\nimport { p2s as concatSalt } from '../lib/buffer_utils.js';\nimport { encode as base64url } from './base64url.js';\nimport { wrap, unwrap } from './aeskw.js';\nimport checkP2s from '../lib/check_p2s.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nfunction getCryptoKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return crypto.subtle.importKey('raw', key, 'PBKDF2', false, ['deriveBits']);\n    }\n    if (isCryptoKey(key)) {\n        checkEncCryptoKey(key, alg, 'deriveBits', 'deriveKey');\n        return key;\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\nasync function deriveKey(p2s, alg, p2c, key) {\n    checkP2s(p2s);\n    const salt = concatSalt(alg, p2s);\n    const keylen = parseInt(alg.slice(13, 16), 10);\n    const subtleAlg = {\n        hash: `SHA-${alg.slice(8, 11)}`,\n        iterations: p2c,\n        name: 'PBKDF2',\n        salt,\n    };\n    const wrapAlg = {\n        length: keylen,\n        name: 'AES-KW',\n    };\n    const cryptoKey = await getCryptoKey(key, alg);\n    if (cryptoKey.usages.includes('deriveBits')) {\n        return new Uint8Array(await crypto.subtle.deriveBits(subtleAlg, cryptoKey, keylen));\n    }\n    if (cryptoKey.usages.includes('deriveKey')) {\n        return crypto.subtle.deriveKey(subtleAlg, cryptoKey, wrapAlg, false, ['wrapKey', 'unwrapKey']);\n    }\n    throw new TypeError('PBKDF2 key \"usages\" must include \"deriveBits\" or \"deriveKey\"');\n}\nexport const encrypt = async (alg, key, cek, p2c = 2048, p2s = random(new Uint8Array(16))) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    const encryptedKey = await wrap(alg.slice(-6), derived, cek);\n    return { encryptedKey, p2c, p2s: base64url(p2s) };\n};\nexport const decrypt = async (alg, key, encryptedKey, p2c, p2s) => {\n    const derived = await deriveKey(p2s, alg, p2c, key);\n    return unwrap(alg.slice(-6), derived, encryptedKey);\n};\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleRsaEs(alg) {\n    switch (alg) {\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            return 'RSA-OAEP';\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "export default (alg, key) => {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n};\n", "import subtleAlgorithm from './subtle_rsaes.js';\nimport bogusWebCrypto from './bogus.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport checkKeyLength from './check_key_length.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport const encrypt = async (alg, key, cek) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'encrypt', 'wrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('encrypt')) {\n        return new Uint8Array(await crypto.subtle.encrypt(subtleAlgorithm(alg), key, cek));\n    }\n    if (key.usages.includes('wrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.importKey('raw', cek, ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.wrapKey('raw', cryptoKeyCek, key, subtleAlgorithm(alg)));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"encrypt\" or \"wrapKey\" for this operation');\n};\nexport const decrypt = async (alg, key, encryptedKey) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    checkEncCryptoKey(key, alg, 'decrypt', 'unwrapKey');\n    checkKeyLength(alg, key);\n    if (key.usages.includes('decrypt')) {\n        return new Uint8Array(await crypto.subtle.decrypt(subtleAlgorithm(alg), key, encryptedKey));\n    }\n    if (key.usages.includes('unwrapKey')) {\n        const cryptoKeyCek = await crypto.subtle.unwrapKey('raw', encryptedKey, key, subtleAlgorithm(alg), ...bogusWebCrypto);\n        return new Uint8Array(await crypto.subtle.exportKey('raw', cryptoKeyCek));\n    }\n    throw new TypeError('RSA-OAEP key \"usages\" must include \"decrypt\" or \"unwrapKey\" for this operation');\n};\n", "import { JOSENotSupported } from '../util/errors.js';\nimport random from '../runtime/random.js';\nexport function bitLength(alg) {\n    switch (alg) {\n        case 'A128GCM':\n            return 128;\n        case 'A192GCM':\n            return 192;\n        case 'A256GCM':\n        case 'A128CBC-HS256':\n            return 256;\n        case 'A192CBC-HS384':\n            return 384;\n        case 'A256CBC-HS512':\n            return 512;\n        default:\n            throw new JOSENotSupported(`Unsupported JWE Algorithm: ${alg}`);\n    }\n}\nexport default (alg) => random(new Uint8Array(bitLength(alg) >> 3));\n", "export default (b64, descriptor) => {\n    const newlined = (b64.match(/.{1,64}/g) || []).join('\\n');\n    return `-----BEGIN ${descriptor}-----\\n${newlined}\\n-----END ${descriptor}-----`;\n};\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encodeBase64, decodeBase64 } from './base64url.js';\nimport formatPEM from '../lib/format_pem.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { types } from './is_key_like.js';\nconst genericExport = async (keyType, keyFormat, key) => {\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types));\n    }\n    if (!key.extractable) {\n        throw new TypeError('CryptoKey is not extractable');\n    }\n    if (key.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return formatPEM(encodeBase64(new Uint8Array(await crypto.subtle.exportKey(keyFormat, key))), `${keyType.toUpperCase()} KEY`);\n};\nexport const toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nexport const toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nconst findOid = (keyData, oid, from = 0) => {\n    if (from === 0) {\n        oid.unshift(oid.length);\n        oid.unshift(0x06);\n    }\n    const i = keyData.indexOf(oid[0], from);\n    if (i === -1)\n        return false;\n    const sub = keyData.subarray(i, i + oid.length);\n    if (sub.length !== oid.length)\n        return false;\n    return sub.every((value, index) => value === oid[index]) || findOid(keyData, oid, i + 1);\n};\nconst getNamedCurve = (keyData) => {\n    switch (true) {\n        case findOid(keyData, [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03, 0x01, 0x07]):\n            return 'P-256';\n        case findOid(keyData, [0x2b, 0x81, 0x04, 0x00, 0x22]):\n            return 'P-384';\n        case findOid(keyData, [0x2b, 0x81, 0x04, 0x00, 0x23]):\n            return 'P-521';\n        case findOid(keyData, [0x2b, 0x65, 0x6e]):\n            return 'X25519';\n        case findOid(keyData, [0x2b, 0x65, 0x6f]):\n            return 'X448';\n        case findOid(keyData, [0x2b, 0x65, 0x70]):\n            return 'Ed25519';\n        case findOid(keyData, [0x2b, 0x65, 0x71]):\n            return 'Ed448';\n        default:\n            throw new JOSENotSupported('Invalid or unsupported EC Key Curve or OKP Key Sub Type');\n    }\n};\nconst genericImport = async (replace, keyFormat, pem, alg, options) => {\n    let algorithm;\n    let keyUsages;\n    const keyData = new Uint8Array(atob(pem.replace(replace, ''))\n        .split('')\n        .map((c) => c.charCodeAt(0)));\n    const isPublic = keyFormat === 'spki';\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n            };\n            keyUsages = isPublic ? ['encrypt', 'wrapKey'] : ['decrypt', 'unwrapKey'];\n            break;\n        case 'ES256':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'ES384':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'ES512':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            const namedCurve = getNamedCurve(keyData);\n            algorithm = namedCurve.startsWith('P-') ? { name: 'ECDH', namedCurve } : { name: namedCurve };\n            keyUsages = isPublic ? [] : ['deriveBits'];\n            break;\n        }\n        case 'EdDSA':\n            algorithm = { name: getNamedCurve(keyData) };\n            keyUsages = isPublic ? ['verify'] : ['sign'];\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (Algorithm) value');\n    }\n    return crypto.subtle.importKey(keyFormat, keyData, algorithm, options?.extractable ?? false, keyUsages);\n};\nexport const fromPKCS8 = (pem, alg, options) => {\n    return genericImport(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g, 'pkcs8', pem, alg, options);\n};\nexport const fromSPKI = (pem, alg, options) => {\n    return genericImport(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g, 'spki', pem, alg, options);\n};\nfunction getElement(seq) {\n    const result = [];\n    let next = 0;\n    while (next < seq.length) {\n        const nextPart = parseElement(seq.subarray(next));\n        result.push(nextPart);\n        next += nextPart.byteLength;\n    }\n    return result;\n}\nfunction parseElement(bytes) {\n    let position = 0;\n    let tag = bytes[0] & 0x1f;\n    position++;\n    if (tag === 0x1f) {\n        tag = 0;\n        while (bytes[position] >= 0x80) {\n            tag = tag * 128 + bytes[position] - 0x80;\n            position++;\n        }\n        tag = tag * 128 + bytes[position] - 0x80;\n        position++;\n    }\n    let length = 0;\n    if (bytes[position] < 0x80) {\n        length = bytes[position];\n        position++;\n    }\n    else if (length === 0x80) {\n        length = 0;\n        while (bytes[position + length] !== 0 || bytes[position + length + 1] !== 0) {\n            if (length > bytes.byteLength) {\n                throw new TypeError('invalid indefinite form length');\n            }\n            length++;\n        }\n        const byteLength = position + length + 2;\n        return {\n            byteLength,\n            contents: bytes.subarray(position, position + length),\n            raw: bytes.subarray(0, byteLength),\n        };\n    }\n    else {\n        const numberOfDigits = bytes[position] & 0x7f;\n        position++;\n        length = 0;\n        for (let i = 0; i < numberOfDigits; i++) {\n            length = length * 256 + bytes[position];\n            position++;\n        }\n    }\n    const byteLength = position + length;\n    return {\n        byteLength,\n        contents: bytes.subarray(position, byteLength),\n        raw: bytes.subarray(0, byteLength),\n    };\n}\nfunction spkiFromX509(buf) {\n    const tbsCertificate = getElement(getElement(parseElement(buf).contents)[0].contents);\n    return encodeBase64(tbsCertificate[tbsCertificate[0].raw[0] === 0xa0 ? 6 : 5].raw);\n}\nfunction getSPKI(x509) {\n    const pem = x509.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\\s)/g, '');\n    const raw = decodeBase64(pem);\n    return formatPEM(spkiFromX509(raw), 'PUBLIC KEY');\n}\nexport const fromX509 = (pem, alg, options) => {\n    let spki;\n    try {\n        spki = getSPKI(pem);\n    }\n    catch (cause) {\n        throw new TypeError('Failed to parse the X.509 certificate', { cause });\n    }\n    return fromSPKI(spki, alg, options);\n};\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'EdDSA':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nconst parse = async (jwk) => {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const rest = [\n        algorithm,\n        jwk.ext ?? false,\n        jwk.key_ops ?? keyUsages,\n    ];\n    const keyData = { ...jwk };\n    delete keyData.alg;\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, ...rest);\n};\nexport default parse;\n", "import { decode as decodeBase64URL } from '../runtime/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../runtime/asn1.js';\nimport asKeyObject from '../runtime/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    alg || (alg = jwk.alg);\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if (jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n        case 'EC':\n        case 'OKP':\n            return asKeyObject({ ...jwk, alg });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n", "import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport isKeyLike, { types } from '../runtime/is_key_like.js';\nconst symmetricTypeCheck = (alg, key) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types, 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${types.join(' or ')} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, ...types));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (usage === 'sign' && key.type === 'public') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm signing must be of type \"private\"`);\n    }\n    if (usage === 'decrypt' && key.type === 'public') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm decryption must be of type \"private\"`);\n    }\n    if (key.algorithm && usage === 'verify' && key.type === 'private') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm verifying must be of type \"public\"`);\n    }\n    if (key.algorithm && usage === 'encrypt' && key.type === 'private') {\n        throw new TypeError(`${types.join(' or ')} instances for asymmetric algorithm encryption must be of type \"public\"`);\n    }\n};\nconst checkKeyType = (alg, key, usage) => {\n    const symmetric = alg.startsWith('HS') ||\n        alg === 'dir' ||\n        alg.startsWith('PBES2') ||\n        /^A\\d{3}(?:GCM)?KW$/.test(alg);\n    if (symmetric) {\n        symmetricTypeCheck(alg, key);\n    }\n    else {\n        asymmetricTypeCheck(alg, key, usage);\n    }\n};\nexport default checkKeyType;\n", "import { concat, uint64be } from '../lib/buffer_utils.js';\nimport checkIvLength from '../lib/check_iv_length.js';\nimport checkCekLength from './check_cek_length.js';\nimport crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkEncCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport generateIv from '../lib/iv.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { types } from './is_key_like.js';\nasync function cbcEncrypt(enc, plaintext, cek, iv, aad) {\n    if (!(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, 'Uint8Array'));\n    }\n    const keySize = parseInt(enc.slice(1, 4), 10);\n    const encKey = await crypto.subtle.importKey('raw', cek.subarray(keySize >> 3), 'AES-CBC', false, ['encrypt']);\n    const macKey = await crypto.subtle.importKey('raw', cek.subarray(0, keySize >> 3), {\n        hash: `SHA-${keySize << 1}`,\n        name: 'HMAC',\n    }, false, ['sign']);\n    const ciphertext = new Uint8Array(await crypto.subtle.encrypt({\n        iv,\n        name: 'AES-CBC',\n    }, encKey, plaintext));\n    const macData = concat(aad, iv, ciphertext, uint64be(aad.length << 3));\n    const tag = new Uint8Array((await crypto.subtle.sign('HMAC', macKey, macData)).slice(0, keySize >> 3));\n    return { ciphertext, tag, iv };\n}\nasync function gcmEncrypt(enc, plaintext, cek, iv, aad) {\n    let encKey;\n    if (cek instanceof Uint8Array) {\n        encKey = await crypto.subtle.importKey('raw', cek, 'AES-GCM', false, ['encrypt']);\n    }\n    else {\n        checkEncCryptoKey(cek, enc, 'encrypt');\n        encKey = cek;\n    }\n    const encrypted = new Uint8Array(await crypto.subtle.encrypt({\n        additionalData: aad,\n        iv,\n        name: 'AES-GCM',\n        tagLength: 128,\n    }, encKey, plaintext));\n    const tag = encrypted.slice(-16);\n    const ciphertext = encrypted.slice(0, -16);\n    return { ciphertext, tag, iv };\n}\nconst encrypt = async (enc, plaintext, cek, iv, aad) => {\n    if (!isCryptoKey(cek) && !(cek instanceof Uint8Array)) {\n        throw new TypeError(invalidKeyInput(cek, ...types, 'Uint8Array'));\n    }\n    if (iv) {\n        checkIvLength(enc, iv);\n    }\n    else {\n        iv = generateIv(enc);\n    }\n    switch (enc) {\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            if (cek instanceof Uint8Array) {\n                checkCekLength(cek, parseInt(enc.slice(-3), 10));\n            }\n            return cbcEncrypt(enc, plaintext, cek, iv, aad);\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            if (cek instanceof Uint8Array) {\n                checkCekLength(cek, parseInt(enc.slice(1, 4), 10));\n            }\n            return gcmEncrypt(enc, plaintext, cek, iv, aad);\n        default:\n            throw new JOSENotSupported('Unsupported JWE Content Encryption Algorithm');\n    }\n};\nexport default encrypt;\n", "import encrypt from '../runtime/encrypt.js';\nimport decrypt from '../runtime/decrypt.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nexport async function wrap(alg, key, cek, iv) {\n    const jweAlgorithm = alg.slice(0, 7);\n    const wrapped = await encrypt(jweAlgorithm, cek, key, iv, new Uint8Array(0));\n    return {\n        encryptedKey: wrapped.ciphertext,\n        iv: base64url(wrapped.iv),\n        tag: base64url(wrapped.tag),\n    };\n}\nexport async function unwrap(alg, key, encryptedKey, iv, tag) {\n    const jweAlgorithm = alg.slice(0, 7);\n    return decrypt(jweAlgorithm, key, encryptedKey, iv, tag, new Uint8Array(0));\n}\n", "import { unwrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { decrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { decrypt as rsaEs } from '../runtime/rsaes.js';\nimport { decode as base64url } from '../runtime/base64url.js';\nimport { JOSENotSupported, JWEInvalid } from '../util/errors.js';\nimport { bitLength as cekLength } from '../lib/cek.js';\nimport { importJWK } from '../key/import.js';\nimport checkKeyType from './check_key_type.js';\nimport isObject from './is_object.js';\nimport { unwrap as aesGcmKw } from './aesgcmkw.js';\nasync function decryptKeyManagement(alg, key, encryptedKey, joseHeader, options) {\n    checkKeyType(alg, key, 'decrypt');\n    switch (alg) {\n        case 'dir': {\n            if (encryptedKey !== undefined)\n                throw new JWEInvalid('Encountered unexpected JWE Encrypted Key');\n            return key;\n        }\n        case 'ECDH-ES':\n            if (encryptedKey !== undefined)\n                throw new JWEInvalid('Encountered unexpected JWE Encrypted Key');\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!isObject(joseHeader.epk))\n                throw new JWEInvalid(`JOSE Header \"epk\" (Ephemeral Public Key) missing or invalid`);\n            if (!ECDH.ecdhAllowed(key))\n                throw new JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            const epk = await importJWK(joseHeader.epk, alg);\n            let partyUInfo;\n            let partyVInfo;\n            if (joseHeader.apu !== undefined) {\n                if (typeof joseHeader.apu !== 'string')\n                    throw new JWEInvalid(`JOSE Header \"apu\" (Agreement PartyUInfo) invalid`);\n                try {\n                    partyUInfo = base64url(joseHeader.apu);\n                }\n                catch {\n                    throw new JWEInvalid('Failed to base64url decode the apu');\n                }\n            }\n            if (joseHeader.apv !== undefined) {\n                if (typeof joseHeader.apv !== 'string')\n                    throw new JWEInvalid(`JOSE Header \"apv\" (Agreement PartyVInfo) invalid`);\n                try {\n                    partyVInfo = base64url(joseHeader.apv);\n                }\n                catch {\n                    throw new JWEInvalid('Failed to base64url decode the apv');\n                }\n            }\n            const sharedSecret = await ECDH.deriveKey(epk, key, alg === 'ECDH-ES' ? joseHeader.enc : alg, alg === 'ECDH-ES' ? cekLength(joseHeader.enc) : parseInt(alg.slice(-5, -2), 10), partyUInfo, partyVInfo);\n            if (alg === 'ECDH-ES')\n                return sharedSecret;\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return aesKw(alg.slice(-6), sharedSecret, encryptedKey);\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return rsaEs(alg, key, encryptedKey);\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.p2c !== 'number')\n                throw new JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) missing or invalid`);\n            const p2cLimit = options?.maxPBES2Count || 10000;\n            if (joseHeader.p2c > p2cLimit)\n                throw new JWEInvalid(`JOSE Header \"p2c\" (PBES2 Count) out is of acceptable bounds`);\n            if (typeof joseHeader.p2s !== 'string')\n                throw new JWEInvalid(`JOSE Header \"p2s\" (PBES2 Salt) missing or invalid`);\n            let p2s;\n            try {\n                p2s = base64url(joseHeader.p2s);\n            }\n            catch {\n                throw new JWEInvalid('Failed to base64url decode the p2s');\n            }\n            return pbes2Kw(alg, key, encryptedKey, joseHeader.p2c, p2s);\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            return aesKw(alg, key, encryptedKey);\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            if (encryptedKey === undefined)\n                throw new JWEInvalid('JWE Encrypted Key missing');\n            if (typeof joseHeader.iv !== 'string')\n                throw new JWEInvalid(`JOSE Header \"iv\" (Initialization Vector) missing or invalid`);\n            if (typeof joseHeader.tag !== 'string')\n                throw new JWEInvalid(`JOSE Header \"tag\" (Authentication Tag) missing or invalid`);\n            let iv;\n            try {\n                iv = base64url(joseHeader.iv);\n            }\n            catch {\n                throw new JWEInvalid('Failed to base64url decode the iv');\n            }\n            let tag;\n            try {\n                tag = base64url(joseHeader.tag);\n            }\n            catch {\n                throw new JWEInvalid('Failed to base64url decode the tag');\n            }\n            return aesGcmKw(alg, key, encryptedKey, iv, tag);\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n}\nexport default decryptKeyManagement;\n", "import { JOSENotSupported } from '../util/errors.js';\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\nexport default validateCrit;\n", "const validateAlgorithms = (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\nexport default validateAlgorithms;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport decrypt from '../../runtime/decrypt.js';\nimport { JOSEAlgNotAllowed, JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport decryptKeyManagement from '../../lib/decrypt_key_management.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport generateCek from '../../lib/cek.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nexport async function flattenedDecrypt(jwe, key, options) {\n    if (!isObject(jwe)) {\n        throw new JWEInvalid('Flattened JWE must be an object');\n    }\n    if (jwe.protected === undefined && jwe.header === undefined && jwe.unprotected === undefined) {\n        throw new JWEInvalid('JOSE Header missing');\n    }\n    if (jwe.iv !== undefined && typeof jwe.iv !== 'string') {\n        throw new JWEInvalid('JWE Initialization Vector incorrect type');\n    }\n    if (typeof jwe.ciphertext !== 'string') {\n        throw new JWEInvalid('JWE Ciphertext missing or incorrect type');\n    }\n    if (jwe.tag !== undefined && typeof jwe.tag !== 'string') {\n        throw new JWEInvalid('JWE Authentication Tag incorrect type');\n    }\n    if (jwe.protected !== undefined && typeof jwe.protected !== 'string') {\n        throw new JWEInvalid('JWE Protected Header incorrect type');\n    }\n    if (jwe.encrypted_key !== undefined && typeof jwe.encrypted_key !== 'string') {\n        throw new JWEInvalid('JWE Encrypted Key incorrect type');\n    }\n    if (jwe.aad !== undefined && typeof jwe.aad !== 'string') {\n        throw new JWEInvalid('JWE AAD incorrect type');\n    }\n    if (jwe.header !== undefined && !isObject(jwe.header)) {\n        throw new JWEInvalid('JWE Shared Unprotected Header incorrect type');\n    }\n    if (jwe.unprotected !== undefined && !isObject(jwe.unprotected)) {\n        throw new JWEInvalid('JWE Per-Recipient Unprotected Header incorrect type');\n    }\n    let parsedProt;\n    if (jwe.protected) {\n        try {\n            const protectedHeader = base64url(jwe.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWEInvalid('JWE Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jwe.header, jwe.unprotected)) {\n        throw new JWEInvalid('JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jwe.header,\n        ...jwe.unprotected,\n    };\n    validateCrit(JWEInvalid, new Map(), options?.crit, parsedProt, joseHeader);\n    if (joseHeader.zip !== undefined) {\n        throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n    }\n    const { alg, enc } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWEInvalid('missing JWE Algorithm (alg) in JWE Header');\n    }\n    if (typeof enc !== 'string' || !enc) {\n        throw new JWEInvalid('missing JWE Encryption Algorithm (enc) in JWE Header');\n    }\n    const keyManagementAlgorithms = options && validateAlgorithms('keyManagementAlgorithms', options.keyManagementAlgorithms);\n    const contentEncryptionAlgorithms = options &&\n        validateAlgorithms('contentEncryptionAlgorithms', options.contentEncryptionAlgorithms);\n    if ((keyManagementAlgorithms && !keyManagementAlgorithms.has(alg)) ||\n        (!keyManagementAlgorithms && alg.startsWith('PBES2'))) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (contentEncryptionAlgorithms && !contentEncryptionAlgorithms.has(enc)) {\n        throw new JOSEAlgNotAllowed('\"enc\" (Encryption Algorithm) Header Parameter value not allowed');\n    }\n    let encryptedKey;\n    if (jwe.encrypted_key !== undefined) {\n        try {\n            encryptedKey = base64url(jwe.encrypted_key);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the encrypted_key');\n        }\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jwe);\n        resolvedKey = true;\n    }\n    let cek;\n    try {\n        cek = await decryptKeyManagement(alg, key, encryptedKey, joseHeader, options);\n    }\n    catch (err) {\n        if (err instanceof TypeError || err instanceof JWEInvalid || err instanceof JOSENotSupported) {\n            throw err;\n        }\n        cek = generateCek(enc);\n    }\n    let iv;\n    let tag;\n    if (jwe.iv !== undefined) {\n        try {\n            iv = base64url(jwe.iv);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the iv');\n        }\n    }\n    if (jwe.tag !== undefined) {\n        try {\n            tag = base64url(jwe.tag);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the tag');\n        }\n    }\n    const protectedHeader = encoder.encode(jwe.protected ?? '');\n    let additionalData;\n    if (jwe.aad !== undefined) {\n        additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(jwe.aad));\n    }\n    else {\n        additionalData = protectedHeader;\n    }\n    let ciphertext;\n    try {\n        ciphertext = base64url(jwe.ciphertext);\n    }\n    catch {\n        throw new JWEInvalid('Failed to base64url decode the ciphertext');\n    }\n    const plaintext = await decrypt(enc, cek, ciphertext, iv, tag, additionalData);\n    const result = { plaintext };\n    if (jwe.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jwe.aad !== undefined) {\n        try {\n            result.additionalAuthenticatedData = base64url(jwe.aad);\n        }\n        catch {\n            throw new JWEInvalid('Failed to base64url decode the aad');\n        }\n    }\n    if (jwe.unprotected !== undefined) {\n        result.sharedUnprotectedHeader = jwe.unprotected;\n    }\n    if (jwe.header !== undefined) {\n        result.unprotectedHeader = jwe.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactDecrypt(jwe, key, options) {\n    if (jwe instanceof Uint8Array) {\n        jwe = decoder.decode(jwe);\n    }\n    if (typeof jwe !== 'string') {\n        throw new JWEInvalid('Compact JWE must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: encryptedKey, 2: iv, 3: ciphertext, 4: tag, length, } = jwe.split('.');\n    if (length !== 5) {\n        throw new JWEInvalid('Invalid Compact JWE');\n    }\n    const decrypted = await flattenedDecrypt({\n        ciphertext,\n        iv: iv || undefined,\n        protected: protectedHeader,\n        tag: tag || undefined,\n        encrypted_key: encryptedKey || undefined,\n    }, key, options);\n    const result = { plaintext: decrypted.plaintext, protectedHeader: decrypted.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n", "import { flattenedDecrypt } from '../flattened/decrypt.js';\nimport { JWEDecryptionFailed, JWEInvalid } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport async function generalDecrypt(jwe, key, options) {\n    if (!isObject(jwe)) {\n        throw new JWEInvalid('General JWE must be an object');\n    }\n    if (!Array.isArray(jwe.recipients) || !jwe.recipients.every(isObject)) {\n        throw new JWEInvalid('JWE Recipients missing or incorrect type');\n    }\n    if (!jwe.recipients.length) {\n        throw new JWEInvalid('JWE Recipients has no members');\n    }\n    for (const recipient of jwe.recipients) {\n        try {\n            return await flattenedDecrypt({\n                aad: jwe.aad,\n                ciphertext: jwe.ciphertext,\n                encrypted_key: recipient.encrypted_key,\n                header: recipient.header,\n                iv: jwe.iv,\n                protected: jwe.protected,\n                tag: jwe.tag,\n                unprotected: jwe.unprotected,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new JWEDecryptionFailed();\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { encode as base64url } from './base64url.js';\nimport { types } from './is_key_like.js';\nconst keyToJWK = async (key) => {\n    if (key instanceof Uint8Array) {\n        return {\n            kty: 'oct',\n            k: base64url(key),\n        };\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('non-extractable CryptoKey cannot be exported as a JWK');\n    }\n    const { ext, key_ops, alg, use, ...jwk } = await crypto.subtle.exportKey('jwk', key);\n    return jwk;\n};\nexport default keyToJWK;\n", "import { toSPKI as exportPublic } from '../runtime/asn1.js';\nimport { toPKCS8 as exportPrivate } from '../runtime/asn1.js';\nimport keyToJWK from '../runtime/key_to_jwk.js';\nexport async function exportSPKI(key) {\n    return exportPublic(key);\n}\nexport async function exportPKCS8(key) {\n    return exportPrivate(key);\n}\nexport async function exportJWK(key) {\n    return keyToJWK(key);\n}\n", "import { wrap as aesKw } from '../runtime/aeskw.js';\nimport * as ECDH from '../runtime/ecdhes.js';\nimport { encrypt as pbes2Kw } from '../runtime/pbes2kw.js';\nimport { encrypt as rsaEs } from '../runtime/rsaes.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport generateCek, { bitLength as cekLength } from '../lib/cek.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { exportJWK } from '../key/export.js';\nimport checkKeyType from './check_key_type.js';\nimport { wrap as aesGcmKw } from './aesgcmkw.js';\nasync function encryptKeyManagement(alg, enc, key, providedCek, providedParameters = {}) {\n    let encryptedKey;\n    let parameters;\n    let cek;\n    checkKeyType(alg, key, 'encrypt');\n    switch (alg) {\n        case 'dir': {\n            cek = key;\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            if (!ECDH.ecdhAllowed(key)) {\n                throw new JOSENotSupported('ECDH with the provided key is not allowed or not supported by your javascript runtime');\n            }\n            const { apu, apv } = providedParameters;\n            let { epk: ephemeralKey } = providedParameters;\n            ephemeralKey || (ephemeralKey = (await ECDH.generateEpk(key)).privateKey);\n            const { x, y, crv, kty } = await exportJWK(ephemeralKey);\n            const sharedSecret = await ECDH.deriveKey(key, ephemeralKey, alg === 'ECDH-ES' ? enc : alg, alg === 'ECDH-ES' ? cekLength(enc) : parseInt(alg.slice(-5, -2), 10), apu, apv);\n            parameters = { epk: { x, crv, kty } };\n            if (kty === 'EC')\n                parameters.epk.y = y;\n            if (apu)\n                parameters.apu = base64url(apu);\n            if (apv)\n                parameters.apv = base64url(apv);\n            if (alg === 'ECDH-ES') {\n                cek = sharedSecret;\n                break;\n            }\n            cek = providedCek || generateCek(enc);\n            const kwAlg = alg.slice(-6);\n            encryptedKey = await aesKw(kwAlg, sharedSecret, cek);\n            break;\n        }\n        case 'RSA1_5':\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await rsaEs(alg, key, cek);\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW': {\n            cek = providedCek || generateCek(enc);\n            const { p2c, p2s } = providedParameters;\n            ({ encryptedKey, ...parameters } = await pbes2Kw(alg, key, cek, p2c, p2s));\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            cek = providedCek || generateCek(enc);\n            encryptedKey = await aesKw(alg, key, cek);\n            break;\n        }\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW': {\n            cek = providedCek || generateCek(enc);\n            const { iv } = providedParameters;\n            ({ encryptedKey, ...parameters } = await aesGcmKw(alg, key, cek, iv));\n            break;\n        }\n        default: {\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (JWE Algorithm) header value');\n        }\n    }\n    return { cek, encryptedKey, parameters };\n}\nexport default encryptKeyManagement;\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport encrypt from '../../runtime/encrypt.js';\nimport encryptKeyManagement from '../../lib/encrypt_key_management.js';\nimport { JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport const unprotected = Symbol();\nexport class FlattenedEncrypt {\n    constructor(plaintext) {\n        if (!(plaintext instanceof Uint8Array)) {\n            throw new TypeError('plaintext must be an instance of Uint8Array');\n        }\n        this._plaintext = plaintext;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._sharedUnprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._sharedUnprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    async encrypt(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader && !this._sharedUnprotectedHeader) {\n            throw new JWEInvalid('either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader, this._sharedUnprotectedHeader)) {\n            throw new JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n            ...this._sharedUnprotectedHeader,\n        };\n        validateCrit(JWEInvalid, new Map(), options?.crit, this._protectedHeader, joseHeader);\n        if (joseHeader.zip !== undefined) {\n            throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n        }\n        const { alg, enc } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        if (typeof enc !== 'string' || !enc) {\n            throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n        }\n        let encryptedKey;\n        if (this._cek && (alg === 'dir' || alg === 'ECDH-ES')) {\n            throw new TypeError(`setContentEncryptionKey cannot be called with JWE \"alg\" (Algorithm) Header ${alg}`);\n        }\n        let cek;\n        {\n            let parameters;\n            ({ cek, encryptedKey, parameters } = await encryptKeyManagement(alg, enc, key, this._cek, this._keyManagementParameters));\n            if (parameters) {\n                if (options && unprotected in options) {\n                    if (!this._unprotectedHeader) {\n                        this.setUnprotectedHeader(parameters);\n                    }\n                    else {\n                        this._unprotectedHeader = { ...this._unprotectedHeader, ...parameters };\n                    }\n                }\n                else {\n                    if (!this._protectedHeader) {\n                        this.setProtectedHeader(parameters);\n                    }\n                    else {\n                        this._protectedHeader = { ...this._protectedHeader, ...parameters };\n                    }\n                }\n            }\n        }\n        let additionalData;\n        let protectedHeader;\n        let aadMember;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        if (this._aad) {\n            aadMember = base64url(this._aad);\n            additionalData = concat(protectedHeader, encoder.encode('.'), encoder.encode(aadMember));\n        }\n        else {\n            additionalData = protectedHeader;\n        }\n        const { ciphertext, tag, iv } = await encrypt(enc, this._plaintext, cek, this._iv, additionalData);\n        const jwe = {\n            ciphertext: base64url(ciphertext),\n        };\n        if (iv) {\n            jwe.iv = base64url(iv);\n        }\n        if (tag) {\n            jwe.tag = base64url(tag);\n        }\n        if (encryptedKey) {\n            jwe.encrypted_key = base64url(encryptedKey);\n        }\n        if (aadMember) {\n            jwe.aad = aadMember;\n        }\n        if (this._protectedHeader) {\n            jwe.protected = decoder.decode(protectedHeader);\n        }\n        if (this._sharedUnprotectedHeader) {\n            jwe.unprotected = this._sharedUnprotectedHeader;\n        }\n        if (this._unprotectedHeader) {\n            jwe.header = this._unprotectedHeader;\n        }\n        return jwe;\n    }\n}\n", "import { FlattenedEncrypt, unprotected } from '../flattened/encrypt.js';\nimport { JOSENotSupported, JWEInvalid } from '../../util/errors.js';\nimport generateCek from '../../lib/cek.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport encryptKeyManagement from '../../lib/encrypt_key_management.js';\nimport { encode as base64url } from '../../runtime/base64url.js';\nimport validateCrit from '../../lib/validate_crit.js';\nclass IndividualRecipient {\n    constructor(enc, key, options) {\n        this.parent = enc;\n        this.key = key;\n        this.options = options;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addRecipient(...args) {\n        return this.parent.addRecipient(...args);\n    }\n    encrypt(...args) {\n        return this.parent.encrypt(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nexport class GeneralEncrypt {\n    constructor(plaintext) {\n        this._recipients = [];\n        this._plaintext = plaintext;\n    }\n    addRecipient(key, options) {\n        const recipient = new IndividualRecipient(this, key, { crit: options?.crit });\n        this._recipients.push(recipient);\n        return recipient;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setSharedUnprotectedHeader(sharedUnprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setSharedUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = sharedUnprotectedHeader;\n        return this;\n    }\n    setAdditionalAuthenticatedData(aad) {\n        this._aad = aad;\n        return this;\n    }\n    async encrypt() {\n        if (!this._recipients.length) {\n            throw new JWEInvalid('at least one recipient must be added');\n        }\n        if (this._recipients.length === 1) {\n            const [recipient] = this._recipients;\n            const flattened = await new FlattenedEncrypt(this._plaintext)\n                .setAdditionalAuthenticatedData(this._aad)\n                .setProtectedHeader(this._protectedHeader)\n                .setSharedUnprotectedHeader(this._unprotectedHeader)\n                .setUnprotectedHeader(recipient.unprotectedHeader)\n                .encrypt(recipient.key, { ...recipient.options });\n            const jwe = {\n                ciphertext: flattened.ciphertext,\n                iv: flattened.iv,\n                recipients: [{}],\n                tag: flattened.tag,\n            };\n            if (flattened.aad)\n                jwe.aad = flattened.aad;\n            if (flattened.protected)\n                jwe.protected = flattened.protected;\n            if (flattened.unprotected)\n                jwe.unprotected = flattened.unprotected;\n            if (flattened.encrypted_key)\n                jwe.recipients[0].encrypted_key = flattened.encrypted_key;\n            if (flattened.header)\n                jwe.recipients[0].header = flattened.header;\n            return jwe;\n        }\n        let enc;\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            if (!isDisjoint(this._protectedHeader, this._unprotectedHeader, recipient.unprotectedHeader)) {\n                throw new JWEInvalid('JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint');\n            }\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const { alg } = joseHeader;\n            if (typeof alg !== 'string' || !alg) {\n                throw new JWEInvalid('JWE \"alg\" (Algorithm) Header Parameter missing or invalid');\n            }\n            if (alg === 'dir' || alg === 'ECDH-ES') {\n                throw new JWEInvalid('\"dir\" and \"ECDH-ES\" alg may only be used with a single recipient');\n            }\n            if (typeof joseHeader.enc !== 'string' || !joseHeader.enc) {\n                throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter missing or invalid');\n            }\n            if (!enc) {\n                enc = joseHeader.enc;\n            }\n            else if (enc !== joseHeader.enc) {\n                throw new JWEInvalid('JWE \"enc\" (Encryption Algorithm) Header Parameter must be the same for all recipients');\n            }\n            validateCrit(JWEInvalid, new Map(), recipient.options.crit, this._protectedHeader, joseHeader);\n            if (joseHeader.zip !== undefined) {\n                throw new JOSENotSupported('JWE \"zip\" (Compression Algorithm) Header Parameter is not supported.');\n            }\n        }\n        const cek = generateCek(enc);\n        const jwe = {\n            ciphertext: '',\n            iv: '',\n            recipients: [],\n            tag: '',\n        };\n        for (let i = 0; i < this._recipients.length; i++) {\n            const recipient = this._recipients[i];\n            const target = {};\n            jwe.recipients.push(target);\n            const joseHeader = {\n                ...this._protectedHeader,\n                ...this._unprotectedHeader,\n                ...recipient.unprotectedHeader,\n            };\n            const p2c = joseHeader.alg.startsWith('PBES2') ? 2048 + i : undefined;\n            if (i === 0) {\n                const flattened = await new FlattenedEncrypt(this._plaintext)\n                    .setAdditionalAuthenticatedData(this._aad)\n                    .setContentEncryptionKey(cek)\n                    .setProtectedHeader(this._protectedHeader)\n                    .setSharedUnprotectedHeader(this._unprotectedHeader)\n                    .setUnprotectedHeader(recipient.unprotectedHeader)\n                    .setKeyManagementParameters({ p2c })\n                    .encrypt(recipient.key, {\n                    ...recipient.options,\n                    [unprotected]: true,\n                });\n                jwe.ciphertext = flattened.ciphertext;\n                jwe.iv = flattened.iv;\n                jwe.tag = flattened.tag;\n                if (flattened.aad)\n                    jwe.aad = flattened.aad;\n                if (flattened.protected)\n                    jwe.protected = flattened.protected;\n                if (flattened.unprotected)\n                    jwe.unprotected = flattened.unprotected;\n                target.encrypted_key = flattened.encrypted_key;\n                if (flattened.header)\n                    target.header = flattened.header;\n                continue;\n            }\n            const { encryptedKey, parameters } = await encryptKeyManagement(recipient.unprotectedHeader?.alg ||\n                this._protectedHeader?.alg ||\n                this._unprotectedHeader?.alg, enc, recipient.key, cek, { p2c });\n            target.encrypted_key = base64url(encryptedKey);\n            if (recipient.unprotectedHeader || parameters)\n                target.header = { ...recipient.unprotectedHeader, ...parameters };\n        }\n        return jwe;\n    }\n}\n", "import { JOSENotSupported } from '../util/errors.js';\nexport default function subtleDsa(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: alg.slice(-3) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'EdDSA':\n            return { name: algorithm.name };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n", "import crypto, { isCryptoKey } from './webcrypto.js';\nimport { checkSigCryptoKey } from '../lib/crypto_key.js';\nimport invalidKeyInput from '../lib/invalid_key_input.js';\nimport { types } from './is_key_like.js';\nexport default function getCryptoKey(alg, key, usage) {\n    if (isCryptoKey(key)) {\n        checkSigCryptoKey(key, alg, usage);\n        return key;\n    }\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, ...types));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    throw new TypeError(invalidKeyInput(key, ...types, 'Uint8Array'));\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getVerifyKey from './get_sign_verify_key.js';\nconst verify = async (alg, key, signature, data) => {\n    const cryptoKey = await getVerifyKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n};\nexport default verify;\n", "import { decode as base64url } from '../../runtime/base64url.js';\nimport verify from '../../runtime/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder } from '../../lib/buffer_utils.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport checkKeyType from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = base64url(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    checkKeyType(alg, key, 'verify');\n    const data = concat(encoder.encode(jws.protected ?? ''), encoder.encode('.'), typeof jws.payload === 'string' ? encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = base64url(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const verified = await verify(alg, key, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = base64url(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key };\n    }\n    return result;\n}\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport isObject from '../../lib/is_object.js';\nexport async function generalVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('General JWS must be an object');\n    }\n    if (!Array.isArray(jws.signatures) || !jws.signatures.every(isObject)) {\n        throw new JWSInvalid('JWS Signatures missing or incorrect type');\n    }\n    for (const signature of jws.signatures) {\n        try {\n            return await flattenedVerify({\n                header: signature.header,\n                payload: jws.payload,\n                protected: signature.protected,\n                signature: signature.signature,\n            }, key, options);\n        }\n        catch {\n        }\n    }\n    throw new JWSSignatureVerificationFailed();\n}\n", "export default (date) => Math.floor(date.getTime() / 1000);\n", "const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n};\n", "import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nconst normalizeTyp = (value) => value.toLowerCase().replace(/^application\\//, '');\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport default (protectedHeader, encodedPayload, options = {}) => {\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', 'typ', 'check_failed');\n    }\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, claim, 'missing');\n        }\n    }\n    if (issuer && !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', 'iat', 'check_failed');\n        }\n    }\n    return payload;\n};\n", "import { compactVerify } from '../jws/compact/verify.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = jwtPayload(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n", "import { compactDecrypt } from '../jwe/compact/decrypt.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { JWTClaimValidationFailed } from '../util/errors.js';\nexport async function jwtDecrypt(jwt, key, options) {\n    const decrypted = await compactDecrypt(jwt, key, options);\n    const payload = jwtPayload(decrypted.protectedHeader, decrypted.plaintext, options);\n    const { protectedHeader } = decrypted;\n    if (protectedHeader.iss !== undefined && protectedHeader.iss !== payload.iss) {\n        throw new JWTClaimValidationFailed('replicated \"iss\" claim header parameter mismatch', 'iss', 'mismatch');\n    }\n    if (protectedHeader.sub !== undefined && protectedHeader.sub !== payload.sub) {\n        throw new JWTClaimValidationFailed('replicated \"sub\" claim header parameter mismatch', 'sub', 'mismatch');\n    }\n    if (protectedHeader.aud !== undefined &&\n        JSON.stringify(protectedHeader.aud) !== JSON.stringify(payload.aud)) {\n        throw new JWTClaimValidationFailed('replicated \"aud\" claim header parameter mismatch', 'aud', 'mismatch');\n    }\n    const result = { payload, protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: decrypted.key };\n    }\n    return result;\n}\n", "import { FlattenedEncrypt } from '../flattened/encrypt.js';\nexport class CompactEncrypt {\n    constructor(plaintext) {\n        this._flattened = new FlattenedEncrypt(plaintext);\n    }\n    setContentEncryptionKey(cek) {\n        this._flattened.setContentEncryptionKey(cek);\n        return this;\n    }\n    setInitializationVector(iv) {\n        this._flattened.setInitializationVector(iv);\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        this._flattened.setKeyManagementParameters(parameters);\n        return this;\n    }\n    async encrypt(key, options) {\n        const jwe = await this._flattened.encrypt(key, options);\n        return [jwe.protected, jwe.encrypted_key, jwe.iv, jwe.ciphertext, jwe.tag].join('.');\n    }\n}\n", "import subtleAlgorithm from './subtle_dsa.js';\nimport crypto from './webcrypto.js';\nimport checkKeyLength from './check_key_length.js';\nimport getSignKey from './get_sign_verify_key.js';\nconst sign = async (alg, key, data) => {\n    const cryptoKey = await getSignKey(alg, key, 'sign');\n    checkKeyLength(alg, cryptoKey);\n    const signature = await crypto.subtle.sign(subtleAlgorithm(alg, cryptoKey.algorithm), cryptoKey, data);\n    return new Uint8Array(signature);\n};\nexport default sign;\n", "import { encode as base64url } from '../../runtime/base64url.js';\nimport sign from '../../runtime/sign.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport checkKeyType from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nexport class FlattenedSign {\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this._payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this._unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this._unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this._protectedHeader && !this._unprotectedHeader) {\n            throw new JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!isDisjoint(this._protectedHeader, this._unprotectedHeader)) {\n            throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this._protectedHeader,\n            ...this._unprotectedHeader,\n        };\n        const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, this._protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this._protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        checkKeyType(alg, key, 'sign');\n        let payload = this._payload;\n        if (b64) {\n            payload = encoder.encode(base64url(payload));\n        }\n        let protectedHeader;\n        if (this._protectedHeader) {\n            protectedHeader = encoder.encode(base64url(JSON.stringify(this._protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        const data = concat(protectedHeader, encoder.encode('.'), payload);\n        const signature = await sign(alg, key, data);\n        const jws = {\n            signature: base64url(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = decoder.decode(payload);\n        }\n        if (this._unprotectedHeader) {\n            jws.header = this._unprotectedHeader;\n        }\n        if (this._protectedHeader) {\n            jws.protected = decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\n", "import { FlattenedSign } from '../flattened/sign.js';\nexport class CompactSign {\n    constructor(payload) {\n        this._flattened = new FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this._flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this._flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\n", "import { FlattenedSign } from '../flattened/sign.js';\nimport { JWSInvalid } from '../../util/errors.js';\nclass IndividualSignature {\n    constructor(sig, key, options) {\n        this.parent = sig;\n        this.key = key;\n        this.options = options;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    addSignature(...args) {\n        return this.parent.addSignature(...args);\n    }\n    sign(...args) {\n        return this.parent.sign(...args);\n    }\n    done() {\n        return this.parent;\n    }\n}\nexport class GeneralSign {\n    constructor(payload) {\n        this._signatures = [];\n        this._payload = payload;\n    }\n    addSignature(key, options) {\n        const signature = new IndividualSignature(this, key, options);\n        this._signatures.push(signature);\n        return signature;\n    }\n    async sign() {\n        if (!this._signatures.length) {\n            throw new JWSInvalid('at least one signature must be added');\n        }\n        const jws = {\n            signatures: [],\n            payload: '',\n        };\n        for (let i = 0; i < this._signatures.length; i++) {\n            const signature = this._signatures[i];\n            const flattened = new FlattenedSign(this._payload);\n            flattened.setProtectedHeader(signature.protectedHeader);\n            flattened.setUnprotectedHeader(signature.unprotectedHeader);\n            const { payload, ...rest } = await flattened.sign(signature.key, signature.options);\n            if (i === 0) {\n                jws.payload = payload;\n            }\n            else if (jws.payload !== payload) {\n                throw new JWSInvalid('inconsistent use of JWS Unencoded Payload (RFC7797)');\n            }\n            jws.signatures.push(rest);\n        }\n        return jws;\n    }\n}\n", "import epoch from '../lib/epoch.js';\nimport isObject from '../lib/is_object.js';\nimport secs from '../lib/secs.js';\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nexport class ProduceJWT {\n    constructor(payload = {}) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this._payload = payload;\n    }\n    setIssuer(issuer) {\n        this._payload = { ...this._payload, iss: issuer };\n        return this;\n    }\n    setSubject(subject) {\n        this._payload = { ...this._payload, sub: subject };\n        return this;\n    }\n    setAudience(audience) {\n        this._payload = { ...this._payload, aud: audience };\n        return this;\n    }\n    setJti(jwtId) {\n        this._payload = { ...this._payload, jti: jwtId };\n        return this;\n    }\n    setNotBefore(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, nbf: validateInput('setNotBefore', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, nbf: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setExpirationTime(input) {\n        if (typeof input === 'number') {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', input) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, exp: validateInput('setExpirationTime', epoch(input)) };\n        }\n        else {\n            this._payload = { ...this._payload, exp: epoch(new Date()) + secs(input) };\n        }\n        return this;\n    }\n    setIssuedAt(input) {\n        if (typeof input === 'undefined') {\n            this._payload = { ...this._payload, iat: epoch(new Date()) };\n        }\n        else if (input instanceof Date) {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', epoch(input)) };\n        }\n        else if (typeof input === 'string') {\n            this._payload = {\n                ...this._payload,\n                iat: validateInput('setIssuedAt', epoch(new Date()) + secs(input)),\n            };\n        }\n        else {\n            this._payload = { ...this._payload, iat: validateInput('setIssuedAt', input) };\n        }\n        return this;\n    }\n}\n", "import { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class SignJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        const sig = new CompactSign(encoder.encode(JSON.stringify(this._payload)));\n        sig.setProtectedHeader(this._protectedHeader);\n        if (Array.isArray(this._protectedHeader?.crit) &&\n            this._protectedHeader.crit.includes('b64') &&\n            this._protectedHeader.b64 === false) {\n            throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\n", "import { CompactEncrypt } from '../jwe/compact/encrypt.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport { ProduceJWT } from './produce.js';\nexport class EncryptJWT extends ProduceJWT {\n    setProtectedHeader(protectedHeader) {\n        if (this._protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this._protectedHeader = protectedHeader;\n        return this;\n    }\n    setKeyManagementParameters(parameters) {\n        if (this._keyManagementParameters) {\n            throw new TypeError('setKeyManagementParameters can only be called once');\n        }\n        this._keyManagementParameters = parameters;\n        return this;\n    }\n    setContentEncryptionKey(cek) {\n        if (this._cek) {\n            throw new TypeError('setContentEncryptionKey can only be called once');\n        }\n        this._cek = cek;\n        return this;\n    }\n    setInitializationVector(iv) {\n        if (this._iv) {\n            throw new TypeError('setInitializationVector can only be called once');\n        }\n        this._iv = iv;\n        return this;\n    }\n    replicateIssuerAsHeader() {\n        this._replicateIssuerAsHeader = true;\n        return this;\n    }\n    replicateSubjectAsHeader() {\n        this._replicateSubjectAsHeader = true;\n        return this;\n    }\n    replicateAudienceAsHeader() {\n        this._replicateAudienceAsHeader = true;\n        return this;\n    }\n    async encrypt(key, options) {\n        const enc = new CompactEncrypt(encoder.encode(JSON.stringify(this._payload)));\n        if (this._replicateIssuerAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, iss: this._payload.iss };\n        }\n        if (this._replicateSubjectAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, sub: this._payload.sub };\n        }\n        if (this._replicateAudienceAsHeader) {\n            this._protectedHeader = { ...this._protectedHeader, aud: this._payload.aud };\n        }\n        enc.setProtectedHeader(this._protectedHeader);\n        if (this._iv) {\n            enc.setInitializationVector(this._iv);\n        }\n        if (this._cek) {\n            enc.setContentEncryptionKey(this._cek);\n        }\n        if (this._keyManagementParameters) {\n            enc.setKeyManagementParameters(this._keyManagementParameters);\n        }\n        return enc.encrypt(key, options);\n    }\n}\n", "import digest from '../runtime/digest.js';\nimport { encode as base64url } from '../runtime/base64url.js';\nimport { JOSENotSupported, JWKInvalid } from '../util/errors.js';\nimport { encoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nconst check = (value, description) => {\n    if (typeof value !== 'string' || !value) {\n        throw new JWKInvalid(`${description} missing or invalid`);\n    }\n};\nexport async function calculateJwkThumbprint(jwk, digestAlgorithm) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    digestAlgorithm ?? (digestAlgorithm = 'sha256');\n    if (digestAlgorithm !== 'sha256' &&\n        digestAlgorithm !== 'sha384' &&\n        digestAlgorithm !== 'sha512') {\n        throw new TypeError('digestAlgorithm must one of \"sha256\", \"sha384\", or \"sha512\"');\n    }\n    let components;\n    switch (jwk.kty) {\n        case 'EC':\n            check(jwk.crv, '\"crv\" (Curve) Parameter');\n            check(jwk.x, '\"x\" (X Coordinate) Parameter');\n            check(jwk.y, '\"y\" (Y Coordinate) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x, y: jwk.y };\n            break;\n        case 'OKP':\n            check(jwk.crv, '\"crv\" (Subtype of Key Pair) Parameter');\n            check(jwk.x, '\"x\" (Public Key) Parameter');\n            components = { crv: jwk.crv, kty: jwk.kty, x: jwk.x };\n            break;\n        case 'RSA':\n            check(jwk.e, '\"e\" (Exponent) Parameter');\n            check(jwk.n, '\"n\" (Modulus) Parameter');\n            components = { e: jwk.e, kty: jwk.kty, n: jwk.n };\n            break;\n        case 'oct':\n            check(jwk.k, '\"k\" (Key Value) Parameter');\n            components = { k: jwk.k, kty: jwk.kty };\n            break;\n        default:\n            throw new JOSENotSupported('\"kty\" (Key Type) Parameter missing or unsupported');\n    }\n    const data = encoder.encode(JSON.stringify(components));\n    return base64url(await digest(digestAlgorithm, data));\n}\nexport async function calculateJwkThumbprintUri(jwk, digestAlgorithm) {\n    digestAlgorithm ?? (digestAlgorithm = 'sha256');\n    const thumbprint = await calculateJwkThumbprint(jwk, digestAlgorithm);\n    return `urn:ietf:params:oauth:jwk-thumbprint:sha-${digestAlgorithm.slice(-3)}:${thumbprint}`;\n}\n", "import { importJWK } from '../key/import.js';\nimport isObject from '../lib/is_object.js';\nimport { JWSInvalid } from '../util/errors.js';\nexport async function EmbeddedJWK(protectedHeader, token) {\n    const joseHeader = {\n        ...protectedHeader,\n        ...token?.header,\n    };\n    if (!isObject(joseHeader.jwk)) {\n        throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a JSON object');\n    }\n    const key = await importJWK({ ...joseHeader.jwk, ext: true }, joseHeader.alg);\n    if (key instanceof Uint8Array || key.type !== 'public') {\n        throw new JWSInvalid('\"jwk\" (JSON Web Key) Header Parameter must be a public key');\n    }\n    return key;\n}\n", "import { importJWK } from '../key/import.js';\nimport { JWKSInvalid, JOSENotSupported, JWKSNoMatchingKey, JWKSMultipleMatchingKeys, } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        default:\n            throw new JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nexport function isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return isObject(key);\n}\nfunction clone(obj) {\n    if (typeof structuredClone === 'function') {\n        return structuredClone(obj);\n    }\n    return JSON.parse(JSON.stringify(obj));\n}\nexport class LocalJWKSet {\n    constructor(jwks) {\n        this._cached = new WeakMap();\n        if (!isJWKSLike(jwks)) {\n            throw new JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this._jwks = clone(jwks);\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token?.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this._jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && typeof jwk.alg === 'string') {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate && alg === 'EdDSA') {\n                candidate = jwk.crv === 'Ed25519' || jwk.crv === 'Ed448';\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES256K':\n                        candidate = jwk.crv === 'secp256k1';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new JWKSNoMatchingKey();\n        }\n        if (length !== 1) {\n            const error = new JWKSMultipleMatchingKeys();\n            const { _cached } = this;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch { }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this._cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await importJWK({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nexport function createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    return async (protectedHeader, token) => set.getKey(protectedHeader, token);\n}\n", "import { JOSEError, JWKSTimeout } from '../util/errors.js';\nconst fetchJwks = async (url, timeout, options) => {\n    let controller;\n    let id;\n    let timedOut = false;\n    if (typeof AbortController === 'function') {\n        controller = new AbortController();\n        id = setTimeout(() => {\n            timedOut = true;\n            controller.abort();\n        }, timeout);\n    }\n    const response = await fetch(url.href, {\n        signal: controller ? controller.signal : undefined,\n        redirect: 'manual',\n        headers: options.headers,\n    }).catch((err) => {\n        if (timedOut)\n            throw new JWKSTimeout();\n        throw err;\n    });\n    if (id !== undefined)\n        clearTimeout(id);\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n};\nexport default fetchJwks;\n", "import fetchJwks from '../runtime/fetch_jwks.js';\nimport { JWKSInvalid, JWKSNoMatchingKey } from '../util/errors.js';\nimport { isJWKSLike, LocalJWKSet } from './local.js';\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'jose';\n    const VERSION = 'v5.2.3';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nclass RemoteJWKSet extends LocalJWKSet {\n    constructor(url, options) {\n        super({ keys: [] });\n        this._jwks = undefined;\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this._url = new URL(url.href);\n        this._options = { agent: options?.agent, headers: options?.headers };\n        this._timeoutDuration =\n            typeof options?.timeoutDuration === 'number' ? options?.timeoutDuration : 5000;\n        this._cooldownDuration =\n            typeof options?.cooldownDuration === 'number' ? options?.cooldownDuration : 30000;\n        this._cacheMaxAge = typeof options?.cacheMaxAge === 'number' ? options?.cacheMaxAge : 600000;\n    }\n    coolingDown() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this._jwksTimestamp === 'number'\n            ? Date.now() < this._jwksTimestamp + this._cacheMaxAge\n            : false;\n    }\n    async getKey(protectedHeader, token) {\n        if (!this._jwks || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await super.getKey(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return super.getKey(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this._pendingFetch && isCloudflareWorkers()) {\n            this._pendingFetch = undefined;\n        }\n        const headers = new Headers(this._options.headers);\n        if (USER_AGENT && !headers.has('User-Agent')) {\n            headers.set('User-Agent', USER_AGENT);\n            this._options.headers = Object.fromEntries(headers.entries());\n        }\n        this._pendingFetch || (this._pendingFetch = fetchJwks(this._url, this._timeoutDuration, this._options)\n            .then((json) => {\n            if (!isJWKSLike(json)) {\n                throw new JWKSInvalid('JSON Web Key Set malformed');\n            }\n            this._jwks = { keys: json.keys };\n            this._jwksTimestamp = Date.now();\n            this._pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this._pendingFetch = undefined;\n            throw err;\n        }));\n        await this._pendingFetch;\n    }\n}\nexport function createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    return async (protectedHeader, token) => set.getKey(protectedHeader, token);\n}\n", "import * as base64url from '../runtime/base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport jwtPayload from '../lib/jwt_claims_set.js';\nimport { ProduceJWT } from './produce.js';\nexport class UnsecuredJWT extends ProduceJWT {\n    encode() {\n        const header = base64url.encode(JSON.stringify({ alg: 'none' }));\n        const payload = base64url.encode(JSON.stringify(this._payload));\n        return `${header}.${payload}.`;\n    }\n    static decode(jwt, options) {\n        if (typeof jwt !== 'string') {\n            throw new JWTInvalid('Unsecured JWT must be a string');\n        }\n        const { 0: encodedHeader, 1: encodedPayload, 2: signature, length } = jwt.split('.');\n        if (length !== 3 || signature !== '') {\n            throw new JWTInvalid('Invalid Unsecured JWT');\n        }\n        let header;\n        try {\n            header = JSON.parse(decoder.decode(base64url.decode(encodedHeader)));\n            if (header.alg !== 'none')\n                throw new Error();\n        }\n        catch {\n            throw new JWTInvalid('Invalid Unsecured JWT');\n        }\n        const payload = jwtPayload(header, base64url.decode(encodedPayload), options);\n        return { payload, header };\n    }\n}\n", "import * as base64url from '../runtime/base64url.js';\nexport const encode = base64url.encode;\nexport const decode = base64url.decode;\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nexport function decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(decoder.decode(base64url(protectedB64u)));\n        if (!isObject(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\n", "import { decode as base64url } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nimport { JWTInvalid } from './errors.js';\nexport function decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = base64url(payload);\n    }\n    catch {\n        throw new JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(decoder.decode(decoded));\n    }\n    catch {\n        throw new JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!isObject(result))\n        throw new JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n", "import crypto from './webcrypto.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport random from './random.js';\nexport async function generateSecret(alg, options) {\n    let length;\n    let algorithm;\n    let keyUsages;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            length = parseInt(alg.slice(-3), 10);\n            algorithm = { name: 'HMAC', hash: `SHA-${length}`, length };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'A128CBC-HS256':\n        case 'A192CBC-HS384':\n        case 'A256CBC-HS512':\n            length = parseInt(alg.slice(-3), 10);\n            return random(new Uint8Array(length >> 3));\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW':\n            length = parseInt(alg.slice(1, 4), 10);\n            algorithm = { name: 'AES-KW', length };\n            keyUsages = ['wrapKey', 'unwrapKey'];\n            break;\n        case 'A128GCMKW':\n        case 'A192GCMKW':\n        case 'A256GCMKW':\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM':\n            length = parseInt(alg.slice(1, 4), 10);\n            algorithm = { name: 'AES-GCM', length };\n            keyUsages = ['encrypt', 'decrypt'];\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return crypto.subtle.generateKey(algorithm, options?.extractable ?? false, keyUsages);\n}\nfunction getModulusLengthOption(options) {\n    const modulusLength = options?.modulusLength ?? 2048;\n    if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n        throw new JOSENotSupported('Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used');\n    }\n    return modulusLength;\n}\nexport async function generateKeyPair(alg, options) {\n    let algorithm;\n    let keyUsages;\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = {\n                name: 'RSA-PSS',\n                hash: `SHA-${alg.slice(-3)}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = {\n                name: 'RSASSA-PKCS1-v1_5',\n                hash: `SHA-${alg.slice(-3)}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n                publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n                modulusLength: getModulusLengthOption(options),\n            };\n            keyUsages = ['decrypt', 'unwrapKey', 'encrypt', 'wrapKey'];\n            break;\n        case 'ES256':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'ES384':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'ES512':\n            algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n            keyUsages = ['sign', 'verify'];\n            break;\n        case 'EdDSA': {\n            keyUsages = ['sign', 'verify'];\n            const crv = options?.crv ?? 'Ed25519';\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    algorithm = { name: crv };\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported crv option provided');\n            }\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            keyUsages = ['deriveKey', 'deriveBits'];\n            const crv = options?.crv ?? 'P-256';\n            switch (crv) {\n                case 'P-256':\n                case 'P-384':\n                case 'P-521': {\n                    algorithm = { name: 'ECDH', namedCurve: crv };\n                    break;\n                }\n                case 'X25519':\n                case 'X448':\n                    algorithm = { name: crv };\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n    }\n    return (crypto.subtle.generateKey(algorithm, options?.extractable ?? false, keyUsages));\n}\n", "import { generateKeyPair as generate } from '../runtime/generate.js';\nexport async function generateKeyPair(alg, options) {\n    return generate(alg, options);\n}\n", "import { generateSecret as generate } from '../runtime/generate.js';\nexport async function generateSecret(alg, options) {\n    return generate(alg, options);\n}\n", "export default 'WebCryptoAPI';\n", "import value from '../runtime/runtime.js';\nexport default value;\n", "export { compactDecrypt } from './jwe/compact/decrypt.js';\nexport { flattenedDecrypt } from './jwe/flattened/decrypt.js';\nexport { generalDecrypt } from './jwe/general/decrypt.js';\nexport { GeneralEncrypt } from './jwe/general/encrypt.js';\nexport { compactVerify } from './jws/compact/verify.js';\nexport { flattenedVerify } from './jws/flattened/verify.js';\nexport { generalVerify } from './jws/general/verify.js';\nexport { jwtVerify } from './jwt/verify.js';\nexport { jwtDecrypt } from './jwt/decrypt.js';\nexport { CompactEncrypt } from './jwe/compact/encrypt.js';\nexport { FlattenedEncrypt } from './jwe/flattened/encrypt.js';\nexport { CompactSign } from './jws/compact/sign.js';\nexport { FlattenedSign } from './jws/flattened/sign.js';\nexport { GeneralSign } from './jws/general/sign.js';\nexport { SignJWT } from './jwt/sign.js';\nexport { EncryptJWT } from './jwt/encrypt.js';\nexport { calculateJwkThumbprint, calculateJwkThumbprintUri } from './jwk/thumbprint.js';\nexport { EmbeddedJWK } from './jwk/embedded.js';\nexport { createLocalJWKSet } from './jwks/local.js';\nexport { createRemoteJWKSet } from './jwks/remote.js';\nexport { UnsecuredJWT } from './jwt/unsecured.js';\nexport { exportPKCS8, exportSPKI, exportJWK } from './key/export.js';\nexport { importSPKI, importPKCS8, importX509, importJWK } from './key/import.js';\nexport { decodeProtectedHeader } from './util/decode_protected_header.js';\nexport { decodeJwt } from './util/decode_jwt.js';\nexport * as errors from './util/errors.js';\nexport { generateKeyPair } from './key/generate_key_pair.js';\nexport { generateSecret } from './key/generate_secret.js';\nexport * as base64url from './util/base64url.js';\nexport { default as cryptoRuntime } from './util/runtime.js';\n", "/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.partitioned) {\n    str += '; Partitioned'\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} val\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n", "/**\n *\n *\n * This module contains functions and types\n * to encode and decode {@link https://authjs.dev/concepts/session-strategies#jwt JWT}s\n * issued and used by Auth.js.\n *\n * The JWT issued by Auth.js is _encrypted by default_, using the _A256CBC-HS512_ algorithm ({@link https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5 JWE}).\n * It uses the `AUTH_SECRET` environment variable or the passed `secret` propery to derive a suitable encryption key.\n *\n * :::info Note\n * Auth.js JWTs are meant to be used by the same app that issued them.\n * If you need JWT authentication for your third-party API, you should rely on your Identity Provider instead.\n * :::\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * You can then import this submodule from `@auth/core/jwt`.\n *\n * ## Usage\n *\n * :::warning Warning\n * This module *will* be refactored/changed. We do not recommend relying on it right now.\n * :::\n *\n *\n * ## Resources\n *\n * - [What is a JWT session strategy](https://authjs.dev/concepts/session-strategies#jwt)\n * - [RFC7519 - JSON Web Token (JWT)](https://www.rfc-editor.org/rfc/rfc7519)\n *\n * @module jwt\n */\nimport { hkdf } from \"@panva/hkdf\";\nimport { EncryptJWT, base64url, calculateJwkThumbprint, jwtDecrypt } from \"jose\";\nimport { SessionStore } from \"./lib/utils/cookie.js\";\nimport { MissingSecret } from \"./errors.js\";\nimport { parse } from \"cookie\";\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60; // 30 days\nconst now = () => (Date.now() / 1000) | 0;\nconst alg = \"dir\";\nconst enc = \"A256CBC-HS512\";\n/** Issues a JWT. By default, the JWT is encrypted using \"A256CBC-HS512\". */\nexport async function encode(params) {\n    const { token = {}, secret, maxAge = DEFAULT_MAX_AGE, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [secret];\n    const encryptionSecret = await getDerivedEncryptionKey(enc, secrets[0], salt);\n    const thumbprint = await calculateJwkThumbprint({ kty: \"oct\", k: base64url.encode(encryptionSecret) }, `sha${encryptionSecret.byteLength << 3}`);\n    // @ts-expect-error `jose` allows any object as payload.\n    return await new EncryptJWT(token)\n        .setProtectedHeader({ alg, enc, kid: thumbprint })\n        .setIssuedAt()\n        .setExpirationTime(now() + maxAge)\n        .setJti(crypto.randomUUID())\n        .encrypt(encryptionSecret);\n}\n/** Decodes a Auth.js issued JWT. */\nexport async function decode(params) {\n    const { token, secret, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [secret];\n    if (!token)\n        return null;\n    const { payload } = await jwtDecrypt(token, async ({ kid, enc }) => {\n        for (const secret of secrets) {\n            const encryptionSecret = await getDerivedEncryptionKey(enc, secret, salt);\n            if (kid === undefined)\n                return encryptionSecret;\n            const thumbprint = await calculateJwkThumbprint({ kty: \"oct\", k: base64url.encode(encryptionSecret) }, `sha${encryptionSecret.byteLength << 3}`);\n            if (kid === thumbprint)\n                return encryptionSecret;\n        }\n        throw new Error(\"no matching decryption secret\");\n    }, {\n        clockTolerance: 15,\n        keyManagementAlgorithms: [alg],\n        contentEncryptionAlgorithms: [enc, \"A256GCM\"],\n    });\n    return payload;\n}\nexport async function getToken(params) {\n    const { secureCookie, cookieName = secureCookie\n        ? \"__Secure-authjs.session-token\"\n        : \"authjs.session-token\", decode: _decode = decode, salt = cookieName, secret, logger = console, raw, req, } = params;\n    if (!req)\n        throw new Error(\"Must pass `req` to JWT getToken()\");\n    if (!secret)\n        throw new MissingSecret(\"Must pass `secret` if not set to JWT getToken()\");\n    const headers = req.headers instanceof Headers ? req.headers : new Headers(req.headers);\n    const sessionStore = new SessionStore({ name: cookieName, options: { secure: secureCookie } }, parse(headers.get(\"cookie\") ?? \"\"), logger);\n    let token = sessionStore.value;\n    const authorizationHeader = headers.get(\"authorization\");\n    if (!token && authorizationHeader?.split(\" \")[0] === \"Bearer\") {\n        const urlEncodedToken = authorizationHeader.split(\" \")[1];\n        token = decodeURIComponent(urlEncodedToken);\n    }\n    if (!token)\n        return null;\n    if (raw)\n        return token;\n    try {\n        return await _decode({ token, secret, salt });\n    }\n    catch {\n        return null;\n    }\n}\nasync function getDerivedEncryptionKey(enc, keyMaterial, salt) {\n    let length;\n    switch (enc) {\n        case \"A256CBC-HS512\":\n            length = 64;\n            break;\n        case \"A256GCM\":\n            length = 32;\n            break;\n        default:\n            throw new Error(\"Unsupported JWT Content Encryption Algorithm\");\n    }\n    return await hkdf(\"sha256\", keyMaterial, salt, `Auth.js Generated Encryption Key (${salt})`, length);\n}\n", "/**\n * Get callback URL based on query param / cookie + validation,\n * and add it to `req.options.callbackUrl`.\n */\nexport async function createCallbackUrl({ options, paramValue, cookieValue, }) {\n    const { url, callbacks } = options;\n    let callbackUrl = url.origin;\n    if (paramValue) {\n        // If callbackUrl form field or query parameter is passed try to use it if allowed\n        callbackUrl = await callbacks.redirect({\n            url: paramValue,\n            baseUrl: url.origin,\n        });\n    }\n    else if (cookieValue) {\n        // If no callbackUrl specified, try using the value from the cookie if allowed\n        callbackUrl = await callbacks.redirect({\n            url: cookieValue,\n            baseUrl: url.origin,\n        });\n    }\n    return {\n        callbackUrl,\n        // Save callback URL in a cookie so that it can be used for subsequent requests in signin/signout/callback flow\n        callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined,\n    };\n}\n", "import { AuthError } from \"../../errors.js\";\nconst red = \"\\x1b[31m\";\nconst yellow = \"\\x1b[33m\";\nconst grey = \"\\x1b[90m\";\nconst reset = \"\\x1b[0m\";\nexport const logger = {\n    error(error) {\n        const name = error instanceof AuthError ? error.type : error.name;\n        console.error(`${red}[auth][error]${reset} ${name}: ${error.message}`);\n        if (error.cause &&\n            typeof error.cause === \"object\" &&\n            \"err\" in error.cause &&\n            error.cause.err instanceof Error) {\n            const { err, ...data } = error.cause;\n            console.error(`${red}[auth][cause]${reset}:`, err.stack);\n            if (data)\n                console.error(`${red}[auth][details]${reset}:`, JSON.stringify(data, null, 2));\n        }\n        else if (error.stack) {\n            console.error(error.stack.replace(/.*/, \"\").substring(1));\n        }\n    },\n    warn(code) {\n        const url = `https://warnings.authjs.dev#${code}`;\n        console.warn(`${yellow}[auth][warn][${code}]${reset}`, `Read more: ${url}`);\n    },\n    debug(message, metadata) {\n        console.log(`${grey}[auth][debug]:${reset} ${message}`, JSON.stringify(metadata, null, 2));\n    },\n};\n/**\n * Override the built-in logger with user's implementation.\n * Any `undefined` level will use the default logger.\n */\nexport function setLogger(newLogger = {}, debug) {\n    // Turn off debug logging if `debug` isn't set to `true`\n    if (!debug)\n        logger.debug = () => { };\n    if (newLogger.error)\n        logger.error = newLogger.error;\n    if (newLogger.warn)\n        logger.warn = newLogger.warn;\n    if (newLogger.debug)\n        logger.debug = newLogger.debug;\n}\n", "const actions = [\n    \"providers\",\n    \"session\",\n    \"csrf\",\n    \"signin\",\n    \"signout\",\n    \"callback\",\n    \"verify-request\",\n    \"error\",\n    \"webauthn-options\",\n];\nexport function isAuthAction(action) {\n    return actions.includes(action);\n}\n", "import { parse as parseCookie, serialize } from \"cookie\";\nimport { UnknownAction } from \"../../errors.js\";\nimport { logger } from \"./logger.js\";\nimport { isAuthAction } from \"./actions.js\";\nasync function getBody(req) {\n    if (!(\"body\" in req) || !req.body || req.method !== \"POST\")\n        return;\n    const contentType = req.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n        return await req.json();\n    }\n    else if (contentType?.includes(\"application/x-www-form-urlencoded\")) {\n        const params = new URLSearchParams(await req.text());\n        return Object.fromEntries(params);\n    }\n}\nexport async function toInternalRequest(req, config) {\n    try {\n        if (req.method !== \"GET\" && req.method !== \"POST\")\n            throw new UnknownAction(\"Only GET and POST requests are supported.\");\n        // Defaults are usually set in the `init` function, but this is needed below\n        config.basePath ?? (config.basePath = \"/auth\");\n        const url = new URL(req.url);\n        const { action, providerId } = parseActionAndProviderId(url.pathname, config.basePath);\n        return {\n            url,\n            action,\n            providerId,\n            method: req.method,\n            headers: Object.fromEntries(req.headers),\n            body: req.body ? await getBody(req) : undefined,\n            cookies: parseCookie(req.headers.get(\"cookie\") ?? \"\") ?? {},\n            error: url.searchParams.get(\"error\") ?? undefined,\n            query: Object.fromEntries(url.searchParams),\n        };\n    }\n    catch (e) {\n        logger.error(e);\n        logger.debug(\"request\", req);\n    }\n}\nexport function toRequest(request) {\n    return new Request(request.url, {\n        headers: request.headers,\n        method: request.method,\n        body: request.method === \"POST\"\n            ? JSON.stringify(request.body ?? {})\n            : undefined,\n    });\n}\nexport function toResponse(res) {\n    const headers = new Headers(res.headers);\n    res.cookies?.forEach((cookie) => {\n        const { name, value, options } = cookie;\n        const cookieHeader = serialize(name, value, options);\n        if (headers.has(\"Set-Cookie\"))\n            headers.append(\"Set-Cookie\", cookieHeader);\n        else\n            headers.set(\"Set-Cookie\", cookieHeader);\n    });\n    let body = res.body;\n    if (headers.get(\"content-type\") === \"application/json\")\n        body = JSON.stringify(res.body);\n    else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\")\n        body = new URLSearchParams(res.body).toString();\n    const status = res.redirect ? 302 : res.status ?? 200;\n    const response = new Response(body, { headers, status });\n    if (res.redirect)\n        response.headers.set(\"Location\", res.redirect);\n    return response;\n}\n/** Web compatible method to create a hash, using SHA256 */\nexport async function createHash(message) {\n    const data = new TextEncoder().encode(message);\n    const hash = await crypto.subtle.digest(\"SHA-256\", data);\n    return Array.from(new Uint8Array(hash))\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\")\n        .toString();\n}\n/** Web compatible method to create a random string of a given length */\nexport function randomString(size) {\n    const i2hex = (i) => (\"0\" + i.toString(16)).slice(-2);\n    const r = (a, i) => a + i2hex(i);\n    const bytes = crypto.getRandomValues(new Uint8Array(size));\n    return Array.from(bytes).reduce(r, \"\");\n}\n/** @internal Parse the action and provider id from a URL pathname. */\nexport function parseActionAndProviderId(pathname, base) {\n    const a = pathname.match(new RegExp(`^${base}(.+)`));\n    if (a === null)\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    const [_, actionAndProviderId] = a;\n    const b = actionAndProviderId.replace(/^\\//, \"\").split(\"/\");\n    if (b.length !== 1 && b.length !== 2)\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    const [action, providerId] = b;\n    if (!isAuthAction(action))\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    if (providerId && ![\"signin\", \"callback\", \"webauthn-options\"].includes(action))\n        throw new UnknownAction(`Cannot parse action at ${pathname}`);\n    return { action, providerId };\n}\n", "import { createHash, randomString } from \"../../../utils/web.js\";\nimport { MissingCSRF } from \"../../../../errors.js\";\n/**\n * Ensure CSRF Token cookie is set for any subsequent requests.\n * Used as part of the strategy for mitigation for CSRF tokens.\n *\n * Creates a cookie like 'next-auth.csrf-token' with the value 'token|hash',\n * where 'token' is the CSRF token and 'hash' is a hash made of the token and\n * the secret, and the two values are joined by a pipe '|'. By storing the\n * value and the hash of the value (with the secret used as a salt) we can\n * verify the cookie was set by the server and not by a malicious attacker.\n *\n * For more details, see the following OWASP links:\n * https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\n * https://owasp.org/www-chapter-london/assets/slides/David_Johansson-Double_Defeat_of_Double-Submit_Cookie.pdf\n */\nexport async function createCSRFToken({ options, cookieValue, isPost, bodyValue, }) {\n    if (cookieValue) {\n        const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n        const expectedCsrfTokenHash = await createHash(`${csrfToken}${options.secret}`);\n        if (csrfTokenHash === expectedCsrfTokenHash) {\n            // If hash matches then we trust the CSRF token value\n            // If this is a POST request and the CSRF Token in the POST request matches\n            // the cookie we have already verified is the one we have set, then the token is verified!\n            const csrfTokenVerified = isPost && csrfToken === bodyValue;\n            return { csrfTokenVerified, csrfToken };\n        }\n    }\n    // New CSRF token\n    const csrfToken = randomString(32);\n    const csrfTokenHash = await createHash(`${csrfToken}${options.secret}`);\n    const cookie = `${csrfToken}|${csrfTokenHash}`;\n    return { cookie, csrfToken };\n}\nexport function validateCSRF(action, verified) {\n    if (verified)\n        return;\n    throw new MissingCSRF(`CSRF token was missing during an action ${action}.`);\n}\n", "// Source: https://stackoverflow.com/a/34749873/5364135\n/** Simple object check */\nfunction isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n/** Deep merge two objects */\nexport function merge(target, ...sources) {\n    if (!sources.length)\n        return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            if (isObject(source[key])) {\n                if (!target[key])\n                    Object.assign(target, { [key]: {} });\n                merge(target[key], source[key]);\n            }\n            else {\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n    return merge(target, ...sources);\n}\n", "import { merge } from \"./merge.js\";\n/**\n * Adds `signinUrl` and `callbackUrl` to each provider\n * and deep merge user-defined options.\n */\nexport default function parseProviders(params) {\n    const { providerId, options } = params;\n    const url = new URL(options.basePath ?? \"/auth\", params.url.origin);\n    const providers = params.providers.map((p) => {\n        const provider = typeof p === \"function\" ? p() : p;\n        const { options: userOptions, ...defaults } = provider;\n        const id = (userOptions?.id ?? defaults.id);\n        const merged = merge(defaults, userOptions, {\n            signinUrl: `${url}/signin/${id}`,\n            callbackUrl: `${url}/callback/${id}`,\n        });\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            merged.redirectProxyUrl ?? (merged.redirectProxyUrl = options.redirectProxyUrl);\n            return normalizeOAuth(merged);\n        }\n        return merged;\n    });\n    return {\n        providers,\n        provider: providers.find(({ id }) => id === providerId),\n    };\n}\n// TODO: Also add discovery here, if some endpoints/config are missing.\n// We should return both a client and authorization server config.\nfunction normalizeOAuth(c) {\n    if (c.issuer)\n        c.wellKnown ?? (c.wellKnown = `${c.issuer}/.well-known/openid-configuration`);\n    const authorization = normalizeEndpoint(c.authorization, c.issuer);\n    if (authorization && !authorization.url?.searchParams.has(\"scope\")) {\n        authorization.url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    const token = normalizeEndpoint(c.token, c.issuer);\n    const userinfo = normalizeEndpoint(c.userinfo, c.issuer);\n    const checks = c.checks ?? [\"pkce\"];\n    if (c.redirectProxyUrl) {\n        if (!checks.includes(\"state\"))\n            checks.push(\"state\");\n        c.redirectProxyUrl = `${c.redirectProxyUrl}/callback/${c.id}`;\n    }\n    return {\n        ...c,\n        authorization,\n        token,\n        checks,\n        userinfo,\n        profile: c.profile ?? defaultProfile,\n        account: c.account ?? defaultAccount,\n    };\n}\n/**\n * Returns basic user profile from the userinfo response/`id_token` claims.\n * The returned `id` will become the `account.providerAccountId`. `user.id`\n * and `account.id` are auto-generated UUID's.\n *\n * The result if this function is used to create the `User` in the database.\n * @see https://authjs.dev/reference/core/adapters#user\n * @see https://openid.net/specs/openid-connect-core-1_0.html#IDToken\n * @see https://openid.net/specs/openid-connect-core-1_0.html#\n */\nconst defaultProfile = (profile) => {\n    return stripUndefined({\n        id: profile.sub ?? profile.id ?? crypto.randomUUID(),\n        name: profile.name ?? profile.nickname ?? profile.preferred_username,\n        email: profile.email,\n        image: profile.picture,\n    });\n};\n/**\n * Returns basic OAuth/OIDC values from the token response.\n * @see https://www.ietf.org/rfc/rfc6749.html#section-5.1\n * @see https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\n * @see https://authjs.dev/reference/core/adapters#account\n */\nconst defaultAccount = (account) => {\n    return stripUndefined({\n        access_token: account.access_token,\n        id_token: account.id_token,\n        refresh_token: account.refresh_token,\n        expires_at: account.expires_at,\n        scope: account.scope,\n        token_type: account.token_type,\n        session_state: account.session_state,\n    });\n};\nfunction stripUndefined(o) {\n    const result = {};\n    for (let [k, v] of Object.entries(o))\n        v !== undefined && (result[k] = v);\n    return result;\n}\nfunction normalizeEndpoint(e, issuer) {\n    if (!e && issuer)\n        return;\n    if (typeof e === \"string\") {\n        return { url: new URL(e) };\n    }\n    // If e.url is undefined, it's because the provider config\n    // assumes that we will use the issuer endpoint.\n    // The existence of either e.url or provider.issuer is checked in\n    // assert.ts. We fallback to \"https://authjs.dev\" to be able to pass around\n    // a valid URL even if the user only provided params.\n    // NOTE: This need to be checked when constructing the URL\n    // for the authorization, token and userinfo endpoints.\n    const url = new URL(e?.url ?? \"https://authjs.dev\");\n    if (e?.params != null) {\n        for (let [key, value] of Object.entries(e.params)) {\n            if (key === \"claims\")\n                value = JSON.stringify(value);\n            url.searchParams.set(key, String(value));\n        }\n    }\n    return { url, request: e?.request, conform: e?.conform };\n}\n", "import * as jwt from \"../jwt.js\";\nimport { createCallbackUrl } from \"./utils/callback-url.js\";\nimport * as cookie from \"./utils/cookie.js\";\nimport { createCSRFToken } from \"./actions/callback/oauth/csrf-token.js\";\nimport { AdapterError, EventError } from \"../errors.js\";\nimport parseProviders from \"./utils/providers.js\";\nimport { logger } from \"./utils/logger.js\";\nimport { merge } from \"./utils/merge.js\";\nexport const defaultCallbacks = {\n    signIn() {\n        return true;\n    },\n    redirect({ url, baseUrl }) {\n        if (url.startsWith(\"/\"))\n            return `${baseUrl}${url}`;\n        else if (new URL(url).origin === baseUrl)\n            return url;\n        return baseUrl;\n    },\n    session({ session }) {\n        return {\n            user: {\n                name: session.user?.name,\n                email: session.user?.email,\n                image: session.user?.image,\n            },\n            expires: session.expires?.toISOString?.() ?? session.expires,\n        };\n    },\n    jwt({ token }) {\n        return token;\n    },\n};\n/** Initialize all internal options and cookies. */\nexport async function init({ authOptions, providerId, action, url, cookies: reqCookies, callbackUrl: reqCallbackUrl, csrfToken: reqCsrfToken, csrfDisabled, isPost, }) {\n    const { providers, provider } = parseProviders({\n        providers: authOptions.providers,\n        url,\n        providerId,\n        options: authOptions,\n    });\n    const maxAge = 30 * 24 * 60 * 60; // Sessions expire after 30 days of being idle by default\n    let isOnRedirectProxy = false;\n    if ((provider?.type === \"oauth\" || provider?.type === \"oidc\") &&\n        provider.redirectProxyUrl) {\n        try {\n            isOnRedirectProxy =\n                new URL(provider.redirectProxyUrl).origin === url.origin;\n        }\n        catch {\n            throw new TypeError(`redirectProxyUrl must be a valid URL. Received: ${provider.redirectProxyUrl}`);\n        }\n    }\n    // User provided options are overridden by other options,\n    // except for the options with special handling above\n    const options = {\n        debug: false,\n        pages: {},\n        theme: {\n            colorScheme: \"auto\",\n            logo: \"\",\n            brandColor: \"\",\n            buttonText: \"\",\n        },\n        // Custom options override defaults\n        ...authOptions,\n        // These computed settings can have values in userOptions but we override them\n        // and are request-specific.\n        url,\n        action,\n        // @ts-expect-errors\n        provider,\n        cookies: merge(cookie.defaultCookies(authOptions.useSecureCookies ?? url.protocol === \"https:\"), authOptions.cookies),\n        providers,\n        // Session options\n        session: {\n            // If no adapter specified, force use of JSON Web Tokens (stateless)\n            strategy: authOptions.adapter ? \"database\" : \"jwt\",\n            maxAge,\n            updateAge: 24 * 60 * 60,\n            generateSessionToken: () => crypto.randomUUID(),\n            ...authOptions.session,\n        },\n        // JWT options\n        jwt: {\n            secret: authOptions.secret, // Asserted in assert.ts\n            maxAge: authOptions.session?.maxAge ?? maxAge, // default to same as `session.maxAge`\n            encode: jwt.encode,\n            decode: jwt.decode,\n            ...authOptions.jwt,\n        },\n        // Event messages\n        events: eventsErrorHandler(authOptions.events ?? {}, logger),\n        adapter: adapterErrorHandler(authOptions.adapter, logger),\n        // Callback functions\n        callbacks: { ...defaultCallbacks, ...authOptions.callbacks },\n        logger,\n        callbackUrl: url.origin,\n        isOnRedirectProxy,\n        experimental: {\n            ...authOptions.experimental,\n        },\n    };\n    // Init cookies\n    const cookies = [];\n    if (csrfDisabled) {\n        options.csrfTokenVerified = true;\n    }\n    else {\n        const { csrfToken, cookie: csrfCookie, csrfTokenVerified, } = await createCSRFToken({\n            options,\n            cookieValue: reqCookies?.[options.cookies.csrfToken.name],\n            isPost,\n            bodyValue: reqCsrfToken,\n        });\n        options.csrfToken = csrfToken;\n        options.csrfTokenVerified = csrfTokenVerified;\n        if (csrfCookie) {\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: csrfCookie,\n                options: options.cookies.csrfToken.options,\n            });\n        }\n    }\n    const { callbackUrl, callbackUrlCookie } = await createCallbackUrl({\n        options,\n        cookieValue: reqCookies?.[options.cookies.callbackUrl.name],\n        paramValue: reqCallbackUrl,\n    });\n    options.callbackUrl = callbackUrl;\n    if (callbackUrlCookie) {\n        cookies.push({\n            name: options.cookies.callbackUrl.name,\n            value: callbackUrlCookie,\n            options: options.cookies.callbackUrl.options,\n        });\n    }\n    return { options, cookies };\n}\n/** Wraps an object of methods and adds error handling. */\nfunction eventsErrorHandler(methods, logger) {\n    return Object.keys(methods).reduce((acc, name) => {\n        acc[name] = async (...args) => {\n            try {\n                const method = methods[name];\n                return await method(...args);\n            }\n            catch (e) {\n                logger.error(new EventError(e));\n            }\n        };\n        return acc;\n    }, {});\n}\n/** Handles adapter induced errors. */\nfunction adapterErrorHandler(adapter, logger) {\n    if (!adapter)\n        return;\n    return Object.keys(adapter).reduce((acc, name) => {\n        acc[name] = async (...args) => {\n            try {\n                logger.debug(`adapter_${name}`, { args });\n                const method = adapter[name];\n                return await method(...args);\n            }\n            catch (e) {\n                const error = new AdapterError(e);\n                logger.error(error);\n                throw error;\n            }\n        };\n        return acc;\n    }, {});\n}\n", "import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "// DOM properties that should NOT have \"px\" added when numeric\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;\nexport const VOID_ELEMENTS = /^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/;\nexport const UNSAFE_NAME = /[\\s\\n\\\\/='\"\\0<>]/;\nexport const XLINK = /^xlink:?./;\n\nconst ENCODED_ENTITIES = /[\"&<]/;\n\nexport function encodeEntities(str) {\n\t// Ensure we're always parsing and returning a string:\n\tstr += '';\n\n\t// Skip all work for strings with no entities needing encoding:\n\tif (ENCODED_ENTITIES.test(str) === false) return str;\n\n\tlet last = 0,\n\t\ti = 0,\n\t\tout = '',\n\t\tch = '';\n\n\t// Seek forward in str until the next entity char:\n\tfor (; i < str.length; i++) {\n\t\tswitch (str.charCodeAt(i)) {\n\t\t\tcase 34:\n\t\t\t\tch = '&quot;';\n\t\t\t\tbreak;\n\t\t\tcase 38:\n\t\t\t\tch = '&amp;';\n\t\t\t\tbreak;\n\t\t\tcase 60:\n\t\t\t\tch = '&lt;';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tcontinue;\n\t\t}\n\t\t// Append skipped/buffered characters and the encoded entity:\n\t\tif (i !== last) out += str.slice(last, i);\n\t\tout += ch;\n\t\t// Start the next seek/buffer after the entity's offset:\n\t\tlast = i + 1;\n\t}\n\tif (i !== last) out += str.slice(last, i);\n\treturn out;\n}\n\nexport let indent = (s, char) =>\n\tString(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) =>\n\tString(s).length > (length || 40) ||\n\t(!ignoreLines && String(s).indexOf('\\n') !== -1) ||\n\tString(s).indexOf('<') !== -1;\n\nconst JS_TO_CSS = {};\n\nconst CSS_REGEX = /([A-Z])/g;\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val != null && val !== '') {\n\t\t\tif (str) str += ' ';\n\t\t\t// str += jsToCss(prop);\n\t\t\tstr +=\n\t\t\t\tprop[0] == '-'\n\t\t\t\t\t? prop\n\t\t\t\t\t: JS_TO_CSS[prop] ||\n\t\t\t\t\t  (JS_TO_CSS[prop] = prop.replace(CSS_REGEX, '-$1').toLowerCase());\n\n\t\t\tif (typeof val === 'number' && IS_NON_DIMENSIONAL.test(prop) === false) {\n\t\t\t\tstr = str + ': ' + val + 'px;';\n\t\t\t} else {\n\t\t\t\tstr = str + ': ' + val + ';';\n\t\t\t}\n\t\t}\n\t}\n\treturn str || undefined;\n}\n\n/**\n * Get flattened children from the children prop\n * @param {Array} accumulator\n * @param {any} children A `props.children` opaque object.\n * @returns {Array} accumulator\n * @private\n */\nexport function getChildren(accumulator, children) {\n\tif (Array.isArray(children)) {\n\t\tchildren.reduce(getChildren, accumulator);\n\t} else if (children != null && children !== false) {\n\t\taccumulator.push(children);\n\t}\n\treturn accumulator;\n}\n\nfunction markAsDirty() {\n\tthis.__d = true;\n}\n\nexport function createComponent(vnode, context) {\n\treturn {\n\t\t__v: vnode,\n\t\tcontext,\n\t\tprops: vnode.props,\n\t\t// silently drop state updates\n\t\tsetState: markAsDirty,\n\t\tforceUpdate: markAsDirty,\n\t\t__d: true,\n\t\t// hooks\n\t\t__h: []\n\t};\n}\n\n// Necessary for createContext api. Setting this property will pass\n// the context value as `this.context` just for this component.\nexport function getContext(nodeName, context) {\n\tlet cxType = nodeName.contextType;\n\tlet provider = cxType && context[cxType.__c];\n\treturn cxType != null\n\t\t? provider\n\t\t\t? provider.props.value\n\t\t\t: cxType.__\n\t\t: context;\n}\n", "import {\n\tencodeEntities,\n\tindent,\n\tisLargeString,\n\tstyleObjToCss,\n\tgetChildren,\n\tcreateComponent,\n\tgetContext,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, Fragment } from 'preact';\n\n// components without names, kept as a hash for later comparison to return consistent UnnamedComponentXX names.\nconst UNNAMED = [];\n\nexport function _renderToStringPretty(\n\tvnode,\n\tcontext,\n\topts,\n\tinner,\n\tisSvgMode,\n\tselectValue\n) {\n\tif (vnode == null || typeof vnode === 'boolean') {\n\t\treturn '';\n\t}\n\n\t// #text nodes\n\tif (typeof vnode !== 'object') {\n\t\treturn encodeEntities(vnode);\n\t}\n\n\tlet pretty = opts.pretty,\n\t\tindentChar = pretty && typeof pretty === 'string' ? pretty : '\\t';\n\n\tif (Array.isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\tif (pretty && i > 0) rendered = rendered + '\\n';\n\t\t\trendered =\n\t\t\t\trendered +\n\t\t\t\t_renderToStringPretty(\n\t\t\t\t\tvnode[i],\n\t\t\t\t\tcontext,\n\t\t\t\t\topts,\n\t\t\t\t\tinner,\n\t\t\t\t\tisSvgMode,\n\t\t\t\t\tselectValue\n\t\t\t\t);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\tlet nodeName = vnode.type,\n\t\tprops = vnode.props,\n\t\tisComponent = false;\n\n\t// components\n\tif (typeof nodeName === 'function') {\n\t\tisComponent = true;\n\t\tif (opts.shallow && (inner || opts.renderRootComponent === false)) {\n\t\t\tnodeName = getComponentName(nodeName);\n\t\t} else if (nodeName === Fragment) {\n\t\t\tconst children = [];\n\t\t\tgetChildren(children, vnode.props.children);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\tchildren,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t} else {\n\t\t\tlet rendered;\n\n\t\t\tlet c = (vnode.__c = createComponent(vnode, context));\n\n\t\t\t// options._diff\n\t\t\tif (options.__b) options.__b(vnode);\n\n\t\t\t// options._render\n\t\t\tlet renderHook = options.__r;\n\n\t\t\tif (\n\t\t\t\t!nodeName.prototype ||\n\t\t\t\ttypeof nodeName.prototype.render !== 'function'\n\t\t\t) {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// If a hook invokes setState() to invalidate the component during rendering,\n\t\t\t\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t\t\t\t// Note:\n\t\t\t\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t\t\t\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\t\t\t\tlet count = 0;\n\t\t\t\twhile (c.__d && count++ < 25) {\n\t\t\t\t\tc.__d = false;\n\n\t\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\t\t// stateless functional components\n\t\t\t\t\trendered = nodeName.call(vnode.__c, props, cctx);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet cctx = getContext(nodeName, context);\n\n\t\t\t\t// c = new nodeName(props, context);\n\t\t\t\tc = vnode.__c = new nodeName(props, cctx);\n\t\t\t\tc.__v = vnode;\n\t\t\t\t// turn off stateful re-rendering:\n\t\t\t\tc._dirty = c.__d = true;\n\t\t\t\tc.props = props;\n\t\t\t\tif (c.state == null) c.state = {};\n\n\t\t\t\tif (c._nextState == null && c.__s == null) {\n\t\t\t\t\tc._nextState = c.__s = c.state;\n\t\t\t\t}\n\n\t\t\t\tc.context = cctx;\n\t\t\t\tif (nodeName.getDerivedStateFromProps)\n\t\t\t\t\tc.state = Object.assign(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tc.state,\n\t\t\t\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t\t\t\t);\n\t\t\t\telse if (c.componentWillMount) {\n\t\t\t\t\tc.componentWillMount();\n\n\t\t\t\t\t// If the user called setState in cWM we need to flush pending,\n\t\t\t\t\t// state updates. This is the same behaviour in React.\n\t\t\t\t\tc.state =\n\t\t\t\t\t\tc._nextState !== c.state\n\t\t\t\t\t\t\t? c._nextState\n\t\t\t\t\t\t\t: c.__s !== c.state\n\t\t\t\t\t\t\t? c.__s\n\t\t\t\t\t\t\t: c.state;\n\t\t\t\t}\n\n\t\t\t\tif (renderHook) renderHook(vnode);\n\n\t\t\t\trendered = c.render(c.props, c.state, c.context);\n\t\t\t}\n\n\t\t\tif (c.getChildContext) {\n\t\t\t\tcontext = Object.assign({}, context, c.getChildContext());\n\t\t\t}\n\n\t\t\tif (options.diffed) options.diffed(vnode);\n\t\t\treturn _renderToStringPretty(\n\t\t\t\trendered,\n\t\t\t\tcontext,\n\t\t\t\topts,\n\t\t\t\topts.shallowHighOrder !== false,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t}\n\t}\n\n\t// render JSX to HTML\n\tlet s = '<' + nodeName,\n\t\tpropChildren,\n\t\thtml;\n\n\tif (props) {\n\t\tlet attrs = Object.keys(props);\n\n\t\t// allow sorting lexicographically for more determinism (useful for tests, such as via preact-jsx-chai)\n\t\tif (opts && opts.sortAttributes === true) attrs.sort();\n\n\t\tfor (let i = 0; i < attrs.length; i++) {\n\t\t\tlet name = attrs[i],\n\t\t\t\tv = props[name];\n\t\t\tif (name === 'children') {\n\t\t\t\tpropChildren = v;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tif (\n\t\t\t\t!(opts && opts.allAttributes) &&\n\t\t\t\t(name === 'key' ||\n\t\t\t\t\tname === 'ref' ||\n\t\t\t\t\tname === '__self' ||\n\t\t\t\t\tname === '__source')\n\t\t\t)\n\t\t\t\tcontinue;\n\n\t\t\tif (name === 'defaultValue') {\n\t\t\t\tname = 'value';\n\t\t\t} else if (name === 'defaultChecked') {\n\t\t\t\tname = 'checked';\n\t\t\t} else if (name === 'defaultSelected') {\n\t\t\t\tname = 'selected';\n\t\t\t} else if (name === 'className') {\n\t\t\t\tif (typeof props.class !== 'undefined') continue;\n\t\t\t\tname = 'class';\n\t\t\t} else if (isSvgMode && XLINK.test(name)) {\n\t\t\t\tname = name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t\t\t}\n\n\t\t\tif (name === 'htmlFor') {\n\t\t\t\tif (props.for) continue;\n\t\t\t\tname = 'for';\n\t\t\t}\n\n\t\t\tif (name === 'style' && v && typeof v === 'object') {\n\t\t\t\tv = styleObjToCss(v);\n\t\t\t}\n\n\t\t\t// always use string values instead of booleans for aria attributes\n\t\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\t\tif (name[0] === 'a' && name['1'] === 'r' && typeof v === 'boolean') {\n\t\t\t\tv = String(v);\n\t\t\t}\n\n\t\t\tlet hooked =\n\t\t\t\topts.attributeHook &&\n\t\t\t\topts.attributeHook(name, v, context, opts, isComponent);\n\t\t\tif (hooked || hooked === '') {\n\t\t\t\ts = s + hooked;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (nodeName === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tpropChildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\t// in non-xml mode, allow boolean attributes\n\t\t\t\t\tif (!opts || !opts.xml) {\n\t\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (nodeName === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\tnodeName === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\ttypeof props.selected === 'undefined'\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ` selected`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ` ${name}=\"${encodeEntities(v)}\"`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// account for >1 multiline attribute\n\tif (pretty) {\n\t\tlet sub = s.replace(/\\n\\s*/, ' ');\n\t\tif (sub !== s && !~sub.indexOf('\\n')) s = sub;\n\t\telse if (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t}\n\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(nodeName))\n\t\tthrow new Error(`${nodeName} is not a valid HTML tag name in ${s}`);\n\n\tlet isVoid =\n\t\tVOID_ELEMENTS.test(nodeName) ||\n\t\t(opts.voidElements && opts.voidElements.test(nodeName));\n\tlet pieces = [];\n\n\tlet children;\n\tif (html) {\n\t\t// if multiline, indent.\n\t\tif (pretty && isLargeString(html)) {\n\t\t\thtml = '\\n' + indentChar + indent(html, indentChar);\n\t\t}\n\t\ts = s + html;\n\t} else if (\n\t\tpropChildren != null &&\n\t\tgetChildren((children = []), propChildren).length\n\t) {\n\t\tlet hasLarge = pretty && ~s.indexOf('\\n');\n\t\tlet lastWasText = false;\n\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\t\tnodeName === 'svg'\n\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t: nodeName === 'foreignObject'\n\t\t\t\t\t\t\t? false\n\t\t\t\t\t\t\t: isSvgMode,\n\t\t\t\t\tret = _renderToStringPretty(\n\t\t\t\t\t\tchild,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t\topts,\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tchildSvgMode,\n\t\t\t\t\t\tselectValue\n\t\t\t\t\t);\n\n\t\t\t\tif (pretty && !hasLarge && isLargeString(ret)) hasLarge = true;\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tif (pretty) {\n\t\t\t\t\t\tlet isText = ret.length > 0 && ret[0] != '<';\n\n\t\t\t\t\t\t// We merge adjacent text nodes, otherwise each piece would be printed\n\t\t\t\t\t\t// on a new line.\n\t\t\t\t\t\tif (lastWasText && isText) {\n\t\t\t\t\t\t\tpieces[pieces.length - 1] += ret;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlastWasText = isText;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpieces.push(ret);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (pretty && hasLarge) {\n\t\t\tfor (let i = pieces.length; i--; ) {\n\t\t\t\tpieces[i] = '\\n' + indentChar + indent(pieces[i], indentChar);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (pieces.length || html) {\n\t\ts = s + pieces.join('');\n\t} else if (opts && opts.xml) {\n\t\treturn s.substring(0, s.length - 1) + ' />';\n\t}\n\n\tif (isVoid && !children && !html) {\n\t\ts = s.replace(/>$/, ' />');\n\t} else {\n\t\tif (pretty && ~s.indexOf('\\n')) s = s + '\\n';\n\t\ts = s + `</${nodeName}>`;\n\t}\n\n\treturn s;\n}\n\nfunction getComponentName(component) {\n\treturn (\n\t\tcomponent.displayName ||\n\t\t(component !== Function && component.name) ||\n\t\tgetFallbackComponentName(component)\n\t);\n}\n\nfunction getFallbackComponentName(component) {\n\tlet str = Function.prototype.toString.call(component),\n\t\tname = (str.match(/^\\s*function\\s+([^( ]+)/) || '')[1];\n\tif (!name) {\n\t\t// search for an existing indexed name for the given component:\n\t\tlet index = -1;\n\t\tfor (let i = UNNAMED.length; i--; ) {\n\t\t\tif (UNNAMED[i] === component) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// not found, create a new indexed name:\n\t\tif (index < 0) {\n\t\t\tindex = UNNAMED.push(component) - 1;\n\t\t}\n\t\tname = `UnnamedComponent${index}`;\n\t}\n\treturn name;\n}\n", "import {\n\tencodeEntities,\n\tstyleObjToCss,\n\tgetContext,\n\tcreateComponent,\n\tUNSAFE_NAME,\n\tXLINK,\n\tVOID_ELEMENTS\n} from './util';\nimport { options, Fragment } from 'preact';\nimport { _renderToStringPretty } from './pretty';\nimport {\n\tCOMMIT,\n\tCOMPONENT,\n\tDIFF,\n\tDIFFED,\n\tDIRTY,\n\tNEXT_STATE,\n\tRENDER,\n\tSKIP_EFFECTS,\n\tVNODE\n} from './constants';\n\n/** @typedef {import('preact').VNode} VNode */\n\nconst SHALLOW = { shallow: true };\n\n/** Render Preact JSX + Components to an HTML string.\n *\t@name render\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n *\t@param {Object} [options={}]\tRendering options\n *\t@param {Boolean} [options.shallow=false]\tIf `true`, renders nested Components as HTML elements (`<Foo a=\"b\" />`).\n *\t@param {Boolean} [options.xml=false]\t\tIf `true`, uses self-closing tags for elements without children.\n *\t@param {Boolean} [options.pretty=false]\t\tIf `true`, adds whitespace for readability\n *\t@param {RegExp|undefined} [options.voidElements]       RegeEx that matches elements that are considered void (self-closing)\n */\nrenderToString.render = renderToString;\n\n/** Only render elements, leaving Components inline as `<ComponentName ... />`.\n *\tThis method is just a convenience alias for `render(vnode, context, { shallow:true })`\n *\t@name shallow\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n */\nlet shallowRender = (vnode, context) => renderToString(vnode, context, SHALLOW);\n\nconst EMPTY_ARR = [];\nfunction renderToString(vnode, context, opts) {\n\tcontext = context || {};\n\n\t// Performance optimization: `renderToString` is synchronous and we\n\t// therefore don't execute any effects. To do that we pass an empty\n\t// array to `options._commit` (`__c`). But we can go one step further\n\t// and avoid a lot of dirty checks and allocations by setting\n\t// `options._skipEffects` (`__s`) too.\n\tconst previousSkipEffects = options[SKIP_EFFECTS];\n\toptions[SKIP_EFFECTS] = true;\n\n\tlet res;\n\tif (\n\t\topts &&\n\t\t(opts.pretty ||\n\t\t\topts.voidElements ||\n\t\t\topts.sortAttributes ||\n\t\t\topts.shallow ||\n\t\t\topts.allAttributes ||\n\t\t\topts.xml ||\n\t\t\topts.attributeHook)\n\t) {\n\t\tres = _renderToStringPretty(vnode, context, opts);\n\t} else {\n\t\tres = _renderToString(vnode, context, false, undefined);\n\t}\n\n\t// options._commit, we don't schedule any effects in this library right now,\n\t// so we can pass an empty queue to this hook.\n\tif (options[COMMIT]) options[COMMIT](vnode, EMPTY_ARR);\n\toptions[SKIP_EFFECTS] = previousSkipEffects;\n\tEMPTY_ARR.length = 0;\n\treturn res;\n}\n\nfunction renderFunctionComponent(vnode, context) {\n\tlet rendered,\n\t\tc = createComponent(vnode, context),\n\t\tcctx = getContext(vnode.type, context);\n\n\tvnode[COMPONENT] = c;\n\n\t// If a hook invokes setState() to invalidate the component during rendering,\n\t// re-render it up to 25 times to allow \"settling\" of memoized states.\n\t// Note:\n\t//   This will need to be updated for Preact 11 to use internal.flags rather than component._dirty:\n\t//   https://github.com/preactjs/preact/blob/d4ca6fdb19bc715e49fd144e69f7296b2f4daa40/src/diff/component.js#L35-L44\n\tlet renderHook = options[RENDER];\n\tlet count = 0;\n\twhile (c[DIRTY] && count++ < 25) {\n\t\tc[DIRTY] = false;\n\n\t\tif (renderHook) renderHook(vnode);\n\n\t\t// stateless functional components\n\t\trendered = vnode.type.call(c, vnode.props, cctx);\n\t}\n\n\treturn rendered;\n}\n\nfunction renderClassComponent(vnode, context) {\n\tlet nodeName = vnode.type,\n\t\tcctx = getContext(nodeName, context);\n\n\t// c = new nodeName(props, context);\n\tlet c = new nodeName(vnode.props, cctx);\n\tvnode[COMPONENT] = c;\n\tc[VNODE] = vnode;\n\t// turn off stateful re-rendering:\n\tc[DIRTY] = true;\n\tc.props = vnode.props;\n\tif (c.state == null) c.state = {};\n\n\tif (c[NEXT_STATE] == null) {\n\t\tc[NEXT_STATE] = c.state;\n\t}\n\n\tc.context = cctx;\n\tif (nodeName.getDerivedStateFromProps) {\n\t\tc.state = assign(\n\t\t\t{},\n\t\t\tc.state,\n\t\t\tnodeName.getDerivedStateFromProps(c.props, c.state)\n\t\t);\n\t} else if (c.componentWillMount) {\n\t\tc.componentWillMount();\n\n\t\t// If the user called setState in cWM we need to flush pending,\n\t\t// state updates. This is the same behaviour in React.\n\t\tc.state = c[NEXT_STATE] !== c.state ? c[NEXT_STATE] : c.state;\n\t}\n\n\tlet renderHook = options[RENDER];\n\tif (renderHook) renderHook(vnode);\n\n\treturn c.render(c.props, c.state, c.context);\n}\n\nfunction normalizePropName(name, isSvgMode) {\n\tif (name === 'className') {\n\t\treturn 'class';\n\t} else if (name === 'htmlFor') {\n\t\treturn 'for';\n\t} else if (name === 'defaultValue') {\n\t\treturn 'value';\n\t} else if (name === 'defaultChecked') {\n\t\treturn 'checked';\n\t} else if (name === 'defaultSelected') {\n\t\treturn 'selected';\n\t} else if (isSvgMode && XLINK.test(name)) {\n\t\treturn name.toLowerCase().replace(/^xlink:?/, 'xlink:');\n\t}\n\n\treturn name;\n}\n\nfunction normalizePropValue(name, v) {\n\tif (name === 'style' && v != null && typeof v === 'object') {\n\t\treturn styleObjToCss(v);\n\t} else if (name[0] === 'a' && name[1] === 'r' && typeof v === 'boolean') {\n\t\t// always use string values instead of booleans for aria attributes\n\t\t// also see https://github.com/preactjs/preact/pull/2347/files\n\t\treturn String(v);\n\t}\n\n\treturn v;\n}\n\nconst isArray = Array.isArray;\nconst assign = Object.assign;\n\n/** The default export is an alias of `render()`. */\nfunction _renderToString(vnode, context, isSvgMode, selectValue) {\n\t// Ignore non-rendered VNodes/values\n\tif (vnode == null || vnode === true || vnode === false || vnode === '') {\n\t\treturn '';\n\t}\n\n\t// Text VNodes: escape as HTML\n\tif (typeof vnode !== 'object') {\n\t\treturn encodeEntities(vnode);\n\t}\n\n\t// Recurse into children / Arrays\n\tif (isArray(vnode)) {\n\t\tlet rendered = '';\n\t\tfor (let i = 0; i < vnode.length; i++) {\n\t\t\trendered =\n\t\t\t\trendered + _renderToString(vnode[i], context, isSvgMode, selectValue);\n\t\t}\n\t\treturn rendered;\n\t}\n\n\tif (options[DIFF]) options[DIFF](vnode);\n\n\tlet type = vnode.type,\n\t\tprops = vnode.props;\n\n\t// Invoke rendering on Components\n\tconst isComponent = typeof type === 'function';\n\tif (isComponent) {\n\t\tif (type === Fragment) {\n\t\t\treturn _renderToString(\n\t\t\t\tvnode.props.children,\n\t\t\t\tcontext,\n\t\t\t\tisSvgMode,\n\t\t\t\tselectValue\n\t\t\t);\n\t\t}\n\n\t\tlet rendered;\n\t\tif (type.prototype && typeof type.prototype.render === 'function') {\n\t\t\trendered = renderClassComponent(vnode, context);\n\t\t} else {\n\t\t\trendered = renderFunctionComponent(vnode, context);\n\t\t}\n\n\t\tlet component = vnode[COMPONENT];\n\t\tif (component.getChildContext) {\n\t\t\tcontext = assign({}, context, component.getChildContext());\n\t\t}\n\n\t\t// Recurse into children before invoking the after-diff hook\n\t\tconst str = _renderToString(rendered, context, isSvgMode, selectValue);\n\t\tif (options[DIFFED]) options[DIFFED](vnode);\n\t\treturn str;\n\t}\n\n\t// Serialize Element VNodes to HTML\n\tlet s = '<',\n\t\tchildren,\n\t\thtml;\n\n\ts = s + type;\n\n\tif (props) {\n\t\tchildren = props.children;\n\t\tfor (let name in props) {\n\t\t\tlet v = props[name];\n\n\t\t\tif (\n\t\t\t\tname === 'key' ||\n\t\t\t\tname === 'ref' ||\n\t\t\t\tname === '__self' ||\n\t\t\t\tname === '__source' ||\n\t\t\t\tname === 'children' ||\n\t\t\t\t(name === 'className' && 'class' in props) ||\n\t\t\t\t(name === 'htmlFor' && 'for' in props)\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (UNSAFE_NAME.test(name)) continue;\n\n\t\t\tname = normalizePropName(name, isSvgMode);\n\t\t\tv = normalizePropValue(name, v);\n\n\t\t\tif (name === 'dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t} else if (type === 'textarea' && name === 'value') {\n\t\t\t\t// <textarea value=\"a&b\"> --> <textarea>a&amp;b</textarea>\n\t\t\t\tchildren = v;\n\t\t\t} else if ((v || v === 0 || v === '') && typeof v !== 'function') {\n\t\t\t\tif (v === true || v === '') {\n\t\t\t\t\tv = name;\n\t\t\t\t\ts = s + ' ' + name;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (name === 'value') {\n\t\t\t\t\tif (type === 'select') {\n\t\t\t\t\t\tselectValue = v;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t// If we're looking at an <option> and it's the currently selected one\n\t\t\t\t\t\ttype === 'option' &&\n\t\t\t\t\t\tselectValue == v &&\n\t\t\t\t\t\t// and the <option> doesn't already have a selected attribute on it\n\t\t\t\t\t\t!('selected' in props)\n\t\t\t\t\t) {\n\t\t\t\t\t\ts = s + ' selected';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts = s + ' ' + name + '=\"' + encodeEntities(v) + '\"';\n\t\t\t}\n\t\t}\n\t}\n\n\tlet startElement = s;\n\ts = s + '>';\n\n\tif (UNSAFE_NAME.test(type)) {\n\t\tthrow new Error(`${type} is not a valid HTML tag name in ${s}`);\n\t}\n\n\tlet pieces = '';\n\tlet hasChildren = false;\n\n\tif (html) {\n\t\tpieces = pieces + html;\n\t\thasChildren = true;\n\t} else if (typeof children === 'string') {\n\t\tpieces = pieces + encodeEntities(children);\n\t\thasChildren = true;\n\t} else if (isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tlet child = children[i];\n\n\t\t\tif (child != null && child !== false) {\n\t\t\t\tlet childSvgMode =\n\t\t\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\t\t\tlet ret = _renderToString(child, context, childSvgMode, selectValue);\n\n\t\t\t\t// Skip if we received an empty string\n\t\t\t\tif (ret) {\n\t\t\t\t\tpieces = pieces + ret;\n\t\t\t\t\thasChildren = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (children != null && children !== false && children !== true) {\n\t\tlet childSvgMode =\n\t\t\ttype === 'svg' || (type !== 'foreignObject' && isSvgMode);\n\t\tlet ret = _renderToString(children, context, childSvgMode, selectValue);\n\n\t\t// Skip if we received an empty string\n\t\tif (ret) {\n\t\t\tpieces = pieces + ret;\n\t\t\thasChildren = true;\n\t\t}\n\t}\n\n\tif (options[DIFFED]) options[DIFFED](vnode);\n\n\tif (hasChildren) {\n\t\ts = s + pieces;\n\t} else if (VOID_ELEMENTS.test(type)) {\n\t\treturn startElement + ' />';\n\t}\n\n\treturn s + '</' + type + '>';\n}\n\n/** The default export is an alias of `render()`. */\n\nrenderToString.shallowRender = shallowRender;\n\nexport default renderToString;\n\nexport {\n\trenderToString as render,\n\trenderToString as renderToStaticMarkup,\n\trenderToString,\n\tshallowRender\n};\n", "import { options, Fragment } from 'preact';\n\n/** @typedef {import('preact').VNode} VNode */\n\nlet vnodeId = 0;\n\n/**\n * @fileoverview\n * This file exports various methods that implement Babel's \"automatic\" JSX runtime API:\n * - jsx(type, props, key)\n * - jsxs(type, props, key)\n * - jsxDEV(type, props, key, __source, __self)\n *\n * The implementation of createVNode here is optimized for performance.\n * Benchmarks: https://esbench.com/bench/5f6b54a0b4632100a7dcd2b3\n */\n\n/**\n * JSX.Element factory used by Babel's {runtime:\"automatic\"} JSX transform\n * @param {VNode['type']} type\n * @param {VNode['props']} props\n * @param {VNode['key']} [key]\n * @param {string} [__self]\n * @param {string} [__source]\n */\nfunction createVNode(type, props, key, __self, __source) {\n\t// We'll want to preserve `ref` in props to get rid of the need for\n\t// forwardRef components in the future, but that should happen via\n\t// a separate PR.\n\tlet normalizedProps = {},\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'ref') {\n\t\t\tref = props[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tconst vnode = {\n\t\ttype,\n\t\tprops: normalizedProps,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: --vnodeId,\n\t\t__source,\n\t\t__self\n\t};\n\n\t// If a Component VNode, check for and apply defaultProps.\n\t// Note: `type` is often a String, and can be `undefined` in development.\n\tif (typeof type === 'function' && (ref = type.defaultProps)) {\n\t\tfor (i in ref)\n\t\t\tif (typeof normalizedProps[i] === 'undefined') {\n\t\t\t\tnormalizedProps[i] = ref[i];\n\t\t\t}\n\t}\n\n\tif (options.vnode) options.vnode(vnode);\n\treturn vnode;\n}\n\nexport {\n\tcreateVNode as jsx,\n\tcreateVNode as jsxs,\n\tcreateVNode as jsxDEV,\n\tFragment\n};\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\n/** Renders an error page. */\nexport default function ErrorPage(props) {\n    const { url, error = \"default\", theme } = props;\n    const signinPageUrl = `${url}/signin`;\n    const errors = {\n        default: {\n            status: 200,\n            heading: \"Error\",\n            message: (_jsx(\"p\", { children: _jsx(\"a\", { className: \"site\", href: url?.origin, children: url?.host }) })),\n        },\n        Configuration: {\n            status: 500,\n            heading: \"Server error\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"There is a problem with the server configuration.\" }), _jsx(\"p\", { children: \"Check the server logs for more information.\" })] })),\n        },\n        AccessDenied: {\n            status: 403,\n            heading: \"Access Denied\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"You do not have permission to sign in.\" }), _jsx(\"p\", { children: _jsx(\"a\", { className: \"button\", href: signinPageUrl, children: \"Sign in\" }) })] })),\n        },\n        Verification: {\n            status: 403,\n            heading: \"Unable to sign in\",\n            message: (_jsxs(\"div\", { children: [_jsx(\"p\", { children: \"The sign in link is no longer valid.\" }), _jsx(\"p\", { children: \"It may have been used already or it may have expired.\" })] })),\n            signin: (_jsx(\"a\", { className: \"button\", href: signinPageUrl, children: \"Sign in\" })),\n        },\n    };\n    const { status, heading, message, signin } = errors[error] ?? errors.default;\n    return {\n        status,\n        html: (_jsxs(\"div\", { className: \"error\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                        __html: `\n        :root {\n          --brand-color: ${theme?.brandColor}\n        }\n      `,\n                    } })), _jsxs(\"div\", { className: \"card\", children: [theme?.logo && _jsx(\"img\", { src: theme?.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: heading }), _jsx(\"div\", { className: \"message\", children: message }), signin] })] })),\n    };\n}\n", "//@ts-check\n// Declare a SimpleWebAuthnBrowser variable as part of \"window\"\n/** @typedef {\"authenticate\"} WebAuthnAuthenticate */\n/** @typedef {\"register\"} WebAuthnRegister */\n/** @typedef {WebAuthnRegister | WebAuthnAuthenticate} WebAuthnOptionsAction */\n/**\n * @template {WebAuthnOptionsAction} T\n * @typedef {T extends WebAuthnAuthenticate ?\n *  { options: import(\"@simplewebauthn/server/script/deps\").PublicKeyCredentialRequestOptionsJSON; action: \"authenticate\" } :\n *  T extends WebAuthnRegister ?\n *  { options: import(\"@simplewebauthn/server/script/deps\").PublicKeyCredentialCreationOptionsJSON; action: \"register\" } :\n * never\n * } WebAuthnOptionsReturn\n */\n/**\n * webauthnScript is the client-side script that handles the webauthn form\n *\n * @param {string} authURL is the URL of the auth API\n * @param {string} providerID is the ID of the webauthn provider\n */\nexport async function webauthnScript(authURL, providerID) {\n    /** @type {typeof import(\"@simplewebauthn/browser\")} */\n    // @ts-ignore\n    const WebAuthnBrowser = window.SimpleWebAuthnBrowser;\n    /**\n     * Fetch webauthn options from the server\n     *\n     * @template {WebAuthnOptionsAction} T\n     * @param {T | undefined} action action to fetch options for\n     * @returns {Promise<WebAuthnOptionsReturn<T> | undefined>}\n     */\n    async function fetchOptions(action) {\n        // Create the options URL with the action and query parameters\n        const url = new URL(`${authURL}/webauthn-options/${providerID}`);\n        if (action)\n            url.searchParams.append(\"action\", action);\n        const formFields = getFormFields();\n        formFields.forEach((field) => {\n            url.searchParams.append(field.name, field.value);\n        });\n        const res = await fetch(url);\n        if (!res.ok) {\n            console.error(\"Failed to fetch options\", res);\n            return;\n        }\n        return res.json();\n    }\n    /**\n     * Get the webauthn form from the page\n     *\n     * @returns {HTMLFormElement}\n     */\n    function getForm() {\n        const formID = `#${providerID}-form`;\n        /** @type {HTMLFormElement | null} */\n        const form = document.querySelector(formID);\n        if (!form)\n            throw new Error(`Form '${formID}' not found`);\n        return form;\n    }\n    /**\n     * Get formFields from the form\n     *\n     * @returns {HTMLInputElement[]}\n     */\n    function getFormFields() {\n        const form = getForm();\n        /** @type {HTMLInputElement[]} */\n        const formFields = Array.from(form.querySelectorAll(\"input[data-form-field]\"));\n        return formFields;\n    }\n    /**\n     * Passkey form submission handler.\n     * Takes the input from the form and a few other parameters and submits it to the server.\n     *\n     * @param {WebAuthnOptionsAction} action action to submit\n     * @param {unknown | undefined} data optional data to submit\n     * @returns {Promise<void>}\n     */\n    async function submitForm(action, data) {\n        const form = getForm();\n        // If a POST request, create hidden fields in the form\n        // and submit it so the browser redirects on login\n        if (action) {\n            const actionInput = document.createElement(\"input\");\n            actionInput.type = \"hidden\";\n            actionInput.name = \"action\";\n            actionInput.value = action;\n            form.appendChild(actionInput);\n        }\n        if (data) {\n            const dataInput = document.createElement(\"input\");\n            dataInput.type = \"hidden\";\n            dataInput.name = \"data\";\n            dataInput.value = JSON.stringify(data);\n            form.appendChild(dataInput);\n        }\n        return form.submit();\n    }\n    /**\n     * Executes the authentication flow by fetching options from the server,\n     * starting the authentication, and submitting the response to the server.\n     *\n     * @param {WebAuthnOptionsReturn<WebAuthnAuthenticate>['options']} options\n     * @param {boolean} autofill Whether or not to use the browser's autofill\n     * @returns {Promise<void>}\n     */\n    async function authenticationFlow(options, autofill) {\n        // Start authentication\n        const authResp = await WebAuthnBrowser.startAuthentication(options, autofill);\n        // Submit authentication response to server\n        return await submitForm(\"authenticate\", authResp);\n    }\n    /**\n     * @param {WebAuthnOptionsReturn<WebAuthnRegister>['options']} options\n     */\n    async function registrationFlow(options) {\n        // Check if all required formFields are set\n        const formFields = getFormFields();\n        formFields.forEach((field) => {\n            if (field.required && !field.value) {\n                throw new Error(`Missing required field: ${field.name}`);\n            }\n        });\n        // Start registration\n        const regResp = await WebAuthnBrowser.startRegistration(options);\n        // Submit registration response to server\n        return await submitForm(\"register\", regResp);\n    }\n    /**\n     * Attempts to authenticate the user when the page loads\n     * using the browser's autofill popup.\n     *\n     * @returns {Promise<void>}\n     */\n    async function autofillAuthentication() {\n        // if the browser can't handle autofill, don't try\n        if (!WebAuthnBrowser.browserSupportsWebAuthnAutofill())\n            return;\n        const res = await fetchOptions(\"authenticate\");\n        if (!res) {\n            console.error(\"Failed to fetch option for autofill authentication\");\n            return;\n        }\n        try {\n            await authenticationFlow(res.options, true);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    /**\n     * Sets up the passkey form by overriding the form submission handler\n     * so that it attempts to authenticate the user when the form is submitted.\n     * If the user is not registered, it will attempt to register them instead.\n     */\n    async function setupForm() {\n        const form = getForm();\n        // If the browser can't do WebAuthn, hide the form\n        if (!WebAuthnBrowser.browserSupportsWebAuthn()) {\n            form.style.display = \"none\";\n            return;\n        }\n        if (form) {\n            form.addEventListener(\"submit\", async (e) => {\n                e.preventDefault();\n                // Fetch options from the server without assuming that\n                // the user is registered\n                const res = await fetchOptions(undefined);\n                if (!res) {\n                    console.error(\"Failed to fetch options for form submission\");\n                    return;\n                }\n                // Then execute the appropriate flow\n                if (res.action === \"authenticate\") {\n                    try {\n                        await authenticationFlow(res.options, false);\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                }\n                else if (res.action === \"register\") {\n                    try {\n                        await registrationFlow(res.options);\n                    }\n                    catch (e) {\n                        console.error(e);\n                    }\n                }\n            });\n        }\n    }\n    // On page load, setup the form and attempt to authenticate the user.\n    setupForm();\n    autofillAuthentication();\n}\n", "import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"preact/jsx-runtime\";\nimport { webauthnScript } from \"../utils/webauthn-client.js\";\nconst signinErrors = {\n    default: \"Unable to sign in.\",\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallbackError: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"The e-mail could not be sent.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    SessionRequired: \"Please sign in to access this page.\",\n};\nfunction hexToRgba(hex, alpha = 1) {\n    if (!hex) {\n        return;\n    }\n    // Remove the \"#\" character if it's included\n    hex = hex.replace(/^#/, \"\");\n    // Expand 3-digit hex codes to their 6-digit equivalents\n    if (hex.length === 3) {\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n    // Parse the hex value to separate R, G, and B components\n    const bigint = parseInt(hex, 16);\n    const r = (bigint >> 16) & 255;\n    const g = (bigint >> 8) & 255;\n    const b = bigint & 255;\n    // Ensure the alpha value is within the valid range [0, 1]\n    alpha = Math.min(Math.max(alpha, 0), 1);\n    // Construct the RGBA string\n    const rgba = `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    return rgba;\n}\nfunction ConditionalUIScript(providerID) {\n    const startConditionalUIScript = `\nconst currentURL = window.location.href;\nconst authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));\n(${webauthnScript})(authURL, \"${providerID}\");\n`;\n    return (_jsx(_Fragment, { children: _jsx(\"script\", { dangerouslySetInnerHTML: { __html: startConditionalUIScript } }) }));\n}\nexport default function SigninPage(props) {\n    const { csrfToken, providers = [], callbackUrl, theme, email, error: errorType, } = props;\n    if (typeof document !== \"undefined\" && theme?.brandColor) {\n        document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n    }\n    if (typeof document !== \"undefined\" && theme?.buttonText) {\n        document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n    }\n    const error = errorType && (signinErrors[errorType] ?? signinErrors.default);\n    const providerLogoPath = \"https://authjs.dev/img/providers\";\n    const conditionalUIProviderID = providers.find((provider) => provider.type === \"webauthn\" && provider.enableConditionalUI)?.id;\n    return (_jsxs(\"div\", { className: \"signin\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `:root {--brand-color: ${theme.brandColor}}`,\n                } })), theme?.buttonText && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [error && (_jsx(\"div\", { className: \"error\", children: _jsx(\"p\", { children: error }) })), theme?.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), providers.map((provider, i) => {\n                        let bg, text, logo, logoDark, bgDark, textDark;\n                        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n                            ;\n                            ({\n                                bg = \"\",\n                                text = \"\",\n                                logo = \"\",\n                                bgDark = bg,\n                                textDark = text,\n                                logoDark = \"\",\n                            } = provider.style ?? {});\n                            logo = logo.startsWith(\"/\") ? providerLogoPath + logo : logo;\n                            logoDark = logoDark.startsWith(\"/\")\n                                ? providerLogoPath + logoDark\n                                : logoDark || logo;\n                            logoDark || (logoDark = logo);\n                        }\n                        return (_jsxs(\"div\", { className: \"provider\", children: [provider.type === \"oauth\" || provider.type === \"oidc\" ? (_jsxs(\"form\", { action: provider.signinUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), callbackUrl && (_jsx(\"input\", { type: \"hidden\", name: \"callbackUrl\", value: callbackUrl })), _jsxs(\"button\", { type: \"submit\", className: \"button\", style: {\n                                                \"--provider-bg\": bg,\n                                                \"--provider-dark-bg\": bgDark,\n                                                \"--provider-color\": text,\n                                                \"--provider-dark-color\": textDark,\n                                                \"--provider-bg-hover\": hexToRgba(bg, 0.8),\n                                                \"--provider-dark-bg-hover\": hexToRgba(bgDark, 0.8),\n                                            }, tabIndex: 0, children: [logo && (_jsx(\"img\", { loading: \"lazy\", height: 24, width: 24, id: \"provider-logo\", src: logo })), logoDark && (_jsx(\"img\", { loading: \"lazy\", height: 24, width: 24, id: \"provider-logo-dark\", src: logoDark })), _jsxs(\"span\", { children: [\"Sign in with \", provider.name] })] })] })) : null, (provider.type === \"email\" || provider.type === \"credentials\" || provider.type === \"webauthn\") &&\n                                    i > 0 &&\n                                    providers[i - 1].type !== \"email\" &&\n                                    providers[i - 1].type !== \"credentials\" &&\n                                    providers[i - 1].type !== \"webauthn\" && _jsx(\"hr\", {}), provider.type === \"email\" && (_jsxs(\"form\", { action: provider.signinUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), _jsx(\"label\", { className: \"section-header\", htmlFor: `input-email-for-${provider.id}-provider`, children: \"Email\" }), _jsx(\"input\", { id: `input-email-for-${provider.id}-provider`, autoFocus: true, type: \"email\", name: \"email\", value: email, placeholder: \"email@example.com\", required: true }), _jsxs(\"button\", { id: \"submitButton\", type: \"submit\", tabIndex: 0, children: [\"Sign in with \", provider.name] })] })), provider.type === \"credentials\" && (_jsxs(\"form\", { action: provider.callbackUrl, method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), Object.keys(provider.credentials).map((credential) => {\n                                            return (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"section-header\", htmlFor: `input-${credential}-for-${provider.id}-provider`, children: provider.credentials[credential].label ?? credential }), _jsx(\"input\", { name: credential, id: `input-${credential}-for-${provider.id}-provider`, type: provider.credentials[credential].type ?? \"text\", placeholder: provider.credentials[credential].placeholder ?? \"\", ...provider.credentials[credential] })] }, `input-group-${provider.id}`));\n                                        }), _jsxs(\"button\", { id: \"submitButton\", type: \"submit\", tabIndex: 0, children: [\"Sign in with \", provider.name] })] })), provider.type === \"webauthn\" && (_jsxs(\"form\", { action: provider.callbackUrl, method: \"POST\", id: `${provider.id}-form`, children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), Object.keys(provider.formFields).map((field) => {\n                                            return (_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"section-header\", htmlFor: `input-${field}-for-${provider.id}-provider`, children: provider.formFields[field].label ?? field }), _jsx(\"input\", { name: field, \"data-form-field\": true, id: `input-${field}-for-${provider.id}-provider`, type: provider.formFields[field].type ?? \"text\", placeholder: provider.formFields[field].placeholder ?? \"\", ...provider.formFields[field] })] }, `input-group-${provider.id}`));\n                                        }), _jsxs(\"button\", { id: `submitButton-${provider.id}`, type: \"submit\", tabIndex: 0, children: [\"Sign in with \", provider.name] })] })), (provider.type === \"email\" || provider.type === \"credentials\" || provider.type === \"webauthn\") &&\n                                    i + 1 < providers.length && _jsx(\"hr\", {})] }, provider.id));\n                    })] }), conditionalUIProviderID && ConditionalUIScript(conditionalUIProviderID)] }));\n}\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nexport default function SignoutPage(props) {\n    const { url, csrfToken, theme } = props;\n    return (_jsxs(\"div\", { className: \"signout\", children: [theme?.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `,\n                } })), theme?.buttonText && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [theme?.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: \"Signout\" }), _jsx(\"p\", { children: \"Are you sure you want to sign out?\" }), _jsxs(\"form\", { action: url?.toString(), method: \"POST\", children: [_jsx(\"input\", { type: \"hidden\", name: \"csrfToken\", value: csrfToken }), _jsx(\"button\", { id: \"submitButton\", type: \"submit\", children: \"Sign out\" })] })] })] }));\n}\n", "// Generated by `pnpm css`\nexport default `:root {\n  --border-width: 1px;\n  --border-radius: 0.5rem;\n  --color-error: #c94b4b;\n  --color-info: #157efb;\n  --color-info-hover: #0f6ddb;\n  --color-info-text: #fff;\n}\n\n.__next-auth-theme-auto,\n.__next-auth-theme-light {\n  --color-background: #ececec;\n  --color-background-hover: rgba(236, 236, 236, 0.8);\n  --color-background-card: #fff;\n  --color-text: #000;\n  --color-primary: #444;\n  --color-control-border: #bbb;\n  --color-button-active-background: #f9f9f9;\n  --color-button-active-border: #aaa;\n  --color-separator: #ccc;\n}\n\n.__next-auth-theme-dark {\n  --color-background: #161b22;\n  --color-background-hover: rgba(22, 27, 34, 0.8);\n  --color-background-card: #0d1117;\n  --color-text: #fff;\n  --color-primary: #ccc;\n  --color-control-border: #555;\n  --color-button-active-background: #060606;\n  --color-button-active-border: #666;\n  --color-separator: #444;\n}\n\n@media (prefers-color-scheme: dark) {\n  .__next-auth-theme-auto {\n    --color-background: #161b22;\n    --color-background-hover: rgba(22, 27, 34, 0.8);\n    --color-background-card: #0d1117;\n    --color-text: #fff;\n    --color-primary: #ccc;\n    --color-control-border: #555;\n    --color-button-active-background: #060606;\n    --color-button-active-border: #666;\n    --color-separator: #444;\n  }\n\n  button,\n  a.button {\n    color: var(--provider-dark-color, var(--color-primary));\n    background-color: var(--provider-dark-bg, var(--color-background));\n  }\n    :is(button,a.button):hover {\n      background-color: var(\n        --provider-dark-bg-hover,\n        var(--color-background-hover)\n      ) !important;\n    }\n  #provider-logo {\n    display: none !important;\n  }\n  #provider-logo-dark {\n    width: 25px;\n    display: block !important;\n  }\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: var(--color-background);\n  margin: 0;\n  padding: 0;\n  font-family:\n    ui-sans-serif,\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    \"Segoe UI\",\n    Roboto,\n    \"Helvetica Neue\",\n    Arial,\n    \"Noto Sans\",\n    sans-serif,\n    \"Apple Color Emoji\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n    \"Noto Color Emoji\";\n}\n\nh1 {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  font-weight: 400;\n  color: var(--color-text);\n}\n\np {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  color: var(--color-text);\n}\n\nform {\n  margin: 0;\n  padding: 0;\n}\n\nlabel {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.25rem;\n  display: block;\n  color: var(--color-text);\n}\n\ninput[type] {\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  border: var(--border-width) solid var(--color-control-border);\n  background: var(--color-background-card);\n  font-size: 1rem;\n  border-radius: var(--border-radius);\n  color: var(--color-text);\n}\n\ninput[type]:focus {\n    box-shadow: none;\n  }\n\np {\n  font-size: 1.1rem;\n  line-height: 2rem;\n}\n\na.button {\n  text-decoration: none;\n  line-height: 1rem;\n}\n\na.button:link,\n  a.button:visited {\n    background-color: var(--color-background);\n    color: var(--color-primary);\n  }\n\nbutton span {\n  flex-grow: 1;\n}\n\nbutton,\na.button {\n  padding: 0.75rem 1rem;\n  color: var(--provider-color, var(--color-primary));\n  background-color: var(--provider-bg);\n  font-size: 1.1rem;\n  min-height: 62px;\n  border-color: rgba(0, 0, 0, 0.1);\n  border-radius: var(--border-radius);\n  transition: all 0.1s ease-in-out;\n  font-weight: 500;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n:is(button,a.button):hover {\n    background-color: var(--provider-bg-hover, var(--color-background-hover));\n    cursor: pointer;\n  }\n\n:is(button,a.button):active {\n    cursor: pointer;\n  }\n\n:is(button,a.button) #provider-logo {\n    width: 25px;\n    display: block;\n  }\n\n:is(button,a.button) #provider-logo-dark {\n    display: none;\n  }\n\n#submitButton {\n  color: var(--button-text-color, var(--color-info-text));\n  background-color: var(--brand-color, var(--color-info));\n  width: 100%;\n}\n\n#submitButton:hover {\n    background-color: var(\n      --button-hover-bg,\n      var(--color-info-hover)\n    ) !important;\n  }\n\na.site {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-size: 1rem;\n  line-height: 2rem;\n}\n\na.site:hover {\n    text-decoration: underline;\n  }\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.page > div {\n    text-align: center;\n  }\n\n.error a.button {\n    padding-left: 2rem;\n    padding-right: 2rem;\n    margin-top: 0.5rem;\n  }\n\n.error .message {\n    margin-bottom: 1.5rem;\n  }\n\n.signin input[type=\"text\"] {\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n  }\n\n.signin hr {\n    display: block;\n    border: 0;\n    border-top: 1px solid var(--color-separator);\n    margin: 2rem auto 1rem auto;\n    overflow: visible;\n  }\n\n.signin hr::before {\n      content: \"or\";\n      background: var(--color-background-card);\n      color: #888;\n      padding: 0 0.4rem;\n      position: relative;\n      top: -0.7rem;\n    }\n\n.signin .error {\n    background: #f5f5f5;\n    font-weight: 500;\n    border-radius: 0.3rem;\n    background: var(--color-error);\n  }\n\n.signin .error p {\n      text-align: left;\n      padding: 0.5rem 1rem;\n      font-size: 0.9rem;\n      line-height: 1.2rem;\n      color: var(--color-info-text);\n    }\n\n.signin > div,\n  .signin form {\n    display: block;\n  }\n\n.signin > div input[type], .signin form input[type] {\n      margin-bottom: 0.5rem;\n    }\n\n.signin > div button, .signin form button {\n      width: 100%;\n    }\n\n.signin .provider + .provider {\n    margin-top: 1rem;\n  }\n\n.logo {\n  display: inline-block;\n  max-width: 150px;\n  margin: 1.25rem 0;\n  max-height: 70px;\n}\n\n.card {\n  background-color: var(--color-background-card);\n  border-radius: 2rem;\n  padding: 1.25rem 2rem;\n}\n\n.card .header {\n    color: var(--color-primary);\n  }\n\n.section-header {\n  color: var(--color-text);\n}\n\n@media screen and (min-width: 450px) {\n  .card {\n    margin: 2rem 0;\n    width: 368px;\n  }\n}\n@media screen and (max-width: 450px) {\n  .card {\n    margin: 1rem 0;\n    width: 343px;\n  }\n}\n`;\n", "import { jsx as _jsx, jsxs as _jsxs } from \"preact/jsx-runtime\";\nexport default function VerifyRequestPage(props) {\n    const { url, theme } = props;\n    return (_jsxs(\"div\", { className: \"verify-request\", children: [theme.brandColor && (_jsx(\"style\", { dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `,\n                } })), _jsxs(\"div\", { className: \"card\", children: [theme.logo && _jsx(\"img\", { src: theme.logo, alt: \"Logo\", className: \"logo\" }), _jsx(\"h1\", { children: \"Check your email\" }), _jsx(\"p\", { children: \"A sign in link has been sent to your email address.\" }), _jsx(\"p\", { children: _jsx(\"a\", { className: \"site\", href: url.origin, children: url.host }) })] })] }));\n}\n", "import { renderToString } from \"preact-render-to-string\";\nimport ErrorPage from \"./error.js\";\nimport SigninPage from \"./signin.js\";\nimport SignoutPage from \"./signout.js\";\nimport css from \"./styles.js\";\nimport VerifyRequestPage from \"./verify-request.js\";\nimport { UnknownAction } from \"../../errors.js\";\nfunction send({ html, title, status, cookies, theme, headTags, }) {\n    return {\n        cookies,\n        status,\n        headers: { \"Content-Type\": \"text/html\" },\n        body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${css}</style><title>${title}</title>${headTags ?? \"\"}</head><body class=\"__next-auth-theme-${theme?.colorScheme ?? \"auto\"}\"><div class=\"page\">${renderToString(html)}</div></body></html>`,\n    };\n}\n/**\n * Unless the user defines their [own pages](https://authjs.dev/reference/core#pages),\n * we render a set of default ones, using Preact SSR.\n */\nexport default function renderPage(params) {\n    const { url, theme, query, cookies, pages, providers } = params;\n    return {\n        csrf(skip, options, cookies) {\n            if (!skip) {\n                return {\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: { csrfToken: options.csrfToken },\n                    cookies,\n                };\n            }\n            options.logger.warn(\"csrf-disabled\");\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: \"\",\n                options: { ...options.cookies.csrfToken.options, maxAge: 0 },\n            });\n            return { status: 404, cookies };\n        },\n        providers(providers) {\n            return {\n                headers: { \"Content-Type\": \"application/json\" },\n                body: providers.reduce((acc, { id, name, type, signinUrl, callbackUrl }) => {\n                    acc[id] = { id, name, type, signinUrl, callbackUrl };\n                    return acc;\n                }, {}),\n            };\n        },\n        signin(providerId, error) {\n            if (providerId)\n                throw new UnknownAction(\"Unsupported action\");\n            if (pages?.signIn) {\n                let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl: params.callbackUrl ?? \"/\" })}`;\n                if (error)\n                    signinUrl = `${signinUrl}&${new URLSearchParams({ error })}`;\n                return { redirect: signinUrl, cookies };\n            }\n            // If we have a webauthn provider with conditional UI and\n            // a simpleWebAuthnBrowserScript is defined, we need to\n            // render the script in the page.\n            const webauthnProvider = providers?.find((p) => p.type === \"webauthn\" &&\n                p.enableConditionalUI &&\n                !!p.simpleWebAuthnBrowserVersion);\n            let simpleWebAuthnBrowserScript = \"\";\n            if (webauthnProvider) {\n                const { simpleWebAuthnBrowserVersion } = webauthnProvider;\n                simpleWebAuthnBrowserScript = `<script src=\"https://unpkg.com/@simplewebauthn/browser@${simpleWebAuthnBrowserVersion}/dist/bundle/index.umd.min.js\" crossorigin=\"anonymous\"></script>`;\n            }\n            return send({\n                cookies,\n                theme,\n                html: SigninPage({\n                    csrfToken: params.csrfToken,\n                    // We only want to render providers\n                    providers: params.providers?.filter((provider) => \n                    // Always render oauth and email type providers\n                    [\"email\", \"oauth\", \"oidc\"].includes(provider.type) ||\n                        // Only render credentials type provider if credentials are defined\n                        (provider.type === \"credentials\" && provider.credentials) ||\n                        // Only render webauthn type provider if formFields are defined\n                        (provider.type === \"webauthn\" && provider.formFields) ||\n                        // Don't render other provider types\n                        false),\n                    callbackUrl: params.callbackUrl,\n                    theme: params.theme,\n                    error,\n                    ...query,\n                }),\n                title: \"Sign In\",\n                headTags: simpleWebAuthnBrowserScript,\n            });\n        },\n        signout() {\n            if (pages?.signOut)\n                return { redirect: pages.signOut, cookies };\n            return send({\n                cookies,\n                theme,\n                html: SignoutPage({ csrfToken: params.csrfToken, url, theme }),\n                title: \"Sign Out\",\n            });\n        },\n        verifyRequest(props) {\n            if (pages?.verifyRequest)\n                return { redirect: pages.verifyRequest, cookies };\n            return send({\n                cookies,\n                theme,\n                html: VerifyRequestPage({ url, theme, ...props }),\n                title: \"Verify Request\",\n            });\n        },\n        error(error) {\n            if (pages?.error) {\n                return {\n                    redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n                    cookies,\n                };\n            }\n            return send({\n                cookies,\n                theme,\n                // @ts-expect-error fix error type\n                ...ErrorPage({ url, theme, error }),\n                title: \"Error\",\n            });\n        },\n    };\n}\n", "/**\n * Takes a number in seconds and returns the date in the future.\n * Optionally takes a second date parameter. In that case\n * the date in the future will be calculated from that date instead of now.\n */\nexport function fromDate(time, date = Date.now()) {\n    return new Date(date + time * 1000);\n}\n", "import { AccountNotLinked, OAuthAccountNotLinked } from \"../../../errors.js\";\nimport { fromDate } from \"../../utils/date.js\";\n/**\n * This function handles the complex flow of signing users in, and either creating,\n * linking (or not linking) accounts depending on if the user is currently logged\n * in, if they have account already and the authentication mechanism they are using.\n *\n * It prevents insecure behaviour, such as linking OAuth accounts unless a user is\n * signed in and authenticated with an existing valid account.\n *\n * All verification (e.g. OAuth flows or email address verification flows) are\n * done prior to this handler being called to avoid additional complexity in this\n * handler.\n */\nexport async function handleLoginOrRegister(sessionToken, _profile, _account, options) {\n    // Input validation\n    if (!_account?.providerAccountId || !_account.type)\n        throw new Error(\"Missing or invalid provider account\");\n    if (![\"email\", \"oauth\", \"oidc\", \"webauthn\"].includes(_account.type))\n        throw new Error(\"Provider not supported\");\n    const { adapter, jwt, events, session: { strategy: sessionStrategy, generateSessionToken }, } = options;\n    // If no adapter is configured then we don't have a database and cannot\n    // persist data; in this mode we just return a dummy session object.\n    if (!adapter) {\n        return { user: _profile, account: _account };\n    }\n    const profile = _profile;\n    let account = _account;\n    const { createUser, updateUser, getUser, getUserByAccount, getUserByEmail, linkAccount, createSession, getSessionAndUser, deleteSession, } = adapter;\n    let session = null;\n    let user = null;\n    let isNewUser = false;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    if (sessionToken) {\n        if (useJwtSession) {\n            try {\n                const salt = options.cookies.sessionToken.name;\n                session = await jwt.decode({ ...jwt, token: sessionToken, salt });\n                if (session && \"sub\" in session && session.sub) {\n                    user = await getUser(session.sub);\n                }\n            }\n            catch {\n                // If session can't be verified, treat as no session\n            }\n        }\n        else {\n            const userAndSession = await getSessionAndUser(sessionToken);\n            if (userAndSession) {\n                session = userAndSession.session;\n                user = userAndSession.user;\n            }\n        }\n    }\n    if (account.type === \"email\") {\n        // If signing in with an email, check if an account with the same email address exists already\n        const userByEmail = await getUserByEmail(profile.email);\n        if (userByEmail) {\n            // If they are not already signed in as the same user, this flow will\n            // sign them out of the current session and sign them in as the new user\n            if (user?.id !== userByEmail.id && !useJwtSession && sessionToken) {\n                // Delete existing session if they are currently signed in as another user.\n                // This will switch user accounts for the session in cases where the user was\n                // already logged in with a different account.\n                await deleteSession(sessionToken);\n            }\n            // Update emailVerified property on the user object\n            user = await updateUser({\n                id: userByEmail.id,\n                emailVerified: new Date(),\n            });\n            await events.updateUser?.({ user });\n        }\n        else {\n            // Create user account if there isn't one for the email address already\n            user = await createUser({ ...profile, emailVerified: new Date() });\n            await events.createUser?.({ user });\n            isNewUser = true;\n        }\n        // Create new session\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user, isNewUser };\n    }\n    else if (account.type === \"webauthn\") {\n        // Check if the account exists\n        const userByAccount = await getUserByAccount({\n            providerAccountId: account.providerAccountId,\n            provider: account.provider,\n        });\n        if (userByAccount) {\n            if (user) {\n                // If the user is already signed in with this account, we don't need to do anything\n                if (userByAccount.id === user.id) {\n                    const currentAccount = { ...account, userId: user.id };\n                    return { session, user, isNewUser, account: currentAccount };\n                }\n                // If the user is currently signed in, but the new account they are signing in\n                // with is already associated with another user, then we cannot link them\n                // and need to return an error.\n                throw new AccountNotLinked(\"The account is already associated with another user\", { provider: account.provider });\n            }\n            // If there is no active session, but the account being signed in with is already\n            // associated with a valid user then create session to sign the user in.\n            session = useJwtSession\n                ? {}\n                : await createSession({\n                    sessionToken: generateSessionToken(),\n                    userId: userByAccount.id,\n                    expires: fromDate(options.session.maxAge),\n                });\n            const currentAccount = { ...account, userId: userByAccount.id };\n            return { session, user: userByAccount, isNewUser, account: currentAccount };\n        }\n        else {\n            // If the account doesn't exist, we'll create it\n            if (user) {\n                // If the user is already signed in and the account isn't already associated\n                // with another user account then we can go ahead and link the accounts safely.\n                await linkAccount({ ...account, userId: user.id });\n                await events.linkAccount?.({ user, account, profile });\n                // As they are already signed in, we don't need to do anything after linking them\n                const currentAccount = { ...account, userId: user.id };\n                return { session, user, isNewUser, account: currentAccount };\n            }\n            // If the user is not signed in and it looks like a new account then we\n            // check there also isn't an user account already associated with the same\n            // email address as the one in the request.\n            const userByEmail = profile.email\n                ? await getUserByEmail(profile.email)\n                : null;\n            if (userByEmail) {\n                // We don't trust user-provided email addresses, so we don't want to link accounts\n                // if the email address associated with the new account is already associated with\n                // an existing account.\n                throw new AccountNotLinked(\"Another account already exists with the same e-mail address\", { provider: account.provider });\n            }\n            else {\n                // If the current user is not logged in and the profile isn't linked to any user\n                // accounts (by email or provider account id)...\n                //\n                // If no account matching the same [provider].id or .email exists, we can\n                // create a new account for the user, link it to the OAuth account and\n                // create a new session for them so they are signed in with it.\n                user = await createUser({ ...profile });\n            }\n            await events.createUser?.({ user });\n            await linkAccount({ ...account, userId: user.id });\n            await events.linkAccount?.({ user, account, profile });\n            session = useJwtSession\n                ? {}\n                : await createSession({\n                    sessionToken: generateSessionToken(),\n                    userId: user.id,\n                    expires: fromDate(options.session.maxAge),\n                });\n            const currentAccount = { ...account, userId: user.id };\n            return { session, user, isNewUser: true, account: currentAccount };\n        }\n    }\n    // If signing in with OAuth account, check to see if the account exists already\n    const userByAccount = await getUserByAccount({\n        providerAccountId: account.providerAccountId,\n        provider: account.provider,\n    });\n    if (userByAccount) {\n        if (user) {\n            // If the user is already signed in with this account, we don't need to do anything\n            if (userByAccount.id === user.id) {\n                return { session, user, isNewUser };\n            }\n            // If the user is currently signed in, but the new account they are signing in\n            // with is already associated with another user, then we cannot link them\n            // and need to return an error.\n            throw new OAuthAccountNotLinked(\"The account is already associated with another user\", { provider: account.provider });\n        }\n        // If there is no active session, but the account being signed in with is already\n        // associated with a valid user then create session to sign the user in.\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: userByAccount.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user: userByAccount, isNewUser };\n    }\n    else {\n        const { provider: p } = options;\n        const { type, provider, providerAccountId, userId, ...tokenSet } = account;\n        const defaults = { providerAccountId, provider, type, userId };\n        account = Object.assign(p.account(tokenSet) ?? {}, defaults);\n        if (user) {\n            // If the user is already signed in and the OAuth account isn't already associated\n            // with another user account then we can go ahead and link the accounts safely.\n            await linkAccount({ ...account, userId: user.id });\n            await events.linkAccount?.({ user, account, profile });\n            // As they are already signed in, we don't need to do anything after linking them\n            return { session, user, isNewUser };\n        }\n        // If the user is not signed in and it looks like a new OAuth account then we\n        // check there also isn't an user account already associated with the same\n        // email address as the one in the OAuth profile.\n        //\n        // This step is often overlooked in OAuth implementations, but covers the following cases:\n        //\n        // 1. It makes it harder for someone to accidentally create two accounts.\n        //    e.g. by signin in with email, then again with an oauth account connected to the same email.\n        // 2. It makes it harder to hijack a user account using a 3rd party OAuth account.\n        //    e.g. by creating an oauth account then changing the email address associated with it.\n        //\n        // It's quite common for services to automatically link accounts in this case, but it's\n        // better practice to require the user to sign in *then* link accounts to be sure\n        // someone is not exploiting a problem with a third party OAuth service.\n        //\n        // OAuth providers should require email address verification to prevent this, but in\n        // practice that is not always the case; this helps protect against that.\n        const userByEmail = profile.email\n            ? await getUserByEmail(profile.email)\n            : null;\n        if (userByEmail) {\n            const provider = options.provider;\n            if (provider?.allowDangerousEmailAccountLinking) {\n                // If you trust the oauth provider to correctly verify email addresses, you can opt-in to\n                // account linking even when the user is not signed-in.\n                user = userByEmail;\n            }\n            else {\n                // We end up here when we don't have an account with the same [provider].id *BUT*\n                // we do already have an account with the same email address as the one in the\n                // OAuth profile the user has just tried to sign in with.\n                //\n                // We don't want to have two accounts with the same email address, and we don't\n                // want to link them in case it's not safe to do so, so instead we prompt the user\n                // to sign in via email to verify their identity and then link the accounts.\n                throw new OAuthAccountNotLinked(\"Another account already exists with the same e-mail address\", { provider: account.provider });\n            }\n        }\n        else {\n            // If the current user is not logged in and the profile isn't linked to any user\n            // accounts (by email or provider account id)...\n            //\n            // If no account matching the same [provider].id or .email exists, we can\n            // create a new account for the user, link it to the OAuth account and\n            // create a new session for them so they are signed in with it.\n            user = await createUser({ ...profile, emailVerified: null });\n        }\n        await events.createUser?.({ user });\n        await linkAccount({ ...account, userId: user.id });\n        await events.linkAccount?.({ user, account, profile });\n        session = useJwtSession\n            ? {}\n            : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: fromDate(options.session.maxAge),\n            });\n        return { session, user, isNewUser: true };\n    }\n}\n", "let USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'oauth4webapi';\n    const VERSION = 'v2.10.3';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nfunction looseInstanceOf(input, expected) {\n    if (input == null) {\n        return false;\n    }\n    try {\n        return (input instanceof expected ||\n            Object.getPrototypeOf(input)[Symbol.toStringTag] === expected.prototype[Symbol.toStringTag]);\n    }\n    catch {\n        return false;\n    }\n}\nexport const clockSkew = Symbol();\nexport const clockTolerance = Symbol();\nexport const customFetch = Symbol();\nexport const useMtlsAlias = Symbol();\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\nfunction buf(input) {\n    if (typeof input === 'string') {\n        return encoder.encode(input);\n    }\n    return decoder.decode(input);\n}\nconst CHUNK_SIZE = 0x8000;\nfunction encodeBase64Url(input) {\n    if (input instanceof ArrayBuffer) {\n        input = new Uint8Array(input);\n    }\n    const arr = [];\n    for (let i = 0; i < input.byteLength; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join('')).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction decodeBase64Url(input) {\n    try {\n        const binary = atob(input.replace(/-/g, '+').replace(/_/g, '/').replace(/\\s/g, ''));\n        const bytes = new Uint8Array(binary.length);\n        for (let i = 0; i < binary.length; i++) {\n            bytes[i] = binary.charCodeAt(i);\n        }\n        return bytes;\n    }\n    catch (cause) {\n        throw new OPE('The input to be decoded is not correctly encoded.', { cause });\n    }\n}\nfunction b64u(input) {\n    if (typeof input === 'string') {\n        return decodeBase64Url(input);\n    }\n    return encodeBase64Url(input);\n}\nclass LRU {\n    constructor(maxSize) {\n        this.cache = new Map();\n        this._cache = new Map();\n        this.maxSize = maxSize;\n    }\n    get(key) {\n        let v = this.cache.get(key);\n        if (v) {\n            return v;\n        }\n        if ((v = this._cache.get(key))) {\n            this.update(key, v);\n            return v;\n        }\n        return undefined;\n    }\n    has(key) {\n        return this.cache.has(key) || this._cache.has(key);\n    }\n    set(key, value) {\n        if (this.cache.has(key)) {\n            this.cache.set(key, value);\n        }\n        else {\n            this.update(key, value);\n        }\n        return this;\n    }\n    delete(key) {\n        if (this.cache.has(key)) {\n            return this.cache.delete(key);\n        }\n        if (this._cache.has(key)) {\n            return this._cache.delete(key);\n        }\n        return false;\n    }\n    update(key, value) {\n        this.cache.set(key, value);\n        if (this.cache.size >= this.maxSize) {\n            this._cache = this.cache;\n            this.cache = new Map();\n        }\n    }\n}\nexport class UnsupportedOperationError extends Error {\n    constructor(message) {\n        super(message ?? 'operation not supported');\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class OperationProcessingError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nconst OPE = OperationProcessingError;\nconst dpopNonces = new LRU(100);\nfunction isCryptoKey(key) {\n    return key instanceof CryptoKey;\n}\nfunction isPrivateKey(key) {\n    return isCryptoKey(key) && key.type === 'private';\n}\nfunction isPublicKey(key) {\n    return isCryptoKey(key) && key.type === 'public';\n}\nconst SUPPORTED_JWS_ALGS = [\n    'PS256',\n    'ES256',\n    'RS256',\n    'PS384',\n    'ES384',\n    'RS384',\n    'PS512',\n    'ES512',\n    'RS512',\n    'EdDSA',\n];\nfunction processDpopNonce(response) {\n    try {\n        const nonce = response.headers.get('dpop-nonce');\n        if (nonce) {\n            dpopNonces.set(new URL(response.url).origin, nonce);\n        }\n    }\n    catch { }\n    return response;\n}\nfunction normalizeTyp(value) {\n    return value.toLowerCase().replace(/^application\\//, '');\n}\nfunction isJsonObject(input) {\n    if (input === null || typeof input !== 'object' || Array.isArray(input)) {\n        return false;\n    }\n    return true;\n}\nfunction prepareHeaders(input) {\n    if (looseInstanceOf(input, Headers)) {\n        input = Object.fromEntries(input.entries());\n    }\n    const headers = new Headers(input);\n    if (USER_AGENT && !headers.has('user-agent')) {\n        headers.set('user-agent', USER_AGENT);\n    }\n    if (headers.has('authorization')) {\n        throw new TypeError('\"options.headers\" must not include the \"authorization\" header name');\n    }\n    if (headers.has('dpop')) {\n        throw new TypeError('\"options.headers\" must not include the \"dpop\" header name');\n    }\n    return headers;\n}\nfunction signal(value) {\n    if (typeof value === 'function') {\n        value = value();\n    }\n    if (!(value instanceof AbortSignal)) {\n        throw new TypeError('\"options.signal\" must return or be an instance of AbortSignal');\n    }\n    return value;\n}\nexport async function discoveryRequest(issuerIdentifier, options) {\n    if (!(issuerIdentifier instanceof URL)) {\n        throw new TypeError('\"issuerIdentifier\" must be an instance of URL');\n    }\n    if (issuerIdentifier.protocol !== 'https:' && issuerIdentifier.protocol !== 'http:') {\n        throw new TypeError('\"issuer.protocol\" must be \"https:\" or \"http:\"');\n    }\n    const url = new URL(issuerIdentifier.href);\n    switch (options?.algorithm) {\n        case undefined:\n        case 'oidc':\n            url.pathname = `${url.pathname}/.well-known/openid-configuration`.replace('//', '/');\n            break;\n        case 'oauth2':\n            if (url.pathname === '/') {\n                url.pathname = '.well-known/oauth-authorization-server';\n            }\n            else {\n                url.pathname = `.well-known/oauth-authorization-server/${url.pathname}`.replace('//', '/');\n            }\n            break;\n        default:\n            throw new TypeError('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"');\n    }\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nfunction validateString(input) {\n    return typeof input === 'string' && input.length !== 0;\n}\nexport async function processDiscoveryResponse(expectedIssuerIdentifier, response) {\n    if (!(expectedIssuerIdentifier instanceof URL)) {\n        throw new TypeError('\"expectedIssuer\" must be an instance of URL');\n    }\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform Authorization Server Metadata response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.issuer)) {\n        throw new OPE('\"response\" body \"issuer\" property must be a non-empty string');\n    }\n    if (new URL(json.issuer).href !== expectedIssuerIdentifier.href) {\n        throw new OPE('\"response\" body \"issuer\" does not match \"expectedIssuer\"');\n    }\n    return json;\n}\nfunction randomBytes() {\n    return b64u(crypto.getRandomValues(new Uint8Array(32)));\n}\nexport function generateRandomCodeVerifier() {\n    return randomBytes();\n}\nexport function generateRandomState() {\n    return randomBytes();\n}\nexport function generateRandomNonce() {\n    return randomBytes();\n}\nexport async function calculatePKCECodeChallenge(codeVerifier) {\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    return b64u(await crypto.subtle.digest('SHA-256', buf(codeVerifier)));\n}\nfunction getKeyAndKid(input) {\n    if (input instanceof CryptoKey) {\n        return { key: input };\n    }\n    if (!(input?.key instanceof CryptoKey)) {\n        return {};\n    }\n    if (input.kid !== undefined && !validateString(input.kid)) {\n        throw new TypeError('\"kid\" must be a non-empty string');\n    }\n    return { key: input.key, kid: input.kid };\n}\nfunction formUrlEncode(token) {\n    return encodeURIComponent(token).replace(/%20/g, '+');\n}\nfunction clientSecretBasic(clientId, clientSecret) {\n    const username = formUrlEncode(clientId);\n    const password = formUrlEncode(clientSecret);\n    const credentials = btoa(`${username}:${password}`);\n    return `Basic ${credentials}`;\n}\nfunction psAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'PS256';\n        case 'SHA-384':\n            return 'PS384';\n        case 'SHA-512':\n            return 'PS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction rsAlg(key) {\n    switch (key.algorithm.hash.name) {\n        case 'SHA-256':\n            return 'RS256';\n        case 'SHA-384':\n            return 'RS384';\n        case 'SHA-512':\n            return 'RS512';\n        default:\n            throw new UnsupportedOperationError('unsupported RsaHashedKeyAlgorithm hash name');\n    }\n}\nfunction esAlg(key) {\n    switch (key.algorithm.namedCurve) {\n        case 'P-256':\n            return 'ES256';\n        case 'P-384':\n            return 'ES384';\n        case 'P-521':\n            return 'ES512';\n        default:\n            throw new UnsupportedOperationError('unsupported EcKeyAlgorithm namedCurve');\n    }\n}\nfunction keyToJws(key) {\n    switch (key.algorithm.name) {\n        case 'RSA-PSS':\n            return psAlg(key);\n        case 'RSASSA-PKCS1-v1_5':\n            return rsAlg(key);\n        case 'ECDSA':\n            return esAlg(key);\n        case 'Ed25519':\n        case 'Ed448':\n            return 'EdDSA';\n        default:\n            throw new UnsupportedOperationError('unsupported CryptoKey algorithm name');\n    }\n}\nfunction getClockSkew(client) {\n    const skew = client?.[clockSkew];\n    return typeof skew === 'number' && Number.isFinite(skew) ? skew : 0;\n}\nfunction getClockTolerance(client) {\n    const tolerance = client?.[clockTolerance];\n    return typeof tolerance === 'number' && Number.isFinite(tolerance) && Math.sign(tolerance) !== -1\n        ? tolerance\n        : 30;\n}\nfunction epochTime() {\n    return Math.floor(Date.now() / 1000);\n}\nfunction clientAssertion(as, client) {\n    const now = epochTime() + getClockSkew(client);\n    return {\n        jti: randomBytes(),\n        aud: [as.issuer, as.token_endpoint],\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n        sub: client.client_id,\n    };\n}\nasync function privateKeyJwt(as, client, key, kid) {\n    return jwt({\n        alg: keyToJws(key),\n        kid,\n    }, clientAssertion(as, client), key);\n}\nfunction assertAs(as) {\n    if (typeof as !== 'object' || as === null) {\n        throw new TypeError('\"as\" must be an object');\n    }\n    if (!validateString(as.issuer)) {\n        throw new TypeError('\"as.issuer\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClient(client) {\n    if (typeof client !== 'object' || client === null) {\n        throw new TypeError('\"client\" must be an object');\n    }\n    if (!validateString(client.client_id)) {\n        throw new TypeError('\"client.client_id\" property must be a non-empty string');\n    }\n    return true;\n}\nfunction assertClientSecret(clientSecret) {\n    if (!validateString(clientSecret)) {\n        throw new TypeError('\"client.client_secret\" property must be a non-empty string');\n    }\n    return clientSecret;\n}\nfunction assertNoClientPrivateKey(clientAuthMethod, clientPrivateKey) {\n    if (clientPrivateKey !== undefined) {\n        throw new TypeError(`\"options.clientPrivateKey\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nfunction assertNoClientSecret(clientAuthMethod, clientSecret) {\n    if (clientSecret !== undefined) {\n        throw new TypeError(`\"client.client_secret\" property must not be provided when ${clientAuthMethod} client authentication method is used.`);\n    }\n}\nasync function clientAuthentication(as, client, body, headers, clientPrivateKey) {\n    body.delete('client_secret');\n    body.delete('client_assertion_type');\n    body.delete('client_assertion');\n    switch (client.token_endpoint_auth_method) {\n        case undefined:\n        case 'client_secret_basic': {\n            assertNoClientPrivateKey('client_secret_basic', clientPrivateKey);\n            headers.set('authorization', clientSecretBasic(client.client_id, assertClientSecret(client.client_secret)));\n            break;\n        }\n        case 'client_secret_post': {\n            assertNoClientPrivateKey('client_secret_post', clientPrivateKey);\n            body.set('client_id', client.client_id);\n            body.set('client_secret', assertClientSecret(client.client_secret));\n            break;\n        }\n        case 'private_key_jwt': {\n            assertNoClientSecret('private_key_jwt', client.client_secret);\n            if (clientPrivateKey === undefined) {\n                throw new TypeError('\"options.clientPrivateKey\" must be provided when \"client.token_endpoint_auth_method\" is \"private_key_jwt\"');\n            }\n            const { key, kid } = getKeyAndKid(clientPrivateKey);\n            if (!isPrivateKey(key)) {\n                throw new TypeError('\"options.clientPrivateKey.key\" must be a private CryptoKey');\n            }\n            body.set('client_id', client.client_id);\n            body.set('client_assertion_type', 'urn:ietf:params:oauth:client-assertion-type:jwt-bearer');\n            body.set('client_assertion', await privateKeyJwt(as, client, key, kid));\n            break;\n        }\n        case 'tls_client_auth':\n        case 'self_signed_tls_client_auth':\n        case 'none': {\n            assertNoClientSecret(client.token_endpoint_auth_method, client.client_secret);\n            assertNoClientPrivateKey(client.token_endpoint_auth_method, clientPrivateKey);\n            body.set('client_id', client.client_id);\n            break;\n        }\n        default:\n            throw new UnsupportedOperationError('unsupported client token_endpoint_auth_method');\n    }\n}\nasync function jwt(header, claimsSet, key) {\n    if (!key.usages.includes('sign')) {\n        throw new TypeError('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');\n    }\n    const input = `${b64u(buf(JSON.stringify(header)))}.${b64u(buf(JSON.stringify(claimsSet)))}`;\n    const signature = b64u(await crypto.subtle.sign(keyToSubtle(key), key, buf(input)));\n    return `${input}.${signature}`;\n}\nexport async function issueRequestObject(as, client, parameters, privateKey) {\n    assertAs(as);\n    assertClient(client);\n    parameters = new URLSearchParams(parameters);\n    const { key, kid } = getKeyAndKid(privateKey);\n    if (!isPrivateKey(key)) {\n        throw new TypeError('\"privateKey.key\" must be a private CryptoKey');\n    }\n    parameters.set('client_id', client.client_id);\n    const now = epochTime() + getClockSkew(client);\n    const claims = {\n        ...Object.fromEntries(parameters.entries()),\n        jti: randomBytes(),\n        aud: as.issuer,\n        exp: now + 60,\n        iat: now,\n        nbf: now,\n        iss: client.client_id,\n    };\n    let resource;\n    if (parameters.has('resource') &&\n        (resource = parameters.getAll('resource')) &&\n        resource.length > 1) {\n        claims.resource = resource;\n    }\n    {\n        let value = parameters.get('max_age');\n        if (value !== null) {\n            claims.max_age = parseInt(value, 10);\n            if (!Number.isFinite(claims.max_age)) {\n                throw new OPE('\"max_age\" parameter must be a number');\n            }\n        }\n    }\n    {\n        let value = parameters.get('claims');\n        if (value !== null) {\n            try {\n                claims.claims = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"claims\" parameter as JSON', { cause });\n            }\n            if (!isJsonObject(claims.claims)) {\n                throw new OPE('\"claims\" parameter must be a JSON with a top level object');\n            }\n        }\n    }\n    {\n        let value = parameters.get('authorization_details');\n        if (value !== null) {\n            try {\n                claims.authorization_details = JSON.parse(value);\n            }\n            catch (cause) {\n                throw new OPE('failed to parse the \"authorization_details\" parameter as JSON', { cause });\n            }\n            if (!Array.isArray(claims.authorization_details)) {\n                throw new OPE('\"authorization_details\" parameter must be a JSON with a top level array');\n            }\n        }\n    }\n    return jwt({\n        alg: keyToJws(key),\n        typ: 'oauth-authz-req+jwt',\n        kid,\n    }, claims, key);\n}\nasync function dpopProofJwt(headers, options, url, htm, clockSkew, accessToken) {\n    const { privateKey, publicKey, nonce = dpopNonces.get(url.origin) } = options;\n    if (!isPrivateKey(privateKey)) {\n        throw new TypeError('\"DPoP.privateKey\" must be a private CryptoKey');\n    }\n    if (!isPublicKey(publicKey)) {\n        throw new TypeError('\"DPoP.publicKey\" must be a public CryptoKey');\n    }\n    if (nonce !== undefined && !validateString(nonce)) {\n        throw new TypeError('\"DPoP.nonce\" must be a non-empty string or undefined');\n    }\n    if (!publicKey.extractable) {\n        throw new TypeError('\"DPoP.publicKey.extractable\" must be true');\n    }\n    const now = epochTime() + clockSkew;\n    const proof = await jwt({\n        alg: keyToJws(privateKey),\n        typ: 'dpop+jwt',\n        jwk: await publicJwk(publicKey),\n    }, {\n        iat: now,\n        jti: randomBytes(),\n        htm,\n        nonce,\n        htu: `${url.origin}${url.pathname}`,\n        ath: accessToken ? b64u(await crypto.subtle.digest('SHA-256', buf(accessToken))) : undefined,\n    }, privateKey);\n    headers.set('dpop', proof);\n}\nlet jwkCache;\nasync function getSetPublicJwkCache(key) {\n    const { kty, e, n, x, y, crv } = await crypto.subtle.exportKey('jwk', key);\n    const jwk = { kty, e, n, x, y, crv };\n    jwkCache.set(key, jwk);\n    return jwk;\n}\nasync function publicJwk(key) {\n    jwkCache || (jwkCache = new WeakMap());\n    return jwkCache.get(key) || getSetPublicJwkCache(key);\n}\nfunction validateEndpoint(value, endpoint, options) {\n    if (typeof value !== 'string') {\n        if (options?.[useMtlsAlias]) {\n            throw new TypeError(`\"as.mtls_endpoint_aliases.${endpoint}\" must be a string`);\n        }\n        throw new TypeError(`\"as.${endpoint}\" must be a string`);\n    }\n    return new URL(value);\n}\nfunction resolveEndpoint(as, endpoint, options) {\n    if (options?.[useMtlsAlias] && as.mtls_endpoint_aliases && endpoint in as.mtls_endpoint_aliases) {\n        return validateEndpoint(as.mtls_endpoint_aliases[endpoint], endpoint, options);\n    }\n    return validateEndpoint(as[endpoint], endpoint);\n}\nexport async function pushedAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'pushed_authorization_request_endpoint', options);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport function isOAuth2Error(input) {\n    const value = input;\n    if (typeof value !== 'object' || Array.isArray(value) || value === null) {\n        return false;\n    }\n    return value.error !== undefined;\n}\nfunction unquote(value) {\n    if (value.length >= 2 && value[0] === '\"' && value[value.length - 1] === '\"') {\n        return value.slice(1, -1);\n    }\n    return value;\n}\nconst SPLIT_REGEXP = /((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/;\nconst SCHEMES_REGEXP = /(?:^|, ?)([0-9a-zA-Z!#$%&'*+\\-.^_`|~]+)(?=$|[ ,])/g;\nfunction wwwAuth(scheme, params) {\n    const arr = params.split(SPLIT_REGEXP).slice(1);\n    if (!arr.length) {\n        return { scheme: scheme.toLowerCase(), parameters: {} };\n    }\n    arr[arr.length - 1] = arr[arr.length - 1].replace(/,$/, '');\n    const parameters = {};\n    for (let i = 1; i < arr.length; i += 2) {\n        const idx = i;\n        if (arr[idx][0] === '\"') {\n            while (arr[idx].slice(-1) !== '\"' && ++i < arr.length) {\n                arr[idx] += arr[i];\n            }\n        }\n        const key = arr[idx - 1].replace(/^(?:, ?)|=$/g, '').toLowerCase();\n        parameters[key] = unquote(arr[idx]);\n    }\n    return {\n        scheme: scheme.toLowerCase(),\n        parameters,\n    };\n}\nexport function parseWwwAuthenticateChallenges(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    const header = response.headers.get('www-authenticate');\n    if (header === null) {\n        return undefined;\n    }\n    const result = [];\n    for (const { 1: scheme, index } of header.matchAll(SCHEMES_REGEXP)) {\n        result.push([scheme, index]);\n    }\n    if (!result.length) {\n        return undefined;\n    }\n    const challenges = result.map(([scheme, indexOf], i, others) => {\n        const next = others[i + 1];\n        let parameters;\n        if (next) {\n            parameters = header.slice(indexOf, next[1]);\n        }\n        else {\n            parameters = header.slice(indexOf);\n        }\n        return wwwAuth(scheme, parameters);\n    });\n    return challenges;\n}\nexport async function processPushedAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 201) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Pushed Authorization Request Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.request_uri)) {\n        throw new OPE('\"response\" body \"request_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    return json;\n}\nexport async function protectedResourceRequest(accessToken, method, url, headers, body, options) {\n    if (!validateString(accessToken)) {\n        throw new TypeError('\"accessToken\" must be a non-empty string');\n    }\n    if (!(url instanceof URL)) {\n        throw new TypeError('\"url\" must be an instance of URL');\n    }\n    headers = prepareHeaders(headers);\n    if (options?.DPoP === undefined) {\n        headers.set('authorization', `Bearer ${accessToken}`);\n    }\n    else {\n        await dpopProofJwt(headers, options.DPoP, url, 'GET', getClockSkew({ [clockSkew]: options?.[clockSkew] }), accessToken);\n        headers.set('authorization', `DPoP ${accessToken}`);\n    }\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nexport async function userInfoRequest(as, client, accessToken, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'userinfo_endpoint', options);\n    const headers = prepareHeaders(options?.headers);\n    if (client.userinfo_signed_response_alg) {\n        headers.set('accept', 'application/jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n        headers.append('accept', 'application/jwt');\n    }\n    return protectedResourceRequest(accessToken, 'GET', url, headers, null, {\n        ...options,\n        [clockSkew]: getClockSkew(client),\n    });\n}\nlet jwksCache;\nasync function getPublicSigKeyFromIssuerJwksUri(as, options, header) {\n    const { alg, kid } = header;\n    checkSupportedJwsAlg(alg);\n    let jwks;\n    let age;\n    jwksCache || (jwksCache = new WeakMap());\n    if (jwksCache.has(as)) {\n        ;\n        ({ jwks, age } = jwksCache.get(as));\n        if (age >= 300) {\n            jwksCache.delete(as);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n    }\n    else {\n        jwks = await jwksRequest(as, options).then(processJwksResponse);\n        age = 0;\n        jwksCache.set(as, {\n            jwks,\n            iat: epochTime(),\n            get age() {\n                return epochTime() - this.iat;\n            },\n        });\n    }\n    let kty;\n    switch (alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            kty = 'RSA';\n            break;\n        case 'ES':\n            kty = 'EC';\n            break;\n        case 'Ed':\n            kty = 'OKP';\n            break;\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const candidates = jwks.keys.filter((jwk) => {\n        if (jwk.kty !== kty) {\n            return false;\n        }\n        if (kid !== undefined && kid !== jwk.kid) {\n            return false;\n        }\n        if (jwk.alg !== undefined && alg !== jwk.alg) {\n            return false;\n        }\n        if (jwk.use !== undefined && jwk.use !== 'sig') {\n            return false;\n        }\n        if (jwk.key_ops?.includes('verify') === false) {\n            return false;\n        }\n        switch (true) {\n            case alg === 'ES256' && jwk.crv !== 'P-256':\n            case alg === 'ES384' && jwk.crv !== 'P-384':\n            case alg === 'ES512' && jwk.crv !== 'P-521':\n            case alg === 'EdDSA' && !(jwk.crv === 'Ed25519' || jwk.crv === 'Ed448'):\n                return false;\n        }\n        return true;\n    });\n    const { 0: jwk, length } = candidates;\n    if (!length) {\n        if (age >= 60) {\n            jwksCache.delete(as);\n            return getPublicSigKeyFromIssuerJwksUri(as, options, header);\n        }\n        throw new OPE('error when selecting a JWT verification key, no applicable keys found');\n    }\n    if (length !== 1) {\n        throw new OPE('error when selecting a JWT verification key, multiple applicable keys found, a \"kid\" JWT Header Parameter is required');\n    }\n    const key = await importJwk(alg, jwk);\n    if (key.type !== 'public') {\n        throw new OPE('jwks_uri must only contain public keys');\n    }\n    return key;\n}\nexport const skipSubjectCheck = Symbol();\nfunction getContentType(response) {\n    return response.headers.get('content-type')?.split(';')[0];\n}\nexport async function processUserInfoResponse(as, client, expectedSubject, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform UserInfo Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/jwt') {\n        assertReadableResponse(response);\n        const { claims } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.userinfo_signed_response_alg, as.userinfo_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n            .then(validateOptionalAudience.bind(undefined, client.client_id))\n            .then(validateOptionalIssuer.bind(undefined, as.issuer));\n        json = claims;\n    }\n    else {\n        if (client.userinfo_signed_response_alg) {\n            throw new OPE('JWT UserInfo Response expected');\n        }\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.sub)) {\n        throw new OPE('\"response\" body \"sub\" property must be a non-empty string');\n    }\n    switch (expectedSubject) {\n        case skipSubjectCheck:\n            break;\n        default:\n            if (!validateString(expectedSubject)) {\n                throw new OPE('\"expectedSubject\" must be a non-empty string');\n            }\n            if (json.sub !== expectedSubject) {\n                throw new OPE('unexpected \"response\" body \"sub\" value');\n            }\n    }\n    return json;\n}\nasync function authenticatedRequest(as, client, method, url, body, headers, options) {\n    await clientAuthentication(as, client, body, headers, options?.clientPrivateKey);\n    headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    return (options?.[customFetch] || fetch)(url.href, {\n        body,\n        headers: Object.fromEntries(headers.entries()),\n        method,\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function tokenEndpointRequest(as, client, grantType, parameters, options) {\n    const url = resolveEndpoint(as, 'token_endpoint', options);\n    parameters.set('grant_type', grantType);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    if (options?.DPoP !== undefined) {\n        await dpopProofJwt(headers, options.DPoP, url, 'POST', getClockSkew(client));\n    }\n    return authenticatedRequest(as, client, 'POST', url, parameters, headers, options);\n}\nexport async function refreshTokenGrantRequest(as, client, refreshToken, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(refreshToken)) {\n        throw new TypeError('\"refreshToken\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('refresh_token', refreshToken);\n    return tokenEndpointRequest(as, client, 'refresh_token', parameters, options);\n}\nconst idTokenClaims = new WeakMap();\nexport function getValidatedIdTokenClaims(ref) {\n    if (!ref.id_token) {\n        return undefined;\n    }\n    const claims = idTokenClaims.get(ref);\n    if (!claims) {\n        throw new TypeError('\"ref\" was already garbage collected or did not resolve from the proper sources');\n    }\n    return claims;\n}\nasync function processGenericAccessTokenResponse(as, client, response, ignoreIdToken = false, ignoreRefreshToken = false) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Token Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.access_token)) {\n        throw new OPE('\"response\" body \"access_token\" property must be a non-empty string');\n    }\n    if (!validateString(json.token_type)) {\n        throw new OPE('\"response\" body \"token_type\" property must be a non-empty string');\n    }\n    json.token_type = json.token_type.toLowerCase();\n    if (json.token_type !== 'dpop' && json.token_type !== 'bearer') {\n        throw new UnsupportedOperationError('unsupported `token_type` value');\n    }\n    if (json.expires_in !== undefined &&\n        (typeof json.expires_in !== 'number' || json.expires_in <= 0)) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (!ignoreRefreshToken &&\n        json.refresh_token !== undefined &&\n        !validateString(json.refresh_token)) {\n        throw new OPE('\"response\" body \"refresh_token\" property must be a non-empty string');\n    }\n    if (json.scope !== undefined && typeof json.scope !== 'string') {\n        throw new OPE('\"response\" body \"scope\" property must be a string');\n    }\n    if (!ignoreIdToken) {\n        if (json.id_token !== undefined && !validateString(json.id_token)) {\n            throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n        }\n        if (json.id_token) {\n            const { claims } = await validateJwt(json.id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n                .then(validatePresence.bind(undefined, ['aud', 'exp', 'iat', 'iss', 'sub']))\n                .then(validateIssuer.bind(undefined, as.issuer))\n                .then(validateAudience.bind(undefined, client.client_id));\n            if (Array.isArray(claims.aud) && claims.aud.length !== 1 && claims.azp !== client.client_id) {\n                throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n            }\n            if (client.require_auth_time && typeof claims.auth_time !== 'number') {\n                throw new OPE('unexpected ID Token \"auth_time\" (authentication time) claim value');\n            }\n            idTokenClaims.set(json, claims);\n        }\n    }\n    return json;\n}\nexport async function processRefreshTokenResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nfunction validateOptionalAudience(expected, result) {\n    if (result.claims.aud !== undefined) {\n        return validateAudience(expected, result);\n    }\n    return result;\n}\nfunction validateAudience(expected, result) {\n    if (Array.isArray(result.claims.aud)) {\n        if (!result.claims.aud.includes(expected)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n        }\n    }\n    else if (result.claims.aud !== expected) {\n        throw new OPE('unexpected JWT \"aud\" (audience) claim value');\n    }\n    return result;\n}\nfunction validateOptionalIssuer(expected, result) {\n    if (result.claims.iss !== undefined) {\n        return validateIssuer(expected, result);\n    }\n    return result;\n}\nfunction validateIssuer(expected, result) {\n    if (result.claims.iss !== expected) {\n        throw new OPE('unexpected JWT \"iss\" (issuer) claim value');\n    }\n    return result;\n}\nconst branded = new WeakSet();\nfunction brand(searchParams) {\n    branded.add(searchParams);\n    return searchParams;\n}\nexport async function authorizationCodeGrantRequest(as, client, callbackParameters, redirectUri, codeVerifier, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!branded.has(callbackParameters)) {\n        throw new TypeError('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()');\n    }\n    if (!validateString(redirectUri)) {\n        throw new TypeError('\"redirectUri\" must be a non-empty string');\n    }\n    if (!validateString(codeVerifier)) {\n        throw new TypeError('\"codeVerifier\" must be a non-empty string');\n    }\n    const code = getURLSearchParameter(callbackParameters, 'code');\n    if (!code) {\n        throw new OPE('no authorization code in \"callbackParameters\"');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('redirect_uri', redirectUri);\n    parameters.set('code_verifier', codeVerifier);\n    parameters.set('code', code);\n    return tokenEndpointRequest(as, client, 'authorization_code', parameters, options);\n}\nconst jwtClaimNames = {\n    aud: 'audience',\n    c_hash: 'code hash',\n    client_id: 'client id',\n    exp: 'expiration time',\n    iat: 'issued at',\n    iss: 'issuer',\n    jti: 'jwt id',\n    nonce: 'nonce',\n    s_hash: 'state hash',\n    sub: 'subject',\n    ath: 'access token hash',\n    htm: 'http method',\n    htu: 'http uri',\n    cnf: 'confirmation',\n};\nfunction validatePresence(required, result) {\n    for (const claim of required) {\n        if (result.claims[claim] === undefined) {\n            throw new OPE(`JWT \"${claim}\" (${jwtClaimNames[claim]}) claim missing`);\n        }\n    }\n    return result;\n}\nexport const expectNoNonce = Symbol();\nexport const skipAuthTimeCheck = Symbol();\nexport async function processAuthorizationCodeOpenIDResponse(as, client, response, expectedNonce, maxAge) {\n    const result = await processGenericAccessTokenResponse(as, client, response);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!validateString(result.id_token)) {\n        throw new OPE('\"response\" body \"id_token\" property must be a non-empty string');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    const claims = getValidatedIdTokenClaims(result);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"options.max_age\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    switch (expectedNonce) {\n        case undefined:\n        case expectNoNonce:\n            if (claims.nonce !== undefined) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n            break;\n        default:\n            if (!validateString(expectedNonce)) {\n                throw new TypeError('\"expectedNonce\" must be a non-empty string');\n            }\n            if (claims.nonce === undefined) {\n                throw new OPE('ID Token \"nonce\" claim missing');\n            }\n            if (claims.nonce !== expectedNonce) {\n                throw new OPE('unexpected ID Token \"nonce\" claim value');\n            }\n    }\n    return result;\n}\nexport async function processAuthorizationCodeOAuth2Response(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (result.id_token !== undefined) {\n        if (typeof result.id_token === 'string' && result.id_token.length) {\n            throw new OPE('Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing');\n        }\n        delete result.id_token;\n    }\n    return result;\n}\nfunction checkJwtType(expected, result) {\n    if (typeof result.header.typ !== 'string' || normalizeTyp(result.header.typ) !== expected) {\n        throw new OPE('unexpected JWT \"typ\" header parameter value');\n    }\n    return result;\n}\nexport async function clientCredentialsGrantRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    return tokenEndpointRequest(as, client, 'client_credentials', new URLSearchParams(parameters), options);\n}\nexport async function processClientCredentialsResponse(as, client, response) {\n    const result = await processGenericAccessTokenResponse(as, client, response, true, true);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    return result;\n}\nexport async function revocationRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'revocation_endpoint', options);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    headers.delete('accept');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processRevocationResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Revocation Endpoint response');\n    }\n    return undefined;\n}\nfunction assertReadableResponse(response) {\n    if (response.bodyUsed) {\n        throw new TypeError('\"response\" body has been used already');\n    }\n}\nexport async function introspectionRequest(as, client, token, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(token)) {\n        throw new TypeError('\"token\" must be a non-empty string');\n    }\n    const url = resolveEndpoint(as, 'introspection_endpoint', options);\n    const body = new URLSearchParams(options?.additionalParameters);\n    body.set('token', token);\n    const headers = prepareHeaders(options?.headers);\n    if (options?.requestJwtResponse ?? client.introspection_signed_response_alg) {\n        headers.set('accept', 'application/token-introspection+jwt');\n    }\n    else {\n        headers.set('accept', 'application/json');\n    }\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processIntrospectionResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Introspection Endpoint response');\n    }\n    let json;\n    if (getContentType(response) === 'application/token-introspection+jwt') {\n        assertReadableResponse(response);\n        const { claims } = await validateJwt(await response.text(), checkSigningAlgorithm.bind(undefined, client.introspection_signed_response_alg, as.introspection_signing_alg_values_supported), noSignatureCheck, getClockSkew(client), getClockTolerance(client))\n            .then(checkJwtType.bind(undefined, 'token-introspection+jwt'))\n            .then(validatePresence.bind(undefined, ['aud', 'iat', 'iss']))\n            .then(validateIssuer.bind(undefined, as.issuer))\n            .then(validateAudience.bind(undefined, client.client_id));\n        json = claims.token_introspection;\n        if (!isJsonObject(json)) {\n            throw new OPE('JWT \"token_introspection\" claim must be a JSON object');\n        }\n    }\n    else {\n        assertReadableResponse(response);\n        try {\n            json = await response.json();\n        }\n        catch (cause) {\n            throw new OPE('failed to parse \"response\" body as JSON', { cause });\n        }\n        if (!isJsonObject(json)) {\n            throw new OPE('\"response\" body must be a top level object');\n        }\n    }\n    if (typeof json.active !== 'boolean') {\n        throw new OPE('\"response\" body \"active\" property must be a boolean');\n    }\n    return json;\n}\nasync function jwksRequest(as, options) {\n    assertAs(as);\n    const url = resolveEndpoint(as, 'jwks_uri');\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    headers.append('accept', 'application/jwk-set+json');\n    return (options?.[customFetch] || fetch)(url.href, {\n        headers: Object.fromEntries(headers.entries()),\n        method: 'GET',\n        redirect: 'manual',\n        signal: options?.signal ? signal(options.signal) : null,\n    }).then(processDpopNonce);\n}\nasync function processJwksResponse(response) {\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        throw new OPE('\"response\" is not a conform JSON Web Key Set response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!Array.isArray(json.keys)) {\n        throw new OPE('\"response\" body \"keys\" property must be an array');\n    }\n    if (!Array.prototype.every.call(json.keys, isJsonObject)) {\n        throw new OPE('\"response\" body \"keys\" property members must be JWK formatted objects');\n    }\n    return json;\n}\nasync function handleOAuthBodyError(response) {\n    if (response.status > 399 && response.status < 500) {\n        assertReadableResponse(response);\n        try {\n            const json = await response.json();\n            if (isJsonObject(json) && typeof json.error === 'string' && json.error.length) {\n                if (json.error_description !== undefined && typeof json.error_description !== 'string') {\n                    delete json.error_description;\n                }\n                if (json.error_uri !== undefined && typeof json.error_uri !== 'string') {\n                    delete json.error_uri;\n                }\n                if (json.algs !== undefined && typeof json.algs !== 'string') {\n                    delete json.algs;\n                }\n                if (json.scope !== undefined && typeof json.scope !== 'string') {\n                    delete json.scope;\n                }\n                return json;\n            }\n        }\n        catch { }\n    }\n    return undefined;\n}\nfunction checkSupportedJwsAlg(alg) {\n    if (!SUPPORTED_JWS_ALGS.includes(alg)) {\n        throw new UnsupportedOperationError('unsupported JWS \"alg\" identifier');\n    }\n    return alg;\n}\nfunction checkRsaKeyAlgorithm(algorithm) {\n    if (typeof algorithm.modulusLength !== 'number' || algorithm.modulusLength < 2048) {\n        throw new OPE(`${algorithm.name} modulusLength must be at least 2048 bits`);\n    }\n}\nfunction ecdsaHashName(namedCurve) {\n    switch (namedCurve) {\n        case 'P-256':\n            return 'SHA-256';\n        case 'P-384':\n            return 'SHA-384';\n        case 'P-521':\n            return 'SHA-512';\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nfunction keyToSubtle(key) {\n    switch (key.algorithm.name) {\n        case 'ECDSA':\n            return {\n                name: key.algorithm.name,\n                hash: ecdsaHashName(key.algorithm.namedCurve),\n            };\n        case 'RSA-PSS': {\n            checkRsaKeyAlgorithm(key.algorithm);\n            switch (key.algorithm.hash.name) {\n                case 'SHA-256':\n                case 'SHA-384':\n                case 'SHA-512':\n                    return {\n                        name: key.algorithm.name,\n                        saltLength: parseInt(key.algorithm.hash.name.slice(-3), 10) >> 3,\n                    };\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        case 'RSASSA-PKCS1-v1_5':\n            checkRsaKeyAlgorithm(key.algorithm);\n            return key.algorithm.name;\n        case 'Ed448':\n        case 'Ed25519':\n            return key.algorithm.name;\n    }\n    throw new UnsupportedOperationError();\n}\nconst noSignatureCheck = Symbol();\nasync function validateJwt(jws, checkAlg, getKey, clockSkew, clockTolerance) {\n    const { 0: protectedHeader, 1: payload, 2: encodedSignature, length } = jws.split('.');\n    if (length === 5) {\n        throw new UnsupportedOperationError('JWE structure JWTs are not supported');\n    }\n    if (length !== 3) {\n        throw new OPE('Invalid JWT');\n    }\n    let header;\n    try {\n        header = JSON.parse(buf(b64u(protectedHeader)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Header body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(header)) {\n        throw new OPE('JWT Header must be a top level object');\n    }\n    checkAlg(header);\n    if (header.crit !== undefined) {\n        throw new OPE('unexpected JWT \"crit\" header parameter');\n    }\n    const signature = b64u(encodedSignature);\n    let key;\n    if (getKey !== noSignatureCheck) {\n        key = await getKey(header);\n        const input = `${protectedHeader}.${payload}`;\n        const verified = await crypto.subtle.verify(keyToSubtle(key), key, signature, buf(input));\n        if (!verified) {\n            throw new OPE('JWT signature verification failed');\n        }\n    }\n    let claims;\n    try {\n        claims = JSON.parse(buf(b64u(payload)));\n    }\n    catch (cause) {\n        throw new OPE('failed to parse JWT Payload body as base64url encoded JSON', { cause });\n    }\n    if (!isJsonObject(claims)) {\n        throw new OPE('JWT Payload must be a top level object');\n    }\n    const now = epochTime() + clockSkew;\n    if (claims.exp !== undefined) {\n        if (typeof claims.exp !== 'number') {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim type');\n        }\n        if (claims.exp <= now - clockTolerance) {\n            throw new OPE('unexpected JWT \"exp\" (expiration time) claim value, timestamp is <= now()');\n        }\n    }\n    if (claims.iat !== undefined) {\n        if (typeof claims.iat !== 'number') {\n            throw new OPE('unexpected JWT \"iat\" (issued at) claim type');\n        }\n    }\n    if (claims.iss !== undefined) {\n        if (typeof claims.iss !== 'string') {\n            throw new OPE('unexpected JWT \"iss\" (issuer) claim type');\n        }\n    }\n    if (claims.nbf !== undefined) {\n        if (typeof claims.nbf !== 'number') {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim type');\n        }\n        if (claims.nbf > now + clockTolerance) {\n            throw new OPE('unexpected JWT \"nbf\" (not before) claim value, timestamp is > now()');\n        }\n    }\n    if (claims.aud !== undefined) {\n        if (typeof claims.aud !== 'string' && !Array.isArray(claims.aud)) {\n            throw new OPE('unexpected JWT \"aud\" (audience) claim type');\n        }\n    }\n    return { header, claims, signature, key };\n}\nexport async function validateJwtAuthResponse(as, client, parameters, expectedState, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    const response = getURLSearchParameter(parameters, 'response');\n    if (!response) {\n        throw new OPE('\"parameters\" does not contain a JARM response');\n    }\n    if (typeof as.jwks_uri !== 'string') {\n        throw new TypeError('\"as.jwks_uri\" must be a string');\n    }\n    const { claims } = await validateJwt(response, checkSigningAlgorithm.bind(undefined, client.authorization_signed_response_alg, as.authorization_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client))\n        .then(validatePresence.bind(undefined, ['aud', 'exp', 'iss']))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const result = new URLSearchParams();\n    for (const [key, value] of Object.entries(claims)) {\n        if (typeof value === 'string' && key !== 'aud') {\n            result.set(key, value);\n        }\n    }\n    return validateAuthResponse(as, client, result, expectedState);\n}\nasync function idTokenHash(alg, data, key) {\n    let algorithm;\n    switch (alg) {\n        case 'RS256':\n        case 'PS256':\n        case 'ES256':\n            algorithm = 'SHA-256';\n            break;\n        case 'RS384':\n        case 'PS384':\n        case 'ES384':\n            algorithm = 'SHA-384';\n            break;\n        case 'RS512':\n        case 'PS512':\n        case 'ES512':\n            algorithm = 'SHA-512';\n            break;\n        case 'EdDSA':\n            if (key.algorithm.name === 'Ed25519') {\n                algorithm = 'SHA-512';\n                break;\n            }\n            throw new UnsupportedOperationError();\n        default:\n            throw new UnsupportedOperationError();\n    }\n    const digest = await crypto.subtle.digest(algorithm, buf(data));\n    return b64u(digest.slice(0, digest.byteLength / 2));\n}\nasync function idTokenHashMatches(data, actual, alg, key) {\n    const expected = await idTokenHash(alg, data, key);\n    return actual === expected;\n}\nexport async function validateDetachedSignatureResponse(as, client, parameters, expectedNonce, expectedState, maxAge, options) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        if (!parameters.hash.length) {\n            throw new TypeError('\"parameters\" as an instance of URL must contain a hash (fragment) with the Authorization Response parameters');\n        }\n        parameters = new URLSearchParams(parameters.hash.slice(1));\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams');\n    }\n    parameters = new URLSearchParams(parameters);\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    parameters.delete('id_token');\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new TypeError('\"expectedState\" must be a non-empty string');\n            }\n    }\n    const result = validateAuthResponse({\n        ...as,\n        authorization_response_iss_parameter_supported: false,\n    }, client, parameters, expectedState);\n    if (isOAuth2Error(result)) {\n        return result;\n    }\n    if (!id_token) {\n        throw new OPE('\"parameters\" does not contain an ID Token');\n    }\n    const code = getURLSearchParameter(parameters, 'code');\n    if (!code) {\n        throw new OPE('\"parameters\" does not contain an Authorization Code');\n    }\n    if (typeof as.jwks_uri !== 'string') {\n        throw new TypeError('\"as.jwks_uri\" must be a string');\n    }\n    const requiredClaims = [\n        'aud',\n        'exp',\n        'iat',\n        'iss',\n        'sub',\n        'nonce',\n        'c_hash',\n    ];\n    if (typeof expectedState === 'string') {\n        requiredClaims.push('s_hash');\n    }\n    const { claims, header, key } = await validateJwt(id_token, checkSigningAlgorithm.bind(undefined, client.id_token_signed_response_alg, as.id_token_signing_alg_values_supported), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(client), getClockTolerance(client))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, client.client_id));\n    const clockSkew = getClockSkew(client);\n    const now = epochTime() + clockSkew;\n    if (claims.iat < now - 3600) {\n        throw new OPE('unexpected JWT \"iat\" (issued at) claim value, it is too far in the past');\n    }\n    if (typeof claims.c_hash !== 'string' ||\n        (await idTokenHashMatches(code, claims.c_hash, header.alg, key)) !== true) {\n        throw new OPE('invalid ID Token \"c_hash\" (code hash) claim value');\n    }\n    if (claims.s_hash !== undefined && typeof expectedState !== 'string') {\n        throw new OPE('could not verify ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (typeof expectedState === 'string' &&\n        (typeof claims.s_hash !== 'string' ||\n            (await idTokenHashMatches(expectedState, claims.s_hash, header.alg, key)) !== true)) {\n        throw new OPE('invalid ID Token \"s_hash\" (state hash) claim value');\n    }\n    if (client.require_auth_time !== undefined && typeof claims.auth_time !== 'number') {\n        throw new OPE('unexpected ID Token \"auth_time\" (authentication time) claim value');\n    }\n    maxAge ?? (maxAge = client.default_max_age ?? skipAuthTimeCheck);\n    if ((client.require_auth_time || maxAge !== skipAuthTimeCheck) &&\n        claims.auth_time === undefined) {\n        throw new OPE('ID Token \"auth_time\" (authentication time) claim missing');\n    }\n    if (maxAge !== skipAuthTimeCheck) {\n        if (typeof maxAge !== 'number' || maxAge < 0) {\n            throw new TypeError('\"options.max_age\" must be a non-negative number');\n        }\n        const now = epochTime() + getClockSkew(client);\n        const tolerance = getClockTolerance(client);\n        if (claims.auth_time + maxAge < now - tolerance) {\n            throw new OPE('too much time has elapsed since the last End-User authentication');\n        }\n    }\n    if (!validateString(expectedNonce)) {\n        throw new TypeError('\"expectedNonce\" must be a non-empty string');\n    }\n    if (claims.nonce !== expectedNonce) {\n        throw new OPE('unexpected ID Token \"nonce\" claim value');\n    }\n    if (Array.isArray(claims.aud) && claims.aud.length !== 1 && claims.azp !== client.client_id) {\n        throw new OPE('unexpected ID Token \"azp\" (authorized party) claim value');\n    }\n    return result;\n}\nfunction checkSigningAlgorithm(client, issuer, header) {\n    if (client !== undefined) {\n        if (header.alg !== client) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (Array.isArray(issuer)) {\n        if (!issuer.includes(header.alg)) {\n            throw new OPE('unexpected JWT \"alg\" header parameter');\n        }\n        return;\n    }\n    if (header.alg !== 'RS256') {\n        throw new OPE('unexpected JWT \"alg\" header parameter');\n    }\n}\nfunction getURLSearchParameter(parameters, name) {\n    const { 0: value, length } = parameters.getAll(name);\n    if (length > 1) {\n        throw new OPE(`\"${name}\" parameter must be provided only once`);\n    }\n    return value;\n}\nexport const skipStateCheck = Symbol();\nexport const expectNoState = Symbol();\nexport function validateAuthResponse(as, client, parameters, expectedState) {\n    assertAs(as);\n    assertClient(client);\n    if (parameters instanceof URL) {\n        parameters = parameters.searchParams;\n    }\n    if (!(parameters instanceof URLSearchParams)) {\n        throw new TypeError('\"parameters\" must be an instance of URLSearchParams, or URL');\n    }\n    if (getURLSearchParameter(parameters, 'response')) {\n        throw new OPE('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');\n    }\n    const iss = getURLSearchParameter(parameters, 'iss');\n    const state = getURLSearchParameter(parameters, 'state');\n    if (!iss && as.authorization_response_iss_parameter_supported) {\n        throw new OPE('response parameter \"iss\" (issuer) missing');\n    }\n    if (iss && iss !== as.issuer) {\n        throw new OPE('unexpected \"iss\" (issuer) response parameter value');\n    }\n    switch (expectedState) {\n        case undefined:\n        case expectNoState:\n            if (state !== undefined) {\n                throw new OPE('unexpected \"state\" response parameter encountered');\n            }\n            break;\n        case skipStateCheck:\n            break;\n        default:\n            if (!validateString(expectedState)) {\n                throw new OPE('\"expectedState\" must be a non-empty string');\n            }\n            if (state === undefined) {\n                throw new OPE('response parameter \"state\" missing');\n            }\n            if (state !== expectedState) {\n                throw new OPE('unexpected \"state\" response parameter value');\n            }\n    }\n    const error = getURLSearchParameter(parameters, 'error');\n    if (error) {\n        return {\n            error,\n            error_description: getURLSearchParameter(parameters, 'error_description'),\n            error_uri: getURLSearchParameter(parameters, 'error_uri'),\n        };\n    }\n    const id_token = getURLSearchParameter(parameters, 'id_token');\n    const token = getURLSearchParameter(parameters, 'token');\n    if (id_token !== undefined || token !== undefined) {\n        throw new UnsupportedOperationError('implicit and hybrid flows are not supported');\n    }\n    return brand(new URLSearchParams(parameters));\n}\nfunction algToSubtle(alg, crv) {\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n        case 'ES256':\n        case 'ES384':\n            return { name: 'ECDSA', namedCurve: `P-${alg.slice(-3)}` };\n        case 'ES512':\n            return { name: 'ECDSA', namedCurve: 'P-521' };\n        case 'EdDSA': {\n            switch (crv) {\n                case 'Ed25519':\n                case 'Ed448':\n                    return crv;\n                default:\n                    throw new UnsupportedOperationError();\n            }\n        }\n        default:\n            throw new UnsupportedOperationError();\n    }\n}\nasync function importJwk(alg, jwk) {\n    const { ext, key_ops, use, ...key } = jwk;\n    return crypto.subtle.importKey('jwk', key, algToSubtle(alg, jwk.crv), true, ['verify']);\n}\nexport async function deviceAuthorizationRequest(as, client, parameters, options) {\n    assertAs(as);\n    assertClient(client);\n    const url = resolveEndpoint(as, 'device_authorization_endpoint', options);\n    const body = new URLSearchParams(parameters);\n    body.set('client_id', client.client_id);\n    const headers = prepareHeaders(options?.headers);\n    headers.set('accept', 'application/json');\n    return authenticatedRequest(as, client, 'POST', url, body, headers, options);\n}\nexport async function processDeviceAuthorizationResponse(as, client, response) {\n    assertAs(as);\n    assertClient(client);\n    if (!looseInstanceOf(response, Response)) {\n        throw new TypeError('\"response\" must be an instance of Response');\n    }\n    if (response.status !== 200) {\n        let err;\n        if ((err = await handleOAuthBodyError(response))) {\n            return err;\n        }\n        throw new OPE('\"response\" is not a conform Device Authorization Endpoint response');\n    }\n    assertReadableResponse(response);\n    let json;\n    try {\n        json = await response.json();\n    }\n    catch (cause) {\n        throw new OPE('failed to parse \"response\" body as JSON', { cause });\n    }\n    if (!isJsonObject(json)) {\n        throw new OPE('\"response\" body must be a top level object');\n    }\n    if (!validateString(json.device_code)) {\n        throw new OPE('\"response\" body \"device_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.user_code)) {\n        throw new OPE('\"response\" body \"user_code\" property must be a non-empty string');\n    }\n    if (!validateString(json.verification_uri)) {\n        throw new OPE('\"response\" body \"verification_uri\" property must be a non-empty string');\n    }\n    if (typeof json.expires_in !== 'number' || json.expires_in <= 0) {\n        throw new OPE('\"response\" body \"expires_in\" property must be a positive number');\n    }\n    if (json.verification_uri_complete !== undefined &&\n        !validateString(json.verification_uri_complete)) {\n        throw new OPE('\"response\" body \"verification_uri_complete\" property must be a non-empty string');\n    }\n    if (json.interval !== undefined && (typeof json.interval !== 'number' || json.interval <= 0)) {\n        throw new OPE('\"response\" body \"interval\" property must be a positive number');\n    }\n    return json;\n}\nexport async function deviceCodeGrantRequest(as, client, deviceCode, options) {\n    assertAs(as);\n    assertClient(client);\n    if (!validateString(deviceCode)) {\n        throw new TypeError('\"deviceCode\" must be a non-empty string');\n    }\n    const parameters = new URLSearchParams(options?.additionalParameters);\n    parameters.set('device_code', deviceCode);\n    return tokenEndpointRequest(as, client, 'urn:ietf:params:oauth:grant-type:device_code', parameters, options);\n}\nexport async function processDeviceCodeResponse(as, client, response) {\n    return processGenericAccessTokenResponse(as, client, response);\n}\nexport async function generateKeyPair(alg, options) {\n    if (!validateString(alg)) {\n        throw new TypeError('\"alg\" must be a non-empty string');\n    }\n    const algorithm = algToSubtle(alg, alg === 'EdDSA' ? options?.crv ?? 'Ed25519' : undefined);\n    if (alg.startsWith('PS') || alg.startsWith('RS')) {\n        Object.assign(algorithm, {\n            modulusLength: options?.modulusLength ?? 2048,\n            publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        });\n    }\n    return (crypto.subtle.generateKey(algorithm, options?.extractable ?? false, ['sign', 'verify']));\n}\nfunction normalizeHtu(htu) {\n    const url = new URL(htu);\n    url.search = '';\n    url.hash = '';\n    return url.href;\n}\nasync function validateDPoP(as, request, accessToken, accessTokenClaims, options) {\n    const header = request.headers.get('dpop');\n    if (header === null) {\n        throw new OPE('operation indicated DPoP use but the request has no DPoP HTTP Header');\n    }\n    if (request.headers.get('authorization')?.toLowerCase().startsWith('dpop ') === false) {\n        throw new OPE(`operation indicated DPoP use but the request's Authorization HTTP Header scheme is not DPoP`);\n    }\n    if (typeof accessTokenClaims.cnf?.jkt !== 'string') {\n        throw new OPE('operation indicated DPoP use but the JWT Access Token has no jkt confirmation claim');\n    }\n    const clockSkew = getClockSkew(options);\n    const proof = await validateJwt(header, checkSigningAlgorithm.bind(undefined, undefined, as?.dpop_signing_alg_values_supported || SUPPORTED_JWS_ALGS), async ({ jwk, alg }) => {\n        if (!jwk) {\n            throw new OPE('DPoP Proof is missing the jwk header parameter');\n        }\n        const key = await importJwk(alg, jwk);\n        if (key.type !== 'public') {\n            throw new OPE('DPoP Proof jwk header parameter must contain a public key');\n        }\n        return key;\n    }, clockSkew, getClockTolerance(options))\n        .then(checkJwtType.bind(undefined, 'dpop+jwt'))\n        .then(validatePresence.bind(undefined, ['iat', 'jti', 'ath', 'htm', 'htu']));\n    const now = epochTime() + clockSkew;\n    const diff = Math.abs(now - proof.claims.iat);\n    if (diff > 300) {\n        throw new OPE('DPoP Proof iat is not recent enough');\n    }\n    if (proof.claims.htm !== request.method) {\n        throw new OPE('DPoP Proof htm mismatch');\n    }\n    if (typeof proof.claims.htu !== 'string' ||\n        normalizeHtu(proof.claims.htu) !== normalizeHtu(request.url)) {\n        throw new OPE('DPoP Proof htu mismatch');\n    }\n    {\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(accessToken)));\n        if (proof.claims.ath !== expected) {\n            throw new OPE('DPoP Proof ath mismatch');\n        }\n    }\n    {\n        let components;\n        switch (proof.header.jwk.kty) {\n            case 'EC':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                    y: proof.header.jwk.y,\n                };\n                break;\n            case 'OKP':\n                components = {\n                    crv: proof.header.jwk.crv,\n                    kty: proof.header.jwk.kty,\n                    x: proof.header.jwk.x,\n                };\n                break;\n            case 'RSA':\n                components = {\n                    e: proof.header.jwk.e,\n                    kty: proof.header.jwk.kty,\n                    n: proof.header.jwk.n,\n                };\n                break;\n            default:\n                throw new UnsupportedOperationError();\n        }\n        const expected = b64u(await crypto.subtle.digest('SHA-256', encoder.encode(JSON.stringify(components))));\n        if (accessTokenClaims.cnf.jkt !== expected) {\n            throw new OPE('JWT Access Token confirmation mismatch');\n        }\n    }\n}\nexport async function validateJwtAccessToken(as, request, expectedAudience, options) {\n    assertAs(as);\n    if (!looseInstanceOf(request, Request)) {\n        throw new TypeError('\"request\" must be an instance of Request');\n    }\n    if (!validateString(expectedAudience)) {\n        throw new OPE('\"expectedAudience\" must be a non-empty string');\n    }\n    const authorization = request.headers.get('authorization');\n    if (authorization === null) {\n        throw new OPE('\"request\" is missing an Authorization HTTP Header');\n    }\n    let { 0: scheme, 1: accessToken, length } = authorization.split(' ');\n    scheme = scheme.toLowerCase();\n    switch (scheme) {\n        case 'dpop':\n        case 'bearer':\n            break;\n        default:\n            throw new UnsupportedOperationError('unsupported Authorization HTTP Header scheme');\n    }\n    if (length !== 2) {\n        throw new OPE('invalid Authorization HTTP Header format');\n    }\n    const requiredClaims = [\n        'iss',\n        'exp',\n        'aud',\n        'sub',\n        'iat',\n        'jti',\n        'client_id',\n    ];\n    if (options?.requireDPoP || scheme === 'dpop' || request.headers.has('dpop')) {\n        requiredClaims.push('cnf');\n    }\n    const { claims } = await validateJwt(accessToken, checkSigningAlgorithm.bind(undefined, undefined, SUPPORTED_JWS_ALGS), getPublicSigKeyFromIssuerJwksUri.bind(undefined, as, options), getClockSkew(options), getClockTolerance(options))\n        .then(checkJwtType.bind(undefined, 'at+jwt'))\n        .then(validatePresence.bind(undefined, requiredClaims))\n        .then(validateIssuer.bind(undefined, as.issuer))\n        .then(validateAudience.bind(undefined, expectedAudience));\n    for (const claim of ['client_id', 'jti', 'sub']) {\n        if (typeof claims[claim] !== 'string') {\n            throw new OPE(`unexpected JWT \"${claim}\" claim type`);\n        }\n    }\n    if ('cnf' in claims) {\n        if (!isJsonObject(claims.cnf)) {\n            throw new OPE('unexpected JWT \"cnf\" (confirmation) claim value');\n        }\n        const { 0: cnf, length } = Object.keys(claims.cnf);\n        if (length) {\n            if (length !== 1) {\n                throw new UnsupportedOperationError('multiple confirmation claims are not supported');\n            }\n            if (cnf !== 'jkt') {\n                throw new UnsupportedOperationError('unsupported JWT Confirmation method');\n            }\n        }\n    }\n    if (options?.requireDPoP ||\n        scheme === 'dpop' ||\n        claims.cnf?.jkt !== undefined ||\n        request.headers.has('dpop')) {\n        await validateDPoP(as, request, accessToken, claims, options);\n    }\n    return claims;\n}\nexport const experimentalCustomFetch = customFetch;\nexport const experimental_customFetch = customFetch;\nexport const experimentalUseMtlsAlias = useMtlsAlias;\nexport const experimental_useMtlsAlias = useMtlsAlias;\nexport const experimental_validateDetachedSignatureResponse = validateDetachedSignatureResponse;\nexport const experimental_validateJwtAccessToken = validateJwtAccessToken;\n", "import * as jose from \"jose\";\nimport * as o from \"oauth4webapi\";\nimport { InvalidCheck } from \"../../../../errors.js\";\nimport { decode, encode } from \"../../../../jwt.js\";\n/** Returns a signed cookie. */\nexport async function signCookie(type, value, maxAge, options, data) {\n    const { cookies, logger } = options;\n    logger.debug(`CREATE_${type.toUpperCase()}`, { value, maxAge });\n    const expires = new Date();\n    expires.setTime(expires.getTime() + maxAge * 1000);\n    const token = { value };\n    if (type === \"state\" && data)\n        token.data = data;\n    const name = cookies[type].name;\n    return {\n        name,\n        value: await encode({ ...options.jwt, maxAge, token, salt: name }),\n        options: { ...cookies[type].options, expires },\n    };\n}\nconst PKCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport const pkce = {\n    async create(options) {\n        const code_verifier = o.generateRandomCodeVerifier();\n        const value = await o.calculatePKCECodeChallenge(code_verifier);\n        const maxAge = PKCE_MAX_AGE;\n        const cookie = await signCookie(\"pkceCodeVerifier\", code_verifier, maxAge, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns code_verifier if the provider is configured to use PKCE,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the code_verifier is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc7636\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#pkce\n     */\n    async use(cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"pkce\"))\n            return;\n        const codeVerifier = cookies?.[options.cookies.pkceCodeVerifier.name];\n        if (!codeVerifier)\n            throw new InvalidCheck(\"PKCE code_verifier cookie was missing.\");\n        const value = await decode({\n            ...options.jwt,\n            token: codeVerifier,\n            salt: options.cookies.pkceCodeVerifier.name,\n        });\n        if (!value?.value)\n            throw new InvalidCheck(\"PKCE code_verifier value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        resCookies.push({\n            name: options.cookies.pkceCodeVerifier.name,\n            value: \"\",\n            options: { ...options.cookies.pkceCodeVerifier.options, maxAge: 0 },\n        });\n        return value.value;\n    },\n};\nconst STATE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport function decodeState(value) {\n    try {\n        const decoder = new TextDecoder();\n        return JSON.parse(decoder.decode(jose.base64url.decode(value)));\n    }\n    catch { }\n}\nexport const state = {\n    async create(options, data) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) {\n            if (data) {\n                throw new InvalidCheck(\"State data was provided but the provider is not configured to use state.\");\n            }\n            return;\n        }\n        const encodedState = jose.base64url.encode(JSON.stringify({ ...data, random: o.generateRandomState() }));\n        const maxAge = STATE_MAX_AGE;\n        const cookie = await signCookie(\"state\", encodedState, maxAge, options, data);\n        return { cookie, value: encodedState };\n    },\n    /**\n     * Returns state if the provider is configured to use state,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the state is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-10.12\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n     */\n    async use(cookies, resCookies, options, paramRandom) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\"))\n            return;\n        const state = cookies?.[options.cookies.state.name];\n        if (!state)\n            throw new InvalidCheck(\"State cookie was missing.\");\n        // IDEA: Let the user do something with the returned state\n        const encodedState = await decode({\n            ...options.jwt,\n            token: state,\n            salt: options.cookies.state.name,\n        });\n        if (!encodedState?.value)\n            throw new InvalidCheck(\"State (cookie) value could not be parsed.\");\n        const decodedState = decodeState(encodedState.value);\n        if (!decodedState)\n            throw new InvalidCheck(\"State (encoded) value could not be parsed.\");\n        if (decodedState.random !== paramRandom)\n            throw new InvalidCheck(`Random state values did not match. Expected: ${decodedState.random}. Got: ${paramRandom}`);\n        // Clear the state cookie after use\n        resCookies.push({\n            name: options.cookies.state.name,\n            value: \"\",\n            options: { ...options.cookies.state.options, maxAge: 0 },\n        });\n        return encodedState.value;\n    },\n};\nconst NONCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport const nonce = {\n    async create(options) {\n        if (!options.provider.checks.includes(\"nonce\"))\n            return;\n        const value = o.generateRandomNonce();\n        const maxAge = NONCE_MAX_AGE;\n        const cookie = await signCookie(\"nonce\", value, maxAge, options);\n        return { cookie, value };\n    },\n    /**\n     * Returns nonce if the provider is configured to use nonce,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the nonce is missing or invalid.\n     * @see https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#nonce\n     */\n    async use(cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"nonce\"))\n            return;\n        const nonce = cookies?.[options.cookies.nonce.name];\n        if (!nonce)\n            throw new InvalidCheck(\"Nonce cookie was missing.\");\n        const value = await decode({\n            ...options.jwt,\n            token: nonce,\n            salt: options.cookies.nonce.name,\n        });\n        if (!value?.value)\n            throw new InvalidCheck(\"Nonce value could not be parsed.\");\n        // Clear the nonce cookie after use\n        resCookies.push({\n            name: options.cookies.nonce.name,\n            value: \"\",\n            options: { ...options.cookies.nonce.options, maxAge: 0 },\n        });\n        return value.value;\n    },\n};\n/**\n * When the authorization flow contains a state, we check if it's a redirect proxy\n * and if so, we return the random state and the original redirect URL.\n */\nexport function handleState(query, provider, isOnRedirectProxy) {\n    let randomState;\n    let proxyRedirect;\n    if (provider.redirectProxyUrl && !query?.state) {\n        throw new InvalidCheck(\"Missing state in query, but required for redirect proxy\");\n    }\n    const state = decodeState(query?.state);\n    randomState = state?.random;\n    if (isOnRedirectProxy) {\n        if (!state?.origin)\n            return { randomState };\n        proxyRedirect = `${state.origin}?${new URLSearchParams(query)}`;\n    }\n    return { randomState, proxyRedirect };\n}\nconst WEBAUTHN_CHALLENGE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nexport const webauthnChallenge = {\n    async create(options, challenge, registerData) {\n        const maxAge = WEBAUTHN_CHALLENGE_MAX_AGE;\n        const data = { challenge, registerData };\n        const cookie = await signCookie(\"webauthnChallenge\", JSON.stringify(data), maxAge, options);\n        return { cookie };\n    },\n    /**\n     * Returns challenge if present,\n     */\n    async use(options, cookies, resCookies) {\n        const challenge = cookies?.[options.cookies.webauthnChallenge.name];\n        if (!challenge)\n            throw new InvalidCheck(\"Challenge cookie missing.\");\n        const value = await decode({\n            ...options.jwt,\n            token: challenge,\n            salt: options.cookies.webauthnChallenge.name,\n        });\n        if (!value?.value)\n            throw new InvalidCheck(\"Challenge value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        const cookie = {\n            name: options.cookies.webauthnChallenge.name,\n            value: \"\",\n            options: { ...options.cookies.webauthnChallenge.options, maxAge: 0 },\n        };\n        resCookies.push(cookie);\n        return JSON.parse(value.value);\n    },\n};\n", "import * as checks from \"./checks.js\";\nimport * as o from \"oauth4webapi\";\nimport { OAuthCallbackError, OAuthProfileParseError, } from \"../../../../errors.js\";\n/**\n * Handles the following OAuth steps.\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n * https://openid.net/specs/openid-connect-core-1_0.html#UserInfoRequest\n *\n * @note Although requesting userinfo is not required by the OAuth2.0 spec,\n * we fetch it anyway. This is because we always want a user profile.\n */\nexport async function handleOAuth(query, cookies, options, randomState) {\n    const { logger, provider } = options;\n    let as;\n    const { token, userinfo } = provider;\n    // Falls back to authjs.dev if the user only passed params\n    if ((!token?.url || token.url.host === \"authjs.dev\") &&\n        (!userinfo?.url || userinfo.url.host === \"authjs.dev\")) {\n        // We assume that issuer is always defined as this has been asserted earlier\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await o.discoveryRequest(issuer);\n        const discoveredAs = await o.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!discoveredAs.token_endpoint)\n            throw new TypeError(\"TODO: Authorization server did not provide a token endpoint.\");\n        if (!discoveredAs.userinfo_endpoint)\n            throw new TypeError(\"TODO: Authorization server did not provide a userinfo endpoint.\");\n        as = discoveredAs;\n    }\n    else {\n        as = {\n            issuer: provider.issuer ?? \"https://authjs.dev\", // TODO: review fallback issuer\n            token_endpoint: token?.url.toString(),\n            userinfo_endpoint: userinfo?.url.toString(),\n        };\n    }\n    const client = {\n        client_id: provider.clientId,\n        client_secret: provider.clientSecret,\n        ...provider.client,\n    };\n    const resCookies = [];\n    const state = await checks.state.use(cookies, resCookies, options, randomState);\n    const codeGrantParams = o.validateAuthResponse(as, client, new URLSearchParams(query), provider.checks.includes(\"state\") ? state : o.skipStateCheck);\n    /** https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1 */\n    if (o.isOAuth2Error(codeGrantParams)) {\n        const cause = { providerId: provider.id, ...codeGrantParams };\n        logger.debug(\"OAuthCallbackError\", cause);\n        throw new OAuthCallbackError(\"OAuth Provider returned an error\", cause);\n    }\n    const codeVerifier = await checks.pkce.use(cookies, resCookies, options);\n    let redirect_uri = provider.callbackUrl;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n    }\n    let codeGrantResponse = await o.authorizationCodeGrantRequest(as, client, codeGrantParams, redirect_uri, codeVerifier ?? \"auth\" // TODO: review fallback code verifier\n    );\n    if (provider.token?.conform) {\n        codeGrantResponse =\n            (await provider.token.conform(codeGrantResponse.clone())) ??\n                codeGrantResponse;\n    }\n    let challenges;\n    if ((challenges = o.parseWwwAuthenticateChallenges(codeGrantResponse))) {\n        for (const challenge of challenges) {\n            console.log(\"challenge\", challenge);\n        }\n        throw new Error(\"TODO: Handle www-authenticate challenges as needed\");\n    }\n    let profile = {};\n    let tokens;\n    if (provider.type === \"oidc\") {\n        const nonce = await checks.nonce.use(cookies, resCookies, options);\n        const result = await o.processAuthorizationCodeOpenIDResponse(as, client, codeGrantResponse, nonce ?? o.expectNoNonce);\n        if (o.isOAuth2Error(result)) {\n            console.log(\"error\", result);\n            throw new Error(\"TODO: Handle OIDC response body error\");\n        }\n        profile = o.getValidatedIdTokenClaims(result);\n        tokens = result;\n    }\n    else {\n        tokens = await o.processAuthorizationCodeOAuth2Response(as, client, codeGrantResponse);\n        if (o.isOAuth2Error(tokens)) {\n            console.log(\"error\", tokens);\n            throw new Error(\"TODO: Handle OAuth 2.0 response body error\");\n        }\n        if (userinfo?.request) {\n            const _profile = await userinfo.request({ tokens, provider });\n            if (_profile instanceof Object)\n                profile = _profile;\n        }\n        else if (userinfo?.url) {\n            const userinfoResponse = await o.userInfoRequest(as, client, tokens.access_token);\n            profile = await userinfoResponse.json();\n        }\n        else {\n            throw new TypeError(\"No userinfo endpoint configured\");\n        }\n    }\n    if (tokens.expires_in) {\n        tokens.expires_at =\n            Math.floor(Date.now() / 1000) + Number(tokens.expires_in);\n    }\n    const profileResult = await getUserAndAccount(profile, provider, tokens, logger);\n    return { ...profileResult, profile, cookies: resCookies };\n}\n/**\n * Returns the user and account that is going to be created in the database.\n * @internal\n */\nexport async function getUserAndAccount(OAuthProfile, provider, tokens, logger) {\n    try {\n        const userFromProfile = await provider.profile(OAuthProfile, tokens);\n        const user = {\n            ...userFromProfile,\n            id: crypto.randomUUID(),\n            email: userFromProfile.email?.toLowerCase(),\n        };\n        return {\n            user,\n            account: {\n                ...tokens,\n                provider: provider.id,\n                type: provider.type,\n                providerAccountId: userFromProfile.id ?? crypto.randomUUID(),\n            },\n        };\n    }\n    catch (e) {\n        // If we didn't get a response either there was a problem with the provider\n        // response *or* the user cancelled the action with the provider.\n        //\n        // Unfortunately, we can't tell which - at least not in a way that works for\n        // all providers, so we return an empty object; the user should then be\n        // redirected back to the sign up page. We log the error to help developers\n        // who might be trying to debug this when configuring a new provider.\n        logger.debug(\"getProfile error details\", OAuthProfile);\n        logger.error(new OAuthProfileParseError(e, { provider: provider.id }));\n    }\n}\n", "import { AdapterError, AuthError, InvalidProvider, MissingAdapter, WebAuthnVerificationError, } from \"../../errors.js\";\nimport { webauthnChallenge } from \"../actions/callback/oauth/checks.js\";\nimport { randomString } from \"./web.js\";\n/**\n * Infers the WebAuthn options based on the provided parameters.\n *\n * @param action - The WebAuthn action to perform (optional).\n * @param loggedInUser - The logged-in user (optional).\n * @param userInfoResponse - The response containing user information (optional).\n *\n * @returns The WebAuthn action to perform, or null if no inference could be made.\n */\nexport function inferWebAuthnOptions(action, loggedIn, userInfoResponse) {\n    const { user, exists = false } = userInfoResponse ?? {};\n    switch (action) {\n        case \"authenticate\": {\n            /**\n             * Always allow explicit authentication requests.\n             */\n            return \"authenticate\";\n        }\n        case \"register\": {\n            /**\n             * Registration is only allowed if:\n             * - The user is logged in, meaning the user wants to register a new authenticator.\n             * - The user is not logged in and provided user info that does NOT exist, meaning the user wants to register a new account.\n             */\n            if (user && loggedIn === exists)\n                return \"register\";\n            break;\n        }\n        case undefined: {\n            /**\n             * When no explicit action is provided, we try to infer it based on the user info provided. These are the possible cases:\n             * - Logged in users must always send an explit action, so we bail out in this case.\n             * - Otherwise, if no user info is provided, the desired action is authentication without pre-defined authenticators.\n             * - Otherwise, if the user info provided is of an existing user, the desired action is authentication with their pre-defined authenticators.\n             * - Finally, if the user info provided is of a non-existing user, the desired action is registration.\n             */\n            if (!loggedIn) {\n                if (user) {\n                    if (exists) {\n                        return \"authenticate\";\n                    }\n                    else {\n                        return \"register\";\n                    }\n                }\n                else {\n                    return \"authenticate\";\n                }\n            }\n            break;\n        }\n    }\n    // No decision could be made\n    return null;\n}\n/**\n * Retrieves the registration response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @param resCookies - Optional cookies to be included in the response.\n * @returns A promise that resolves to the WebAuthnOptionsResponse.\n */\nexport async function getRegistrationResponse(options, request, user, resCookies) {\n    // Get registration options\n    const regOptions = await getRegistrationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await webauthnChallenge.create(options, regOptions.challenge, user);\n    return {\n        status: 200,\n        cookies: [...(resCookies ?? []), cookie],\n        body: {\n            action: \"register\",\n            options: regOptions,\n        },\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    };\n}\n/**\n * Retrieves the authentication response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @param resCookies - Optional array of cookies to be included in the response.\n * @returns A promise that resolves to a WebAuthnOptionsResponse object.\n */\nexport async function getAuthenticationResponse(options, request, user, resCookies) {\n    // Get authentication options\n    const authOptions = await getAuthenticationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await webauthnChallenge.create(options, authOptions.challenge);\n    return {\n        status: 200,\n        cookies: [...(resCookies ?? []), cookie],\n        body: {\n            action: \"authenticate\",\n            options: authOptions,\n        },\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n    };\n}\nexport async function verifyAuthenticate(options, request, resCookies) {\n    const { adapter, provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\"\n        ? JSON.parse(request.body.data)\n        : undefined;\n    if (!data ||\n        typeof data !== \"object\" ||\n        !(\"id\" in data) ||\n        typeof data.id !== \"string\") {\n        throw new AuthError(\"Invalid WebAuthn Authentication response.\");\n    }\n    // Reset the ID so we smooth out implementation differences\n    const credentialID = toBase64(fromBase64(data.id));\n    // Get authenticator from database\n    const authenticator = await adapter.getAuthenticator(credentialID);\n    if (!authenticator) {\n        throw new AuthError(`WebAuthn authenticator not found in database: ${JSON.stringify({\n            credentialID,\n        })}`);\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge } = await webauthnChallenge.use(options, request.cookies, resCookies);\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyAuthenticationResponse({\n            ...provider.verifyAuthenticationOptions,\n            expectedChallenge,\n            response: data,\n            authenticator: fromAdapterAuthenticator(authenticator),\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id,\n        });\n    }\n    catch (e) {\n        throw new WebAuthnVerificationError(e);\n    }\n    const { verified, authenticationInfo } = verification;\n    // Make sure the response was verified\n    if (!verified) {\n        throw new WebAuthnVerificationError(\"WebAuthn authentication response could not be verified.\");\n    }\n    // Update authenticator counter\n    try {\n        const { newCounter } = authenticationInfo;\n        await adapter.updateAuthenticatorCounter(authenticator.credentialID, newCounter);\n    }\n    catch (e) {\n        throw new AdapterError(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({\n            credentialID,\n            oldCounter: authenticator.counter,\n            newCounter: authenticationInfo.newCounter,\n        })}`, e);\n    }\n    // Get the account and user\n    const account = await adapter.getAccount(authenticator.providerAccountId, provider.id);\n    if (!account) {\n        throw new AuthError(`WebAuthn account not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId,\n        })}`);\n    }\n    const user = await adapter.getUser(account.userId);\n    if (!user) {\n        throw new AuthError(`WebAuthn user not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId,\n            userID: account.userId,\n        })}`);\n    }\n    return {\n        account,\n        user,\n    };\n}\nexport async function verifyRegister(options, request, resCookies) {\n    const { provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\"\n        ? JSON.parse(request.body.data)\n        : undefined;\n    if (!data ||\n        typeof data !== \"object\" ||\n        !(\"id\" in data) ||\n        typeof data.id !== \"string\") {\n        throw new AuthError(\"Invalid WebAuthn Registration response.\");\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge, registerData: user } = await webauthnChallenge.use(options, request.cookies, resCookies);\n    if (!user) {\n        throw new AuthError(\"Missing user registration data in WebAuthn challenge cookie.\");\n    }\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyRegistrationResponse({\n            ...provider.verifyRegistrationOptions,\n            expectedChallenge,\n            response: data,\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id,\n        });\n    }\n    catch (e) {\n        throw new WebAuthnVerificationError(e);\n    }\n    // Make sure the response was verified\n    if (!verification.verified || !verification.registrationInfo) {\n        throw new WebAuthnVerificationError(\"WebAuthn registration response could not be verified.\");\n    }\n    // Build a new account\n    const account = {\n        providerAccountId: toBase64(verification.registrationInfo.credentialID),\n        provider: options.provider.id,\n        type: provider.type,\n    };\n    // Build a new authenticator\n    const authenticator = {\n        providerAccountId: account.providerAccountId,\n        counter: verification.registrationInfo.counter,\n        credentialID: toBase64(verification.registrationInfo.credentialID),\n        credentialPublicKey: toBase64(verification.registrationInfo.credentialPublicKey),\n        credentialBackedUp: verification.registrationInfo.credentialBackedUp,\n        credentialDeviceType: verification.registrationInfo.credentialDeviceType,\n        transports: transportsToString(data.response\n            .transports),\n    };\n    // Return created stuff\n    return {\n        user,\n        account,\n        authenticator,\n    };\n}\n/**\n * Generates WebAuthn authentication options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @returns The authentication options.\n */\nasync function getAuthenticationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user && user[\"id\"]\n        ? await adapter.listAuthenticatorsByUserId(user.id)\n        : null;\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the authentication options.\n    return await provider.simpleWebAuthn.generateAuthenticationOptions({\n        ...provider.authenticationOptions,\n        rpID: relayingParty.id,\n        allowCredentials: authenticators?.map((a) => ({\n            id: fromBase64(a.credentialID),\n            type: \"public-key\",\n            transports: stringToTransports(a.transports),\n        })),\n    });\n}\n/**\n * Generates WebAuthn registration options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @returns The registration options.\n */\nasync function getRegistrationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user[\"id\"]\n        ? await adapter.listAuthenticatorsByUserId(user.id)\n        : null;\n    // Generate a random user ID for the credential.\n    // We can do this because we don't use this user ID to link the\n    // credential to the user. Instead, we store actual userID in the\n    // Authenticator object and fetch it via it's credential ID.\n    const userID = randomString(32);\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the registration options.\n    return await provider.simpleWebAuthn.generateRegistrationOptions({\n        ...provider.registrationOptions,\n        userID,\n        userName: user.email,\n        userDisplayName: user.name ?? undefined,\n        rpID: relayingParty.id,\n        rpName: relayingParty.name,\n        excludeCredentials: authenticators?.map((a) => ({\n            id: fromBase64(a.credentialID),\n            type: \"public-key\",\n            transports: stringToTransports(a.transports),\n        })),\n    });\n}\nexport function assertInternalOptionsWebAuthn(options) {\n    const { provider, adapter } = options;\n    // Adapter is required for WebAuthn\n    if (!adapter)\n        throw new MissingAdapter(\"An adapter is required for the WebAuthn provider\");\n    // Provider must be WebAuthn\n    if (!provider || provider.type !== \"webauthn\") {\n        throw new InvalidProvider(\"Provider must be WebAuthn\");\n    }\n    // Narrow the options type for typed usage later\n    return { ...options, provider, adapter };\n}\nfunction fromAdapterAuthenticator(authenticator) {\n    return {\n        ...authenticator,\n        credentialDeviceType: authenticator.credentialDeviceType,\n        transports: stringToTransports(authenticator.transports),\n        credentialID: fromBase64(authenticator.credentialID),\n        credentialPublicKey: fromBase64(authenticator.credentialPublicKey),\n    };\n}\nexport function fromBase64(base64) {\n    return new Uint8Array(Buffer.from(base64, \"base64\"));\n}\nexport function toBase64(bytes) {\n    return Buffer.from(bytes).toString(\"base64\");\n}\nexport function transportsToString(transports) {\n    return transports?.join(\",\");\n}\nexport function stringToTransports(tstring) {\n    return tstring\n        ? tstring.split(\",\")\n        : undefined;\n}\n", "// TODO: Make this file smaller\nimport { AuthError, AccessDenied, CallbackRouteError, CredentialsSignin, InvalidProvider, Verification, } from \"../../../errors.js\";\nimport { handleLoginOrRegister } from \"./handle-login.js\";\nimport { handleOAuth } from \"./oauth/callback.js\";\nimport { handleState } from \"./oauth/checks.js\";\nimport { createHash } from \"../../utils/web.js\";\nimport { assertInternalOptionsWebAuthn, verifyAuthenticate, verifyRegister } from \"../../utils/webauthn-utils.js\";\n/** Handle callbacks from login services */\nexport async function callback(request, options, sessionStore, cookies) {\n    if (!options.provider)\n        throw new InvalidProvider(\"Callback route called without provider\");\n    const { query, body, method, headers } = request;\n    const { provider, adapter, url, callbackUrl, pages, jwt, events, callbacks, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, logger, } = options;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    try {\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            const { proxyRedirect, randomState } = handleState(query, provider, options.isOnRedirectProxy);\n            if (proxyRedirect) {\n                logger.debug(\"proxy redirect\", { proxyRedirect, randomState });\n                return { redirect: proxyRedirect };\n            }\n            const authorizationResult = await handleOAuth(query, request.cookies, options, randomState);\n            if (authorizationResult.cookies.length) {\n                cookies.push(...authorizationResult.cookies);\n            }\n            logger.debug(\"authorization result\", authorizationResult);\n            const { user: userFromProvider, account, profile: OAuthProfile, } = authorizationResult;\n            // If we don't have a profile object then either something went wrong\n            // or the user cancelled signing in. We don't know which, so we just\n            // direct the user to the signin page for now. We could do something\n            // else in future.\n            // TODO: Handle user cancelling signin\n            if (!userFromProvider || !account || !OAuthProfile) {\n                return { redirect: `${url}/signin`, cookies };\n            }\n            // Check if user is allowed to sign in\n            // Attempt to get Profile from OAuth provider details before invoking\n            // signIn callback - but if no user object is returned, that is fine\n            // (that just means it's a new user signing in for the first time).\n            let userByAccount;\n            if (adapter) {\n                const { getUserByAccount } = adapter;\n                userByAccount = await getUserByAccount({\n                    providerAccountId: account.providerAccountId,\n                    provider: provider.id,\n                });\n            }\n            const redirect = await handleAuthorized({\n                user: userByAccount ?? userFromProvider,\n                account,\n                profile: OAuthProfile,\n            }, options);\n            if (redirect)\n                return { redirect, cookies };\n            const { user, session, isNewUser } = await handleLoginOrRegister(sessionStore.value, userFromProvider, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: user.name,\n                    email: user.email,\n                    picture: user.image,\n                    sub: user.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user,\n                    account,\n                    profile: OAuthProfile,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token, salt });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({\n                user,\n                account,\n                profile: OAuthProfile,\n                isNewUser,\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"email\") {\n            const token = query?.token;\n            const identifier = query?.email;\n            if (!token || !identifier) {\n                const e = new TypeError(\"Missing token or email. The sign-in URL was manually opened without token/identifier or the link was not sent correctly in the email.\", { cause: { hasToken: !!token, hasEmail: !!identifier } });\n                e.name = \"Configuration\";\n                throw e;\n            }\n            const secret = provider.secret ?? options.secret;\n            // @ts-expect-error -- Verified in `assertConfig`.\n            const invite = await adapter.useVerificationToken({\n                identifier,\n                token: await createHash(`${token}${secret}`),\n            });\n            const hasInvite = !!invite;\n            const expired = invite ? invite.expires.valueOf() < Date.now() : undefined;\n            const invalidInvite = !hasInvite || expired;\n            if (invalidInvite)\n                throw new Verification({ hasInvite, expired });\n            const user = (await adapter.getUserByEmail(identifier)) ?? {\n                id: crypto.randomUUID(),\n                email: identifier,\n                emailVerified: null,\n            };\n            const account = {\n                providerAccountId: user.email,\n                userId: user.id,\n                type: \"email\",\n                provider: provider.id,\n            };\n            const redirect = await handleAuthorized({ user, account }, options);\n            if (redirect)\n                return { redirect, cookies };\n            // Sign user in\n            const { user: loggedInUser, session, isNewUser, } = await handleLoginOrRegister(sessionStore.value, user, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token, salt });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({ user: loggedInUser, account, isNewUser });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"credentials\" && method === \"POST\") {\n            const credentials = body ?? {};\n            // TODO: Forward the original request as is, instead of reconstructing it\n            Object.entries(query ?? {}).forEach(([k, v]) => url.searchParams.set(k, v));\n            const userFromAuthorize = await provider.authorize(credentials, \n            // prettier-ignore\n            new Request(url, { headers, method, body: JSON.stringify(body) }));\n            const user = userFromAuthorize;\n            if (!user)\n                throw new CredentialsSignin();\n            else\n                user.id = user.id?.toString() ?? crypto.randomUUID();\n            const account = {\n                providerAccountId: user.id,\n                type: \"credentials\",\n                provider: provider.id,\n            };\n            const redirect = await handleAuthorized({ user, account, credentials }, options);\n            if (redirect)\n                return { redirect, cookies };\n            const defaultToken = {\n                name: user.name,\n                email: user.email,\n                picture: user.image,\n                sub: user.id,\n            };\n            const token = await callbacks.jwt({\n                token: defaultToken,\n                user,\n                account,\n                isNewUser: false,\n                trigger: \"signIn\",\n            });\n            // Clear cookies if token is null\n            if (token === null) {\n                cookies.push(...sessionStore.clean());\n            }\n            else {\n                const salt = options.cookies.sessionToken.name;\n                // Encode token\n                const newToken = await jwt.encode({ ...jwt, token, salt });\n                // Set cookie expiry date\n                const cookieExpires = new Date();\n                cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: cookieExpires,\n                });\n                cookies.push(...sessionCookies);\n            }\n            await events.signIn?.({ user, account });\n            return { redirect: callbackUrl, cookies };\n        }\n        else if (provider.type === \"webauthn\" && method === \"POST\") {\n            // Get callback action from request. It should be either \"authenticate\" or \"register\"\n            const action = request.body?.action;\n            if (typeof action !== \"string\" || (action !== \"authenticate\" && action !== \"register\")) {\n                throw new AuthError(\"Invalid action parameter\");\n            }\n            // Return an error if the adapter is missing or if the provider\n            // is not a webauthn provider.\n            const localOptions = assertInternalOptionsWebAuthn(options);\n            // Verify request to get user, account and authenticator\n            let user;\n            let account;\n            let authenticator;\n            switch (action) {\n                case \"authenticate\": {\n                    const verified = await verifyAuthenticate(localOptions, request, cookies);\n                    user = verified.user;\n                    account = verified.account;\n                    break;\n                }\n                case \"register\": {\n                    const verified = await verifyRegister(options, request, cookies);\n                    user = verified.user;\n                    account = verified.account;\n                    authenticator = verified.authenticator;\n                    break;\n                }\n            }\n            // Check if user is allowed to sign in\n            await handleAuthorized({ user, account }, options);\n            // Sign user in, creating them and their account if needed\n            const { user: loggedInUser, isNewUser, session, account: currentAccount } = await handleLoginOrRegister(sessionStore.value, user, account, options);\n            if (!currentAccount) {\n                // This is mostly for type checking. It should never actually happen.\n                throw new AuthError(\"Error creating or finding account\");\n            }\n            // Create new authenticator if needed\n            if (authenticator && loggedInUser.id) {\n                await localOptions.adapter.createAuthenticator({ ...authenticator, userId: loggedInUser.id });\n            }\n            // Do the session registering dance\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString(),\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account: currentAccount,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\",\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                }\n                else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({ ...jwt, token, salt });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires,\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            }\n            else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires,\n                    },\n                });\n            }\n            await events.signIn?.({ user: loggedInUser, account: currentAccount, isNewUser });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({ callbackUrl })}`,\n                    cookies,\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return { redirect: callbackUrl, cookies };\n        }\n        throw new InvalidProvider(`Callback for provider type (${provider.type}) is not supported`);\n    }\n    catch (e) {\n        if (e instanceof AuthError)\n            throw e;\n        const error = new CallbackRouteError(e, { provider: provider.id });\n        logger.debug(\"callback route error details\", { method, query, body });\n        throw error;\n    }\n}\nasync function handleAuthorized(params, config) {\n    let authorized;\n    const { signIn, redirect } = config.callbacks;\n    try {\n        authorized = await signIn(params);\n    }\n    catch (e) {\n        if (e instanceof AuthError)\n            throw e;\n        throw new AccessDenied(e);\n    }\n    if (!authorized)\n        throw new AccessDenied(\"AccessDenied\");\n    if (typeof authorized !== \"string\")\n        return;\n    return await redirect({ url: authorized, baseUrl: config.url.origin });\n}\n", "import { JWTSessionError, SessionTokenError } from \"../../errors.js\";\nimport { fromDate } from \"../utils/date.js\";\n/** Return a session object filtered via `callbacks.session` */\nexport async function session(options, sessionStore, cookies, isUpdate, newSession) {\n    const { adapter, jwt, events, callbacks, logger, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, } = options;\n    const response = {\n        body: null,\n        headers: { \"Content-Type\": \"application/json\" },\n        cookies,\n    };\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return response;\n    if (sessionStrategy === \"jwt\") {\n        try {\n            const salt = options.cookies.sessionToken.name;\n            const payload = await jwt.decode({ ...jwt, token: sessionToken, salt });\n            if (!payload)\n                throw new Error(\"Invalid JWT\");\n            // @ts-expect-error\n            const token = await callbacks.jwt({\n                token: payload,\n                ...(isUpdate && { trigger: \"update\" }),\n                session: newSession,\n            });\n            const newExpires = fromDate(sessionMaxAge);\n            if (token !== null) {\n                // By default, only exposes a limited subset of information to the client\n                // as needed for presentation purposes (e.g. \"you are logged in as...\").\n                const session = {\n                    user: { name: token.name, email: token.email, image: token.picture },\n                    expires: newExpires.toISOString(),\n                };\n                // @ts-expect-error\n                const newSession = await callbacks.session({ session, token });\n                // Return session payload as response\n                response.body = newSession;\n                // Refresh JWT expiry by re-signing it, with an updated expiry date\n                const newToken = await jwt.encode({ ...jwt, token, salt });\n                // Set cookie, to also update expiry date on cookie\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: newExpires,\n                });\n                response.cookies?.push(...sessionCookies);\n                await events.session?.({ session: newSession, token });\n            }\n            else {\n                response.cookies?.push(...sessionStore.clean());\n            }\n        }\n        catch (e) {\n            logger.error(new JWTSessionError(e));\n            // If the JWT is not verifiable remove the broken session cookie(s).\n            response.cookies?.push(...sessionStore.clean());\n        }\n        return response;\n    }\n    // Retrieve session from database\n    try {\n        const { getSessionAndUser, deleteSession, updateSession } = adapter;\n        let userAndSession = await getSessionAndUser(sessionToken);\n        // If session has expired, clean up the database\n        if (userAndSession &&\n            userAndSession.session.expires.valueOf() < Date.now()) {\n            await deleteSession(sessionToken);\n            userAndSession = null;\n        }\n        if (userAndSession) {\n            const { user, session } = userAndSession;\n            const sessionUpdateAge = options.session.updateAge;\n            // Calculate last updated date to throttle write updates to database\n            // Formula: ({expiry date} - sessionMaxAge) + sessionUpdateAge\n            //     e.g. ({expiry date} - 30 days) + 1 hour\n            const sessionIsDueToBeUpdatedDate = session.expires.valueOf() -\n                sessionMaxAge * 1000 +\n                sessionUpdateAge * 1000;\n            const newExpires = fromDate(sessionMaxAge);\n            // Trigger update of session expiry date and write to database, only\n            // if the session was last updated more than {sessionUpdateAge} ago\n            if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n                await updateSession({\n                    sessionToken: sessionToken,\n                    expires: newExpires,\n                });\n            }\n            // Pass Session through to the session callback\n            const sessionPayload = await callbacks.session({\n                // TODO: user already passed below,\n                // remove from session object in https://github.com/nextauthjs/next-auth/pull/9702\n                // @ts-expect-error\n                session: { ...session, user },\n                user,\n                newSession,\n                ...(isUpdate ? { trigger: \"update\" } : {}),\n            });\n            // Return session payload as response\n            response.body = sessionPayload;\n            // Set cookie again to update expiry\n            response.cookies?.push({\n                name: options.cookies.sessionToken.name,\n                value: sessionToken,\n                options: {\n                    ...options.cookies.sessionToken.options,\n                    expires: newExpires,\n                },\n            });\n            // @ts-expect-error\n            await events.session?.({ session: sessionPayload });\n        }\n        else if (sessionToken) {\n            // If `sessionToken` was found set but it's not valid for a session then\n            // remove the sessionToken cookie from browser.\n            response.cookies?.push(...sessionStore.clean());\n        }\n    }\n    catch (e) {\n        logger.error(new SessionTokenError(e));\n    }\n    return response;\n}\n", "import * as checks from \"../callback/oauth/checks.js\";\nimport * as o from \"oauth4webapi\";\n/**\n * Generates an authorization/request token URL.\n *\n * [OAuth 2](https://www.oauth.com/oauth2-servers/authorization/the-authorization-request/)\n */\nexport async function getAuthorizationUrl(query, options) {\n    const { logger, provider } = options;\n    let url = provider.authorization?.url;\n    let as;\n    // Falls back to authjs.dev if the user only passed params\n    if (!url || url.host === \"authjs.dev\") {\n        // If url is undefined, we assume that issuer is always defined\n        // We check this in assert.ts\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await o.discoveryRequest(issuer);\n        const as = await o.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!as.authorization_endpoint) {\n            throw new TypeError(\"Authorization server did not provide an authorization endpoint.\");\n        }\n        url = new URL(as.authorization_endpoint);\n    }\n    const authParams = url.searchParams;\n    let redirect_uri = provider.callbackUrl;\n    let data;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n        data = { origin: provider.callbackUrl };\n        logger.debug(\"using redirect proxy\", { redirect_uri, data });\n    }\n    const params = Object.assign({\n        response_type: \"code\",\n        // clientId can technically be undefined, should we check this in assert.ts or rely on the Authorization Server to do it?\n        client_id: provider.clientId,\n        redirect_uri,\n        // @ts-expect-error TODO:\n        ...provider.authorization?.params,\n    }, Object.fromEntries(provider.authorization?.url.searchParams ?? []), query);\n    for (const k in params)\n        authParams.set(k, params[k]);\n    const cookies = [];\n    const state = await checks.state.create(options, data);\n    if (state) {\n        authParams.set(\"state\", state.value);\n        cookies.push(state.cookie);\n    }\n    if (provider.checks?.includes(\"pkce\")) {\n        if (as && !as.code_challenge_methods_supported?.includes(\"S256\")) {\n            // We assume S256 PKCE support, if the server does not advertise that,\n            // a random `nonce` must be used for CSRF protection.\n            if (provider.type === \"oidc\")\n                provider.checks = [\"nonce\"];\n        }\n        else {\n            const { value, cookie } = await checks.pkce.create(options);\n            authParams.set(\"code_challenge\", value);\n            authParams.set(\"code_challenge_method\", \"S256\");\n            cookies.push(cookie);\n        }\n    }\n    const nonce = await checks.nonce.create(options);\n    if (nonce) {\n        authParams.set(\"nonce\", nonce.value);\n        cookies.push(nonce.cookie);\n    }\n    // TODO: This does not work in normalizeOAuth because authorization endpoint can come from discovery\n    // Need to make normalizeOAuth async\n    if (provider.type === \"oidc\" && !url.searchParams.has(\"scope\")) {\n        url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    logger.debug(\"authorization url is ready\", { url, cookies, provider });\n    return { redirect: url.toString(), cookies };\n}\n", "import { createHash, randomString, toRequest } from \"../../utils/web.js\";\nimport { AccessDenied } from \"../../../errors.js\";\n/**\n * Starts an e-mail login flow, by generating a token,\n * and sending it to the user's e-mail (with the help of a DB adapter).\n * At the end, it returns a redirect to the `verify-request` page.\n */\nexport async function sendToken(request, options) {\n    const { body } = request;\n    const { provider, callbacks, adapter } = options;\n    const normalizer = provider.normalizeIdentifier ?? defaultNormalizer;\n    const email = normalizer(body?.email);\n    const defaultUser = { id: crypto.randomUUID(), email, emailVerified: null };\n    const user = (await adapter.getUserByEmail(email)) ?? defaultUser;\n    const account = {\n        providerAccountId: email,\n        userId: user.id,\n        type: \"email\",\n        provider: provider.id,\n    };\n    let authorized;\n    try {\n        authorized = await callbacks.signIn({\n            user,\n            account,\n            email: { verificationRequest: true },\n        });\n    }\n    catch (e) {\n        throw new AccessDenied(e);\n    }\n    if (!authorized)\n        throw new AccessDenied(\"AccessDenied\");\n    if (typeof authorized === \"string\") {\n        return {\n            redirect: await callbacks.redirect({\n                url: authorized,\n                baseUrl: options.url.origin,\n            }),\n        };\n    }\n    const { callbackUrl, theme } = options;\n    const token = (await provider.generateVerificationToken?.()) ?? randomString(32);\n    const ONE_DAY_IN_SECONDS = 86400;\n    const expires = new Date(Date.now() + (provider.maxAge ?? ONE_DAY_IN_SECONDS) * 1000);\n    const secret = provider.secret ?? options.secret;\n    const baseUrl = new URL(options.basePath, options.url.origin);\n    const sendRequest = provider.sendVerificationRequest({\n        identifier: email,\n        token,\n        expires,\n        url: `${baseUrl}/callback/${provider.id}?${new URLSearchParams({\n            callbackUrl,\n            token,\n            email,\n        })}`,\n        provider,\n        theme,\n        request: toRequest(request),\n    });\n    const createToken = adapter.createVerificationToken?.({\n        identifier: email,\n        token: await createHash(`${token}${secret}`),\n        expires,\n    });\n    await Promise.all([sendRequest, createToken]);\n    return {\n        redirect: `${baseUrl}/verify-request?${new URLSearchParams({\n            provider: provider.id,\n            type: provider.type,\n        })}`,\n    };\n}\nfunction defaultNormalizer(email) {\n    if (!email)\n        throw new Error(\"Missing email from request body.\");\n    // Get the first two elements only,\n    // separated by `@` from user input.\n    let [local, domain] = email.toLowerCase().trim().split(\"@\");\n    // The part before \"@\" can contain a \",\"\n    // but we remove it on the domain part\n    domain = domain.split(\",\")[0];\n    return `${local}@${domain}`;\n}\n", "import { getAuthorizationUrl } from \"./authorization-url.js\";\nimport { sendToken } from \"./send-token.js\";\nexport async function signIn(request, cookies, options) {\n    const signInUrl = `${options.url.origin}${options.basePath}/signin`;\n    if (!options.provider)\n        return { redirect: signInUrl, cookies };\n    switch (options.provider.type) {\n        case \"oauth\":\n        case \"oidc\": {\n            const { redirect, cookies: authCookies } = await getAuthorizationUrl(request.query, options);\n            if (authCookies)\n                cookies.push(...authCookies);\n            return { redirect, cookies };\n        }\n        case \"email\": {\n            const response = await sendToken(request, options);\n            return { ...response, cookies };\n        }\n        default:\n            return { redirect: signInUrl, cookies };\n    }\n}\n", "import { SignOutError } from \"../../errors.js\";\n/**\n * Destroys the session.\n * If the session strategy is database,\n * The session is also deleted from the database.\n * In any case, the session cookie is cleared and\n * {@link EventCallbacks.signOut} is emitted.\n */\nexport async function signOut(cookies, sessionStore, options) {\n    const { jwt, events, callbackUrl: redirect, logger, session } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return { redirect, cookies };\n    try {\n        if (session.strategy === \"jwt\") {\n            const salt = options.cookies.sessionToken.name;\n            const token = await jwt.decode({ ...jwt, token: sessionToken, salt });\n            await events.signOut?.({ token });\n        }\n        else {\n            const session = await options.adapter?.deleteSession(sessionToken);\n            await events.signOut?.({ session });\n        }\n    }\n    catch (e) {\n        logger.error(new SignOutError(e));\n    }\n    cookies.push(...sessionStore.clean());\n    return { redirect, cookies };\n}\n", "/**\n * Returns the currently logged in user, if any.\n */\nexport async function getLoggedInUser(options, sessionStore) {\n    const { adapter, jwt, session: { strategy: sessionStrategy }, } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken)\n        return null;\n    // Try to decode JWT\n    if (sessionStrategy === \"jwt\") {\n        const salt = options.cookies.sessionToken.name;\n        const payload = await jwt.decode({ ...jwt, token: sessionToken, salt });\n        if (payload && payload.sub) {\n            return {\n                id: payload.sub,\n                name: payload.name,\n                email: payload.email,\n                image: payload.picture,\n            };\n        }\n    }\n    else {\n        const userAndSession = await adapter?.getSessionAndUser(sessionToken);\n        if (userAndSession) {\n            return userAndSession.user;\n        }\n    }\n    return null;\n}\n", "import { getLoggedInUser } from \"../utils/session.js\";\nimport { assertInternalOptionsWebAuthn, inferWebAuthnOptions, getAuthenticationResponse, getRegistrationResponse } from \"../utils/webauthn-utils.js\";\n/**\n * Returns authentication or registration options for a WebAuthn flow\n * depending on the parameters provided.\n */\nexport async function webAuthnOptions(request, options, sessionStore, cookies) {\n    // Return an error if the adapter is missing or if the provider\n    // is not a webauthn provider.\n    const narrowOptions = assertInternalOptionsWebAuthn(options);\n    const { provider } = narrowOptions;\n    // Extract the action from the query parameters\n    const { action } = (request.query ?? {});\n    // Action must be either \"register\", \"authenticate\", or undefined\n    if (action !== \"register\" && action !== \"authenticate\" && typeof action !== \"undefined\") {\n        return {\n            status: 400,\n            body: { error: \"Invalid action\" },\n            cookies,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        };\n    }\n    // Get the user info from the session\n    const sessionUser = await getLoggedInUser(options, sessionStore);\n    // Extract user info from request\n    // If session user exists, we don't need to call getUserInfo\n    const getUserInfoResponse = sessionUser ? {\n        user: sessionUser,\n        exists: true\n    } : await provider.getUserInfo(options, request);\n    const userInfo = getUserInfoResponse?.user;\n    // Make a decision on what kind of webauthn options to return\n    const decision = inferWebAuthnOptions(action, !!sessionUser, getUserInfoResponse);\n    switch (decision) {\n        case \"authenticate\":\n            return getAuthenticationResponse(narrowOptions, request, userInfo, cookies);\n        case \"register\":\n            if (typeof userInfo?.email === \"string\") {\n                return getRegistrationResponse(narrowOptions, request, userInfo, cookies);\n            }\n        default:\n            return {\n                status: 400,\n                body: { error: \"Invalid request\" },\n                cookies,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            };\n    }\n}\n", "export { callback } from \"./callback/index.js\";\nexport { session } from \"./session.js\";\nexport { signIn } from \"./signin/index.js\";\nexport { signOut } from \"./signout.js\";\nexport { webAuthnOptions } from \"./webauthn-options.js\";\n", "import { UnknownAction } from \"../errors.js\";\nimport { SessionStore } from \"./utils/cookie.js\";\nimport { init } from \"./init.js\";\nimport renderPage from \"./pages/index.js\";\nimport * as actions from \"./actions/index.js\";\nimport { validateCSRF } from \"./actions/callback/oauth/csrf-token.js\";\n/** @internal */\nexport async function AuthInternal(request, authOptions) {\n    const { action, providerId, error, method } = request;\n    const csrfDisabled = authOptions.skipCSRFCheck === skipCSRFCheck;\n    const { options, cookies } = await init({\n        authOptions,\n        action,\n        providerId,\n        url: request.url,\n        callbackUrl: request.body?.callbackUrl ?? request.query?.callbackUrl,\n        csrfToken: request.body?.csrfToken,\n        cookies: request.cookies,\n        isPost: method === \"POST\",\n        csrfDisabled,\n    });\n    const sessionStore = new SessionStore(options.cookies.sessionToken, request.cookies, options.logger);\n    if (method === \"GET\") {\n        const render = renderPage({ ...options, query: request.query, cookies });\n        switch (action) {\n            case \"callback\":\n                return await actions.callback(request, options, sessionStore, cookies);\n            case \"csrf\":\n                return render.csrf(csrfDisabled, options, cookies);\n            case \"error\":\n                return render.error(error);\n            case \"providers\":\n                return render.providers(options.providers);\n            case \"session\":\n                return await actions.session(options, sessionStore, cookies);\n            case \"signin\":\n                return render.signin(providerId, error);\n            case \"signout\":\n                return render.signout();\n            case \"verify-request\":\n                return render.verifyRequest();\n            case \"webauthn-options\":\n                return await actions.webAuthnOptions(request, options, sessionStore, cookies);\n            default:\n        }\n    }\n    else {\n        const { csrfTokenVerified } = options;\n        switch (action) {\n            case \"callback\":\n                if (options.provider.type === \"credentials\")\n                    // Verified CSRF Token required for credentials providers only\n                    validateCSRF(action, csrfTokenVerified);\n                return await actions.callback(request, options, sessionStore, cookies);\n            case \"session\":\n                validateCSRF(action, csrfTokenVerified);\n                return await actions.session(options, sessionStore, cookies, true, request.body?.data);\n            case \"signin\":\n                validateCSRF(action, csrfTokenVerified);\n                return await actions.signIn(request, cookies, options);\n            case \"signout\":\n                validateCSRF(action, csrfTokenVerified);\n                return await actions.signOut(cookies, sessionStore, options);\n            default:\n        }\n    }\n    throw new UnknownAction(`Cannot handle action: ${action}`);\n}\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js comes with built-in {@link https://authjs.dev/concepts/security#csrf CSRF} protection, but\n * if you are implementing a framework that is already protected against CSRF attacks, you can skip this check by\n * passing this value to {@link AuthConfig.skipCSRFCheck}.\n */\nexport const skipCSRFCheck = Symbol(\"skip-csrf-check\");\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js returns a web standard {@link Response} by default, but\n * if you are implementing a framework you might want to get access to the raw internal response\n * by passing this value to {@link AuthConfig.raw}.\n */\nexport const raw = Symbol(\"return-type-raw\");\n", "/** Set default env variables on the config object */\nexport function setEnvDefaults(envObject, config) {\n    try {\n        const url = envObject.AUTH_URL;\n        if (url && !config.basePath)\n            config.basePath = new URL(url).pathname;\n    }\n    catch {\n    }\n    finally {\n        config.basePath ?? (config.basePath = `/auth`);\n    }\n    if (!config.secret?.length) {\n        config.secret = [];\n        const secret = envObject.AUTH_SECRET;\n        if (secret)\n            config.secret.push(secret);\n        for (const i of [1, 2, 3]) {\n            const secret = envObject[`AUTH_SECRET_${i}`];\n            if (secret)\n                config.secret.unshift(secret);\n        }\n    }\n    config.redirectProxyUrl ?? (config.redirectProxyUrl = envObject.AUTH_REDIRECT_PROXY_URL);\n    config.trustHost ?? (config.trustHost = !!(envObject.AUTH_URL ??\n        envObject.AUTH_TRUST_HOST ??\n        envObject.VERCEL ??\n        envObject.CF_PAGES ??\n        envObject.NODE_ENV !== \"production\"));\n    config.providers = config.providers.map((p) => {\n        const finalProvider = typeof p === \"function\" ? p({}) : p;\n        const ID = finalProvider.id.toUpperCase();\n        if (finalProvider.type === \"oauth\" || finalProvider.type === \"oidc\") {\n            finalProvider.clientId ?? (finalProvider.clientId = envObject[`AUTH_${ID}_ID`]);\n            finalProvider.clientSecret ?? (finalProvider.clientSecret = envObject[`AUTH_${ID}_SECRET`]);\n            if (finalProvider.type === \"oidc\") {\n                finalProvider.issuer ?? (finalProvider.issuer = envObject[`AUTH_${ID}_ISSUER`]);\n            }\n        }\n        else if (finalProvider.type === \"email\") {\n            finalProvider.apiKey ?? (finalProvider.apiKey = envObject[`AUTH_${ID}_KEY`]);\n        }\n        return finalProvider;\n    });\n}\nexport function createActionURL(action, protocol, headers, envObject, basePath) {\n    let url = envObject.AUTH_URL ?? envObject.NEXTAUTH_URL;\n    if (!url) {\n        const host = headers.get(\"x-forwarded-host\") ?? headers.get(\"host\");\n        if (!host)\n            throw new TypeError(\"Missing host\");\n        const proto = headers.get(\"x-forwarded-proto\") ?? protocol;\n        url = `${proto === \"http\" ? \"http\" : \"https\"}://${host}${basePath}`;\n    }\n    return new URL(`${url.replace(/\\/$/, \"\")}/${action}`);\n}\n", "/**\n *\n * :::warning Experimental\n * `@auth/core` is under active development.\n * :::\n *\n * This is the main entry point to the Auth.js library.\n *\n * Based on the {@link https://developer.mozilla.org/en-US/docs/Web/API/Request Request}\n * and {@link https://developer.mozilla.org/en-US/docs/Web/API/Response Response} Web standard APIs.\n * Primarily used to implement [framework](https://authjs.dev/concepts/frameworks)-specific packages,\n * but it can also be used directly.\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * ## Usage\n *\n * ```ts\n * import { Auth } from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await Auth(request, {...})\n *\n * console.log(response instanceof Response) // true\n * ```\n *\n * ## Resources\n *\n * - [Getting started](https://authjs.dev/getting-started/introduction)\n * - [Most common use case guides](https://authjs.dev/guides)\n *\n * @module @auth/core\n */\nimport { assertConfig } from \"./lib/utils/assert.js\";\nimport { AuthError, CredentialsSignin, ErrorPageLoop, isClientError, } from \"./errors.js\";\nimport { AuthInternal, raw, skipCSRFCheck } from \"./lib/index.js\";\nimport { setEnvDefaults, createActionURL } from \"./lib/utils/env.js\";\nimport renderPage from \"./lib/pages/index.js\";\nimport { logger, setLogger } from \"./lib/utils/logger.js\";\nimport { toInternalRequest, toResponse } from \"./lib/utils/web.js\";\nimport { isAuthAction } from \"./lib/utils/actions.js\";\nexport { skipCSRFCheck, raw, setEnvDefaults, createActionURL, isAuthAction };\n/**\n * Core functionality provided by Auth.js.\n *\n * Receives a standard {@link Request} and returns a {@link Response}.\n *\n * @example\n * ```ts\n * import Auth from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await AuthHandler(request, {\n *   providers: [...],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n *```\n * @see [Documentation](https://authjs.dev)\n */\nexport async function Auth(request, config) {\n    setLogger(config.logger, config.debug);\n    const internalRequest = await toInternalRequest(request, config);\n    // There was an error parsing the request\n    if (!internalRequest)\n        return Response.json(`Bad request.`, { status: 400 });\n    const warningsOrError = assertConfig(internalRequest, config);\n    if (Array.isArray(warningsOrError)) {\n        warningsOrError.forEach(logger.warn);\n    }\n    else if (warningsOrError) {\n        // If there's an error in the user config, bail out early\n        logger.error(warningsOrError);\n        const htmlPages = new Set([\n            \"signin\",\n            \"signout\",\n            \"error\",\n            \"verify-request\",\n        ]);\n        if (!htmlPages.has(internalRequest.action) ||\n            internalRequest.method !== \"GET\") {\n            const message = \"There was a problem with the server configuration. Check the server logs for more information.\";\n            return Response.json({ message }, { status: 500 });\n        }\n        const { pages, theme } = config;\n        // If this is true, the config required auth on the error page\n        // which could cause a redirect loop\n        const authOnErrorPage = pages?.error &&\n            internalRequest.url.searchParams\n                .get(\"callbackUrl\")\n                ?.startsWith(pages.error);\n        // Either there was no error page configured or the configured one contains infinite redirects\n        if (!pages?.error || authOnErrorPage) {\n            if (authOnErrorPage) {\n                logger.error(new ErrorPageLoop(`The error page ${pages?.error} should not require authentication`));\n            }\n            const page = renderPage({ theme }).error(\"Configuration\");\n            return toResponse(page);\n        }\n        return Response.redirect(`${pages.error}?error=Configuration`);\n    }\n    const isRedirect = request.headers?.has(\"X-Auth-Return-Redirect\");\n    const isRaw = config.raw === raw;\n    try {\n        const internalResponse = await AuthInternal(internalRequest, config);\n        if (isRaw)\n            return internalResponse;\n        const response = toResponse(internalResponse);\n        const url = response.headers.get(\"Location\");\n        if (!isRedirect || !url)\n            return response;\n        return Response.json({ url }, { headers: response.headers });\n    }\n    catch (e) {\n        const error = e;\n        logger.error(error);\n        const isAuthError = error instanceof AuthError;\n        if (isAuthError && isRaw && !isRedirect)\n            throw error;\n        // If the CSRF check failed for POST/session, return a 400 status code.\n        // We should not redirect to a page as this is an API route\n        if (request.method === \"POST\" && internalRequest.action === \"session\")\n            return Response.json(null, { status: 400 });\n        const isClientSafeErrorType = isClientError(error);\n        const type = isClientSafeErrorType ? error.type : \"Configuration\";\n        const params = new URLSearchParams({ error: type });\n        if (error instanceof CredentialsSignin)\n            params.set(\"code\", error.code);\n        const pageKind = (isAuthError && error.kind) || \"error\";\n        const pagePath = config.pages?.[pageKind] ?? `/${pageKind.toLowerCase()}`;\n        const url = `${internalRequest.url.origin}${config.basePath}${pagePath}?${params}`;\n        if (isRedirect)\n            return Response.json({ url });\n        return Response.redirect(url);\n    }\n}\n", "class HttpError {\n  /**\n   * @param {number} status\n   * @param {{message: string} extends App.Error ? (App.Error | string | undefined) : App.Error} body\n   */\n  constructor(status, body) {\n    this.status = status;\n    if (typeof body === \"string\") {\n      this.body = { message: body };\n    } else if (body) {\n      this.body = body;\n    } else {\n      this.body = { message: `Error: ${status}` };\n    }\n  }\n  toString() {\n    return JSON.stringify(this.body);\n  }\n}\nclass Redirect {\n  /**\n   * @param {300 | 301 | 302 | 303 | 304 | 305 | 306 | 307 | 308} status\n   * @param {string} location\n   */\n  constructor(status, location) {\n    this.status = status;\n    this.location = location;\n  }\n}\nclass SvelteKitError extends Error {\n  /**\n   * @param {number} status\n   * @param {string} text\n   * @param {string} message\n   */\n  constructor(status, text2, message) {\n    super(message);\n    this.status = status;\n    this.text = text2;\n  }\n}\nclass ActionFailure {\n  /**\n   * @param {number} status\n   * @param {T} data\n   */\n  constructor(status, data) {\n    this.status = status;\n    this.data = data;\n  }\n}\nfunction redirect(status, location) {\n  if (isNaN(status) || status < 300 || status > 308) {\n    throw new Error(\"Invalid status code\");\n  }\n  throw new Redirect(\n    // @ts-ignore\n    status,\n    location.toString()\n  );\n}\nfunction json(data, init) {\n  const body = JSON.stringify(data);\n  const headers = new Headers(init?.headers);\n  if (!headers.has(\"content-length\")) {\n    headers.set(\"content-length\", encoder.encode(body).byteLength.toString());\n  }\n  if (!headers.has(\"content-type\")) {\n    headers.set(\"content-type\", \"application/json\");\n  }\n  return new Response(body, {\n    ...init,\n    headers\n  });\n}\nconst encoder = new TextEncoder();\nfunction text(body, init) {\n  const headers = new Headers(init?.headers);\n  if (!headers.has(\"content-length\")) {\n    const encoded = encoder.encode(body);\n    headers.set(\"content-length\", encoded.byteLength.toString());\n    return new Response(encoded, {\n      ...init,\n      headers\n    });\n  }\n  return new Response(body, {\n    ...init,\n    headers\n  });\n}\nfunction fail(status, data) {\n  return new ActionFailure(status, data);\n}\nexport {\n  ActionFailure as A,\n  HttpError as H,\n  Redirect as R,\n  SvelteKitError as S,\n  fail as f,\n  json as j,\n  redirect as r,\n  text as t\n};\n", "\"use strict\";\n\nvar defaultParseOptions = {\n  decodeValues: true,\n  map: false,\n  silent: false,\n};\n\nfunction isNonEmptyString(str) {\n  return typeof str === \"string\" && !!str.trim();\n}\n\nfunction parseString(setCookieValue, options) {\n  var parts = setCookieValue.split(\";\").filter(isNonEmptyString);\n\n  var nameValuePairStr = parts.shift();\n  var parsed = parseNameValuePair(nameValuePairStr);\n  var name = parsed.name;\n  var value = parsed.value;\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  try {\n    value = options.decodeValues ? decodeURIComponent(value) : value; // decode cookie value\n  } catch (e) {\n    console.error(\n      \"set-cookie-parser encountered an error while decoding a cookie with value '\" +\n        value +\n        \"'. Set options.decodeValues to false to disable this feature.\",\n      e\n    );\n  }\n\n  var cookie = {\n    name: name,\n    value: value,\n  };\n\n  parts.forEach(function (part) {\n    var sides = part.split(\"=\");\n    var key = sides.shift().trimLeft().toLowerCase();\n    var value = sides.join(\"=\");\n    if (key === \"expires\") {\n      cookie.expires = new Date(value);\n    } else if (key === \"max-age\") {\n      cookie.maxAge = parseInt(value, 10);\n    } else if (key === \"secure\") {\n      cookie.secure = true;\n    } else if (key === \"httponly\") {\n      cookie.httpOnly = true;\n    } else if (key === \"samesite\") {\n      cookie.sameSite = value;\n    } else {\n      cookie[key] = value;\n    }\n  });\n\n  return cookie;\n}\n\nfunction parseNameValuePair(nameValuePairStr) {\n  // Parses name-value-pair according to rfc6265bis draft\n\n  var name = \"\";\n  var value = \"\";\n  var nameValueArr = nameValuePairStr.split(\"=\");\n  if (nameValueArr.length > 1) {\n    name = nameValueArr.shift();\n    value = nameValueArr.join(\"=\"); // everything after the first =, joined by a \"=\" if there was more than one part\n  } else {\n    value = nameValuePairStr;\n  }\n\n  return { name: name, value: value };\n}\n\nfunction parse(input, options) {\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!input) {\n    if (!options.map) {\n      return [];\n    } else {\n      return {};\n    }\n  }\n\n  if (input.headers) {\n    if (typeof input.headers.getSetCookie === \"function\") {\n      // for fetch responses - they combine headers of the same type in the headers array,\n      // but getSetCookie returns an uncombined array\n      input = input.headers.getSetCookie();\n    } else if (input.headers[\"set-cookie\"]) {\n      // fast-path for node.js (which automatically normalizes header names to lower-case\n      input = input.headers[\"set-cookie\"];\n    } else {\n      // slow-path for other environments - see #25\n      var sch =\n        input.headers[\n          Object.keys(input.headers).find(function (key) {\n            return key.toLowerCase() === \"set-cookie\";\n          })\n        ];\n      // warn if called on a request-like object with a cookie header rather than a set-cookie header - see #34, 36\n      if (!sch && input.headers.cookie && !options.silent) {\n        console.warn(\n          \"Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning.\"\n        );\n      }\n      input = sch;\n    }\n  }\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n\n  options = options\n    ? Object.assign({}, defaultParseOptions, options)\n    : defaultParseOptions;\n\n  if (!options.map) {\n    return input.filter(isNonEmptyString).map(function (str) {\n      return parseString(str, options);\n    });\n  } else {\n    var cookies = {};\n    return input.filter(isNonEmptyString).reduce(function (cookies, str) {\n      var cookie = parseString(str, options);\n      cookies[cookie.name] = cookie;\n      return cookies;\n    }, cookies);\n  }\n}\n\n/*\n  Set-Cookie header field-values are sometimes comma joined in one string. This splits them without choking on commas\n  that are within a single set-cookie field-value, such as in the Expires portion.\n\n  This is uncommon, but explicitly allowed - see https://tools.ietf.org/html/rfc2616#section-4.2\n  Node.js does this for every header *except* set-cookie - see https://github.com/nodejs/node/blob/d5e363b77ebaf1caf67cd7528224b651c86815c1/lib/_http_incoming.js#L128\n  React Native's fetch does this for *every* header, including set-cookie.\n\n  Based on: https://github.com/google/j2objc/commit/16820fdbc8f76ca0c33472810ce0cb03d20efe25\n  Credits to: https://github.com/tomball for original and https://github.com/chrusart for JavaScript implementation\n*/\nfunction splitCookiesString(cookiesString) {\n  if (Array.isArray(cookiesString)) {\n    return cookiesString;\n  }\n  if (typeof cookiesString !== \"string\") {\n    return [];\n  }\n\n  var cookiesStrings = [];\n  var pos = 0;\n  var start;\n  var ch;\n  var lastComma;\n  var nextStart;\n  var cookiesSeparatorFound;\n\n  function skipWhitespace() {\n    while (pos < cookiesString.length && /\\s/.test(cookiesString.charAt(pos))) {\n      pos += 1;\n    }\n    return pos < cookiesString.length;\n  }\n\n  function notSpecialChar() {\n    ch = cookiesString.charAt(pos);\n\n    return ch !== \"=\" && ch !== \";\" && ch !== \",\";\n  }\n\n  while (pos < cookiesString.length) {\n    start = pos;\n    cookiesSeparatorFound = false;\n\n    while (skipWhitespace()) {\n      ch = cookiesString.charAt(pos);\n      if (ch === \",\") {\n        // ',' is a cookie separator if we have later first '=', not ';' or ','\n        lastComma = pos;\n        pos += 1;\n\n        skipWhitespace();\n        nextStart = pos;\n\n        while (pos < cookiesString.length && notSpecialChar()) {\n          pos += 1;\n        }\n\n        // currently special character\n        if (pos < cookiesString.length && cookiesString.charAt(pos) === \"=\") {\n          // we found cookies separator\n          cookiesSeparatorFound = true;\n          // pos is inside the next cookie, so back up and return it.\n          pos = nextStart;\n          cookiesStrings.push(cookiesString.substring(start, lastComma));\n          start = pos;\n        } else {\n          // in param ',' or param separator ';',\n          // we continue from that comma\n          pos = lastComma + 1;\n        }\n      } else {\n        pos += 1;\n      }\n    }\n\n    if (!cookiesSeparatorFound || pos >= cookiesString.length) {\n      cookiesStrings.push(cookiesString.substring(start, cookiesString.length));\n    }\n  }\n\n  return cookiesStrings;\n}\n\nmodule.exports = parse;\nmodule.exports.parse = parse;\nmodule.exports.parseString = parseString;\nmodule.exports.splitCookiesString = splitCookiesString;\n", "/**\n * <div style={{backgroundColor: \"#24292f\", display: \"flex\", justifyContent: \"space-between\", color: \"#fff\", padding: 16}}>\n * <span>Built-in <b>GitHub</b> integration.</span>\n * <a href=\"https://github.com\">\n *   <img style={{display: \"block\"}} src=\"https://authjs.dev/img/providers/github.svg\" height=\"48\" width=\"48\"/>\n * </a>\n * </div>\n *\n * @module providers/github\n */\n/**\n * Add GitHub login to your page and make requests to [GitHub APIs](https://docs.github.com/en/rest).\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/github\n * ```\n *\n * #### Configuration\n * ```ts\n * import { Auth } from \"@auth/core\"\n * import GitHub from \"@auth/core/providers/github\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [GitHub({ clientId: GITHUB_CLIENT_ID, clientSecret: GITHUB_CLIENT_SECRET })],\n * })\n * ```\n *\n * ### Resources\n *\n * - [GitHub - Creating an OAuth App](https://docs.github.com/en/developers/apps/building-oauth-apps/creating-an-oauth-app)\n * - [GitHub - Authorizing OAuth Apps](https://docs.github.com/en/developers/apps/building-oauth-apps/authorizing-oauth-apps)\n * - [GitHub - Configure your GitHub OAuth Apps](https://github.com/settings/developers)\n * - [Learn more about OAuth](https://authjs.dev/concepts/oauth)\n * - [Source code](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/github.ts)\n *\n * ### Notes\n *\n * By default, Auth.js assumes that the GitHub provider is\n * based on the [OAuth 2](https://www.rfc-editor.org/rfc/rfc6749.html) specification.\n *\n * :::tip\n *\n * The GitHub provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/github.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/providers/custom-provider#override-default-options).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */\nexport default function GitHub(config) {\n    const baseUrl = config?.enterprise?.baseUrl ?? \"https://github.com\";\n    const apiBaseUrl = config?.enterprise?.baseUrl\n        ? `${config?.enterprise?.baseUrl}/api/v3`\n        : \"https://api.github.com\";\n    return {\n        id: \"github\",\n        name: \"GitHub\",\n        type: \"oauth\",\n        authorization: {\n            url: `${baseUrl}/login/oauth/authorize`,\n            params: { scope: \"read:user user:email\" },\n        },\n        token: `${baseUrl}/login/oauth/access_token`,\n        userinfo: {\n            url: `${apiBaseUrl}/user`,\n            async request({ tokens, provider }) {\n                const profile = await fetch(provider.userinfo?.url, {\n                    headers: {\n                        Authorization: `Bearer ${tokens.access_token}`,\n                        \"User-Agent\": \"authjs\",\n                    },\n                }).then(async (res) => await res.json());\n                if (!profile.email) {\n                    // If the user does not have a public email, get another via the GitHub API\n                    // See https://docs.github.com/en/rest/users/emails#list-public-email-addresses-for-the-authenticated-user\n                    const res = await fetch(`${apiBaseUrl}/user/emails`, {\n                        headers: {\n                            Authorization: `Bearer ${tokens.access_token}`,\n                            \"User-Agent\": \"authjs\",\n                        },\n                    });\n                    if (res.ok) {\n                        const emails = await res.json();\n                        profile.email = (emails.find((e) => e.primary) ?? emails[0]).email;\n                    }\n                }\n                return profile;\n            },\n        },\n        profile(profile) {\n            return {\n                id: profile.id.toString(),\n                name: profile.name ?? profile.login,\n                email: profile.email,\n                image: profile.avatar_url,\n            };\n        },\n        style: { logo: \"/github.svg\", bg: \"#24292f\", text: \"#fff\" },\n        options: config,\n    };\n}\n", "/**\n * ## Setup\n *\n * Add this adapter to your `auth.ts` Auth.js configuration object:\n *\n * ```js title=\"auth.ts\"\n * import NextAuth from \"next-auth\"\n * import Google from \"next-auth/providers/google\"\n * import { PrismaAdapter } from \"@auth/prisma-adapter\"\n * import { PrismaClient } from \"@prisma/client\"\n *\n * const prisma = new PrismaClient()\n *\n * export { handlers, auth, signIn, signOut } = NextAuth({\n *   adapter: PrismaAdapter(prisma),\n *   providers: [\n *     Google,\n *   ],\n * })\n * ```\n *\n * ### Create the Prisma schema from scratch\n *\n * You need to use at least Prisma 2.26.0. Create a schema file in `prisma/schema.prisma` similar to this one:\n *\n * > This schema is adapted for use in Prisma and based upon our main [schema](https://authjs.dev/reference/core/adapters#models)\n *\n * ```json title=\"schema.prisma\"\n * datasource db {\n *   provider = \"postgresql\"\n *   url      = env(\"DATABASE_URL\")\n *   shadowDatabaseUrl = env(\"SHADOW_DATABASE_URL\") // Only needed when using a cloud provider that doesn't support the creation of new databases, like Heroku. Learn more: https://pris.ly/d/migrate-shadow\n * }\n *\n * generator client {\n *   provider        = \"prisma-client-js\"\n *   previewFeatures = [\"referentialActions\"] // You won't need this in Prisma 3.X or higher.\n * }\n *\n * model Account {\n *   id                 String  @id @default(cuid())\n *   userId             String\n *   type               String\n *   provider           String\n *   providerAccountId  String\n *   refresh_token      String?  @db.Text\n *   access_token       String?  @db.Text\n *   expires_at         Int?\n *   token_type         String?\n *   scope              String?\n *   id_token           String?  @db.Text\n *   session_state      String?\n *\n *   user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n *\n *   @@unique([provider, providerAccountId])\n * }\n *\n * model Session {\n *   id           String   @id @default(cuid())\n *   sessionToken String   @unique\n *   userId       String\n *   expires      DateTime\n *   user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n * }\n *\n * model User {\n *   id            String    @id @default(cuid())\n *   name          String?\n *   email         String?   @unique\n *   emailVerified DateTime?\n *   image         String?\n *   accounts      Account[]\n *   sessions      Session[]\n * }\n *\n * model VerificationToken {\n *   identifier String\n *   token      String   @unique\n *   expires    DateTime\n *\n *   @@unique([identifier, token])\n * }\n * ```\n *\n * :::note\n * When using the MySQL connector for Prisma, the [Prisma `String` type](https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference#string) gets mapped to `varchar(191)` which may not be long enough to store fields such as `id_token` in the `Account` model. This can be avoided by explicitly using the `Text` type with `@db.Text`.\n * :::\n *\n *\n * ### Create the Prisma schema with `prisma migrate`\n *\n * This will create an SQL migration file and execute it:\n *\n * ```\n * npx prisma migrate dev\n * ```\n *\n * Note that you will need to specify your database connection string in the environment variable `DATABASE_URL`. You can do this by setting it in a `.env` file at the root of your project.\n *\n * To learn more about [Prisma Migrate](https://www.prisma.io/migrate), check out the [Migrate docs](https://www.prisma.io/docs/concepts/components/prisma-migrate).\n *\n * ### Generating the Prisma Client\n *\n * Once you have saved your schema, use the Prisma CLI to generate the Prisma Client:\n *\n * ```\n * npx prisma generate\n * ```\n *\n * To configure your database to use the new schema (i.e. create tables and columns) use the `prisma migrate` command:\n *\n * ```\n * npx prisma migrate dev\n * ```\n *\n * ### MongoDB support\n *\n * Prisma supports MongoDB, and so does Auth.js. Following the instructions of the [Prisma documentation](https://www.prisma.io/docs/concepts/database-connectors/mongodb) on the MongoDB connector, things you have to change are:\n *\n * 1. Make sure that the id fields are mapped correctly\n *\n * ```prisma\n * id  String  @id @default(auto()) @map(\"_id\") @db.ObjectId\n * ```\n *\n * 2. The Native database type attribute to `@db.String` from `@db.Text` and userId to `@db.ObjectId`.\n *\n * ```prisma\n * user_id            String   @db.ObjectId\n * refresh_token      String?  @db.String\n * access_token       String?  @db.String\n * id_token           String?  @db.String\n * ```\n *\n * Everything else should be the same.\n *\n * ### Naming Conventions\n *\n * If mixed snake_case and camelCase column names is an issue for you and/or your underlying database system, we recommend using Prisma's `@map()`([see the documentation here](https://www.prisma.io/docs/concepts/components/prisma-schema/names-in-underlying-database)) feature to change the field names. This won't affect Auth.js, but will allow you to customize the column names to whichever naming convention you wish.\n *\n * For example, moving to `snake_case` and plural table names.\n *\n * ```json title=\"schema.prisma\"\n * model Account {\n *   id                 String  @id @default(cuid())\n *   userId             String  @map(\"user_id\")\n *   type               String\n *   provider           String\n *   providerAccountId  String  @map(\"provider_account_id\")\n *   refresh_token      String? @db.Text\n *   access_token       String? @db.Text\n *   expires_at         Int?\n *   token_type         String?\n *   scope              String?\n *   id_token           String? @db.Text\n *   session_state      String?\n *\n *   user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n *\n *   @@unique([provider, providerAccountId])\n *   @@map(\"accounts\")\n * }\n *\n * model Session {\n *   id           String   @id @default(cuid())\n *   sessionToken String   @unique @map(\"session_token\")\n *   userId       String   @map(\"user_id\")\n *   expires      DateTime\n *   user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)\n *\n *   @@map(\"sessions\")\n * }\n *\n * model User {\n *   id            String    @id @default(cuid())\n *   name          String?\n *   email         String?   @unique\n *   emailVerified DateTime? @map(\"email_verified\")\n *   image         String?\n *   accounts      Account[]\n *   sessions      Session[]\n *\n *   @@map(\"users\")\n * }\n *\n * model VerificationToken {\n *   identifier String\n *   token      String   @unique\n *   expires    DateTime\n *\n *   @@unique([identifier, token])\n *   @@map(\"verificationtokens\")\n * }\n *\n * model Authenticator {\n *   id                   String  @id @default(cuid())\n *   credentialID         String  @unique\n *   userId               String\n *   providerAccountId    String\n *   credentialPublicKey  String\n *   counter              Int\n *   credentialDeviceType String\n *   credentialBackedUp   Boolean\n *   transports           String?\n *\n *   user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n * }\n * ```\n *\n **/\nexport function PrismaAdapter(prisma) {\n    const p = prisma;\n    return {\n        // We need to let Prisma generate the ID because our default UUID is incompatible with MongoDB\n        createUser: ({ id: _id, ...data }) => {\n            return p.user.create({ data });\n        },\n        getUser: (id) => p.user.findUnique({ where: { id } }),\n        getUserByEmail: (email) => p.user.findUnique({ where: { email } }),\n        async getUserByAccount(provider_providerAccountId) {\n            const account = await p.account.findUnique({\n                where: { provider_providerAccountId },\n                select: { user: true },\n            });\n            return account?.user ?? null;\n        },\n        updateUser: ({ id, ...data }) => p.user.update({ where: { id }, data }),\n        deleteUser: (id) => p.user.delete({ where: { id } }),\n        linkAccount: (data) => p.account.create({ data }),\n        unlinkAccount: (provider_providerAccountId) => p.account.delete({\n            where: { provider_providerAccountId },\n        }),\n        async getSessionAndUser(sessionToken) {\n            const userAndSession = await p.session.findUnique({\n                where: { sessionToken },\n                include: { user: true },\n            });\n            if (!userAndSession)\n                return null;\n            const { user, ...session } = userAndSession;\n            return { user, session };\n        },\n        createSession: (data) => p.session.create({ data }),\n        updateSession: (data) => p.session.update({ where: { sessionToken: data.sessionToken }, data }),\n        deleteSession: (sessionToken) => p.session.delete({ where: { sessionToken } }),\n        async createVerificationToken(data) {\n            const verificationToken = await p.verificationToken.create({ data });\n            // @ts-expect-errors // MongoDB needs an ID, but we don't\n            if (verificationToken.id)\n                delete verificationToken.id;\n            return verificationToken;\n        },\n        async useVerificationToken(identifier_token) {\n            try {\n                const verificationToken = await p.verificationToken.delete({\n                    where: { identifier_token },\n                });\n                // @ts-expect-errors // MongoDB needs an ID, but we don't\n                if (verificationToken.id)\n                    delete verificationToken.id;\n                return verificationToken;\n            }\n            catch (error) {\n                // If token already used/deleted, just return null\n                // https://www.prisma.io/docs/reference/api-reference/error-reference#p2025\n                if (error.code === \"P2025\")\n                    return null;\n                throw error;\n            }\n        },\n        async getAccount(providerAccountId, provider) {\n            return p.account.findFirst({\n                where: { providerAccountId, provider },\n            });\n        },\n        async createAuthenticator(authenticator) {\n            return p.authenticator\n                .create({\n                data: authenticator,\n            })\n                .then(fromDBAuthenticator);\n        },\n        async getAuthenticator(credentialID) {\n            const authenticator = await p.authenticator.findUnique({\n                where: { credentialID },\n            });\n            return authenticator ? fromDBAuthenticator(authenticator) : null;\n        },\n        async listAuthenticatorsByUserId(userId) {\n            const authenticators = await p.authenticator.findMany({\n                where: { userId },\n            });\n            return authenticators.map(fromDBAuthenticator);\n        },\n        async updateAuthenticatorCounter(credentialID, counter) {\n            return p.authenticator\n                .update({\n                where: { credentialID: credentialID },\n                data: { counter },\n            })\n                .then(fromDBAuthenticator);\n        },\n    };\n}\nfunction fromDBAuthenticator(authenticator) {\n    const { transports, id, user, ...other } = authenticator;\n    return {\n        ...other,\n        transports: transports || undefined,\n    };\n}\n", "\"use strict\";var de=Object.defineProperty;var Ge=Object.getOwnPropertyDescriptor;var Je=Object.getOwnPropertyNames;var je=Object.prototype.hasOwnProperty;var Ce=(e,n)=>{for(var i in n)de(e,i,{get:n[i],enumerable:!0})},Xe=(e,n,i,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let r of Je(n))!je.call(e,r)&&r!==i&&de(e,r,{get:()=>n[r],enumerable:!(t=Ge(n,r))||t.enumerable});return e};var Ke=e=>Xe(de({},\"__esModule\",{value:!0}),e);var Xn={};Ce(Xn,{Decimal:()=>We,Public:()=>he,getRuntime:()=>Ae,makeStrictEnum:()=>Pe,objectEnumValues:()=>Oe});module.exports=Ke(Xn);var he={};Ce(he,{validator:()=>Me});function Me(...e){return n=>n}var ne=Symbol(),pe=new WeakMap,ge=class{constructor(n){n===ne?pe.set(this,\"Prisma.\".concat(this._getName())):pe.set(this,\"new Prisma.\".concat(this._getNamespace(),\".\").concat(this._getName(),\"()\"))}_getName(){return this.constructor.name}toString(){return pe.get(this)}},J=class extends ge{_getNamespace(){return\"NullTypes\"}},j=class extends J{};me(j,\"DbNull\");var X=class extends J{};me(X,\"JsonNull\");var K=class extends J{};me(K,\"AnyNull\");var Oe={classes:{DbNull:j,JsonNull:X,AnyNull:K},instances:{DbNull:new j(ne),JsonNull:new X(ne),AnyNull:new K(ne)}};function me(e,n){Object.defineProperty(e,\"name\",{value:n,configurable:!0})}var Qe=new Set([\"toJSON\",\"$$typeof\",\"asymmetricMatch\",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function Pe(e){return new Proxy(e,{get(n,i){if(i in n)return n[i];if(!Qe.has(i))throw new TypeError(\"Invalid enum value: \".concat(String(i)))}})}var Ye=\"Cloudflare-Workers\",xe=\"node\";function be(){var e,n,i;return typeof Netlify==\"object\"?\"netlify\":typeof EdgeRuntime==\"string\"?\"edge-light\":((e=globalThis.navigator)==null?void 0:e.userAgent)===Ye?\"workerd\":globalThis.Deno?\"deno\":globalThis.__lagon__?\"lagon\":((i=(n=globalThis.process)==null?void 0:n.release)==null?void 0:i.name)===xe?\"node\":globalThis.Bun?\"bun\":globalThis.fastly?\"fastly\":\"unknown\"}var ze={node:\"Node.js\",workerd:\"Cloudflare Workers\",deno:\"Deno and Deno Deploy\",netlify:\"Netlify Edge Functions\",\"edge-light\":\"Vercel Edge Functions or Edge Middleware\"};function Ae(){let e=be();return{id:e,prettyName:ze[e]||e,isEdge:[\"workerd\",\"deno\",\"netlify\",\"edge-light\"].includes(e)}}var H=9e15,V=1e9,we=\"0123456789abcdef\",te=\"2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058\",re=\"3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789\",Ne={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-H,maxE:H,crypto:!1},Te,Z,w=!0,oe=\"[DecimalError] \",$=oe+\"Invalid argument: \",Le=oe+\"Precision limit exceeded\",De=oe+\"crypto unavailable\",Fe=\"[object Decimal]\",A=Math.floor,M=Math.pow,ye=/^0b([01]+(\\.[01]*)?|\\.[01]+)(p[+-]?\\d+)?$/i,en=/^0x([0-9a-f]+(\\.[0-9a-f]*)?|\\.[0-9a-f]+)(p[+-]?\\d+)?$/i,nn=/^0o([0-7]+(\\.[0-7]*)?|\\.[0-7]+)(p[+-]?\\d+)?$/i,Ie=/^(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,D=1e7,m=7,tn=9007199254740991,rn=te.length-1,ve=re.length-1,h={toStringTag:Fe};h.absoluteValue=h.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),p(e)};h.ceil=function(){return p(new this.constructor(this),this.e+1,2)};h.clampedTo=h.clamp=function(e,n){var i,t=this,r=t.constructor;if(e=new r(e),n=new r(n),!e.s||!n.s)return new r(NaN);if(e.gt(n))throw Error($+n);return i=t.cmp(e),i<0?e:t.cmp(n)>0?n:new r(t)};h.comparedTo=h.cmp=function(e){var n,i,t,r,s=this,o=s.d,u=(e=new s.constructor(e)).d,l=s.s,f=e.s;if(!o||!u)return!l||!f?NaN:l!==f?l:o===u?0:!o^l<0?1:-1;if(!o[0]||!u[0])return o[0]?l:u[0]?-f:0;if(l!==f)return l;if(s.e!==e.e)return s.e>e.e^l<0?1:-1;for(t=o.length,r=u.length,n=0,i=t<r?t:r;n<i;++n)if(o[n]!==u[n])return o[n]>u[n]^l<0?1:-1;return t===r?0:t>r^l<0?1:-1};h.cosine=h.cos=function(){var e,n,i=this,t=i.constructor;return i.d?i.d[0]?(e=t.precision,n=t.rounding,t.precision=e+Math.max(i.e,i.sd())+m,t.rounding=1,i=sn(t,Ve(t,i)),t.precision=e,t.rounding=n,p(Z==2||Z==3?i.neg():i,e,n,!0)):new t(1):new t(NaN)};h.cubeRoot=h.cbrt=function(){var e,n,i,t,r,s,o,u,l,f,c=this,a=c.constructor;if(!c.isFinite()||c.isZero())return new a(c);for(w=!1,s=c.s*M(c.s*c,1/3),!s||Math.abs(s)==1/0?(i=O(c.d),e=c.e,(s=(e-i.length+1)%3)&&(i+=s==1||s==-2?\"0\":\"00\"),s=M(i,1/3),e=A((e+1)/3)-(e%3==(e<0?-1:2)),s==1/0?i=\"5e\"+e:(i=s.toExponential(),i=i.slice(0,i.indexOf(\"e\")+1)+e),t=new a(i),t.s=c.s):t=new a(s.toString()),o=(e=a.precision)+3;;)if(u=t,l=u.times(u).times(u),f=l.plus(c),t=S(f.plus(c).times(u),f.plus(l),o+2,1),O(u.d).slice(0,o)===(i=O(t.d)).slice(0,o))if(i=i.slice(o-3,o+1),i==\"9999\"||!r&&i==\"4999\"){if(!r&&(p(u,e+1,0),u.times(u).times(u).eq(c))){t=u;break}o+=4,r=1}else{(!+i||!+i.slice(1)&&i.charAt(0)==\"5\")&&(p(t,e+1,1),n=!t.times(t).times(t).eq(c));break}return w=!0,p(t,e,a.rounding,n)};h.decimalPlaces=h.dp=function(){var e,n=this.d,i=NaN;if(n){if(e=n.length-1,i=(e-A(this.e/m))*m,e=n[e],e)for(;e%10==0;e/=10)i--;i<0&&(i=0)}return i};h.dividedBy=h.div=function(e){return S(this,new this.constructor(e))};h.dividedToIntegerBy=h.divToInt=function(e){var n=this,i=n.constructor;return p(S(n,new i(e),0,1,1),i.precision,i.rounding)};h.equals=h.eq=function(e){return this.cmp(e)===0};h.floor=function(){return p(new this.constructor(this),this.e+1,3)};h.greaterThan=h.gt=function(e){return this.cmp(e)>0};h.greaterThanOrEqualTo=h.gte=function(e){var n=this.cmp(e);return n==1||n===0};h.hyperbolicCosine=h.cosh=function(){var e,n,i,t,r,s=this,o=s.constructor,u=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return u;i=o.precision,t=o.rounding,o.precision=i+Math.max(s.e,s.sd())+4,o.rounding=1,r=s.d.length,r<32?(e=Math.ceil(r/3),n=(1/fe(4,e)).toString()):(e=16,n=\"2.3283064365386962890625e-10\"),s=W(o,1,s.times(n),new o(1),!0);for(var l,f=e,c=new o(8);f--;)l=s.times(s),s=u.minus(l.times(c.minus(l.times(c))));return p(s,o.precision=i,o.rounding=t,!0)};h.hyperbolicSine=h.sinh=function(){var e,n,i,t,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(n=s.precision,i=s.rounding,s.precision=n+Math.max(r.e,r.sd())+4,s.rounding=1,t=r.d.length,t<3)r=W(s,2,r,r,!0);else{e=1.4*Math.sqrt(t),e=e>16?16:e|0,r=r.times(1/fe(5,e)),r=W(s,2,r,r,!0);for(var o,u=new s(5),l=new s(16),f=new s(20);e--;)o=r.times(r),r=r.times(u.plus(o.times(l.times(o).plus(f))))}return s.precision=n,s.rounding=i,p(r,n,i,!0)};h.hyperbolicTangent=h.tanh=function(){var e,n,i=this,t=i.constructor;return i.isFinite()?i.isZero()?new t(i):(e=t.precision,n=t.rounding,t.precision=e+7,t.rounding=1,S(i.sinh(),i.cosh(),t.precision=e,t.rounding=n)):new t(i.s)};h.inverseCosine=h.acos=function(){var e,n=this,i=n.constructor,t=n.abs().cmp(1),r=i.precision,s=i.rounding;return t!==-1?t===0?n.isNeg()?L(i,r,s):new i(0):new i(NaN):n.isZero()?L(i,r+4,s).times(.5):(i.precision=r+6,i.rounding=1,n=n.asin(),e=L(i,r+4,s).times(.5),i.precision=r,i.rounding=s,e.minus(n))};h.inverseHyperbolicCosine=h.acosh=function(){var e,n,i=this,t=i.constructor;return i.lte(1)?new t(i.eq(1)?0:NaN):i.isFinite()?(e=t.precision,n=t.rounding,t.precision=e+Math.max(Math.abs(i.e),i.sd())+4,t.rounding=1,w=!1,i=i.times(i).minus(1).sqrt().plus(i),w=!0,t.precision=e,t.rounding=n,i.ln()):new t(i)};h.inverseHyperbolicSine=h.asinh=function(){var e,n,i=this,t=i.constructor;return!i.isFinite()||i.isZero()?new t(i):(e=t.precision,n=t.rounding,t.precision=e+2*Math.max(Math.abs(i.e),i.sd())+6,t.rounding=1,w=!1,i=i.times(i).plus(1).sqrt().plus(i),w=!0,t.precision=e,t.rounding=n,i.ln())};h.inverseHyperbolicTangent=h.atanh=function(){var e,n,i,t,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=s.precision,n=s.rounding,t=r.sd(),Math.max(t,e)<2*-r.e-1?p(new s(r),e,n,!0):(s.precision=i=t-r.e,r=S(r.plus(1),new s(1).minus(r),i+e,1),s.precision=e+4,s.rounding=1,r=r.ln(),s.precision=e,s.rounding=n,r.times(.5))):new s(NaN)};h.inverseSine=h.asin=function(){var e,n,i,t,r=this,s=r.constructor;return r.isZero()?new s(r):(n=r.abs().cmp(1),i=s.precision,t=s.rounding,n!==-1?n===0?(e=L(s,i+4,t).times(.5),e.s=r.s,e):new s(NaN):(s.precision=i+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=i,s.rounding=t,r.times(2)))};h.inverseTangent=h.atan=function(){var e,n,i,t,r,s,o,u,l,f=this,c=f.constructor,a=c.precision,d=c.rounding;if(f.isFinite()){if(f.isZero())return new c(f);if(f.abs().eq(1)&&a+4<=ve)return o=L(c,a+4,d).times(.25),o.s=f.s,o}else{if(!f.s)return new c(NaN);if(a+4<=ve)return o=L(c,a+4,d).times(.5),o.s=f.s,o}for(c.precision=u=a+10,c.rounding=1,i=Math.min(28,u/m+2|0),e=i;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(w=!1,n=Math.ceil(u/m),t=1,l=f.times(f),o=new c(f),r=f;e!==-1;)if(r=r.times(l),s=o.minus(r.div(t+=2)),r=r.times(l),o=s.plus(r.div(t+=2)),o.d[n]!==void 0)for(e=n;o.d[e]===s.d[e]&&e--;);return i&&(o=o.times(2<<i-1)),w=!0,p(o,c.precision=a,c.rounding=d,!0)};h.isFinite=function(){return!!this.d};h.isInteger=h.isInt=function(){return!!this.d&&A(this.e/m)>this.d.length-2};h.isNaN=function(){return!this.s};h.isNegative=h.isNeg=function(){return this.s<0};h.isPositive=h.isPos=function(){return this.s>0};h.isZero=function(){return!!this.d&&this.d[0]===0};h.lessThan=h.lt=function(e){return this.cmp(e)<0};h.lessThanOrEqualTo=h.lte=function(e){return this.cmp(e)<1};h.logarithm=h.log=function(e){var n,i,t,r,s,o,u,l,f=this,c=f.constructor,a=c.precision,d=c.rounding,g=5;if(e==null)e=new c(10),n=!0;else{if(e=new c(e),i=e.d,e.s<0||!i||!i[0]||e.eq(1))return new c(NaN);n=e.eq(10)}if(i=f.d,f.s<0||!i||!i[0]||f.eq(1))return new c(i&&!i[0]?-1/0:f.s!=1?NaN:i?0:1/0);if(n)if(i.length>1)s=!0;else{for(r=i[0];r%10===0;)r/=10;s=r!==1}if(w=!1,u=a+g,o=B(f,u),t=n?se(c,u+10):B(e,u),l=S(o,t,u,1),Q(l.d,r=a,d))do if(u+=10,o=B(f,u),t=n?se(c,u+10):B(e,u),l=S(o,t,u,1),!s){+O(l.d).slice(r+1,r+15)+1==1e14&&(l=p(l,a+1,0));break}while(Q(l.d,r+=10,d));return w=!0,p(l,a,d)};h.minus=h.sub=function(e){var n,i,t,r,s,o,u,l,f,c,a,d,g=this,v=g.constructor;if(e=new v(e),!g.d||!e.d)return!g.s||!e.s?e=new v(NaN):g.d?e.s=-e.s:e=new v(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(f=g.d,d=e.d,u=v.precision,l=v.rounding,!f[0]||!d[0]){if(d[0])e.s=-e.s;else if(f[0])e=new v(g);else return new v(l===3?-0:0);return w?p(e,u,l):e}if(i=A(e.e/m),c=A(g.e/m),f=f.slice(),s=c-i,s){for(a=s<0,a?(n=f,s=-s,o=d.length):(n=d,i=c,o=f.length),t=Math.max(Math.ceil(u/m),o)+2,s>t&&(s=t,n.length=1),n.reverse(),t=s;t--;)n.push(0);n.reverse()}else{for(t=f.length,o=d.length,a=t<o,a&&(o=t),t=0;t<o;t++)if(f[t]!=d[t]){a=f[t]<d[t];break}s=0}for(a&&(n=f,f=d,d=n,e.s=-e.s),o=f.length,t=d.length-o;t>0;--t)f[o++]=0;for(t=d.length;t>s;){if(f[--t]<d[t]){for(r=t;r&&f[--r]===0;)f[r]=D-1;--f[r],f[t]+=D}f[t]-=d[t]}for(;f[--o]===0;)f.pop();for(;f[0]===0;f.shift())--i;return f[0]?(e.d=f,e.e=ue(f,i),w?p(e,u,l):e):new v(l===3?-0:0)};h.modulo=h.mod=function(e){var n,i=this,t=i.constructor;return e=new t(e),!i.d||!e.s||e.d&&!e.d[0]?new t(NaN):!e.d||i.d&&!i.d[0]?p(new t(i),t.precision,t.rounding):(w=!1,t.modulo==9?(n=S(i,e.abs(),0,3,1),n.s*=e.s):n=S(i,e,0,t.modulo,1),n=n.times(e),w=!0,i.minus(n))};h.naturalExponential=h.exp=function(){return Ee(this)};h.naturalLogarithm=h.ln=function(){return B(this)};h.negated=h.neg=function(){var e=new this.constructor(this);return e.s=-e.s,p(e)};h.plus=h.add=function(e){var n,i,t,r,s,o,u,l,f,c,a=this,d=a.constructor;if(e=new d(e),!a.d||!e.d)return!a.s||!e.s?e=new d(NaN):a.d||(e=new d(e.d||a.s===e.s?a:NaN)),e;if(a.s!=e.s)return e.s=-e.s,a.minus(e);if(f=a.d,c=e.d,u=d.precision,l=d.rounding,!f[0]||!c[0])return c[0]||(e=new d(a)),w?p(e,u,l):e;if(s=A(a.e/m),t=A(e.e/m),f=f.slice(),r=s-t,r){for(r<0?(i=f,r=-r,o=c.length):(i=c,t=s,o=f.length),s=Math.ceil(u/m),o=s>o?s+1:o+1,r>o&&(r=o,i.length=1),i.reverse();r--;)i.push(0);i.reverse()}for(o=f.length,r=c.length,o-r<0&&(r=o,i=c,c=f,f=i),n=0;r;)n=(f[--r]=f[r]+c[r]+n)/D|0,f[r]%=D;for(n&&(f.unshift(n),++t),o=f.length;f[--o]==0;)f.pop();return e.d=f,e.e=ue(f,t),w?p(e,u,l):e};h.precision=h.sd=function(e){var n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($+e);return i.d?(n=Ze(i.d),e&&i.e+1>n&&(n=i.e+1)):n=NaN,n};h.round=function(){var e=this,n=e.constructor;return p(new n(e),e.e+1,n.rounding)};h.sine=h.sin=function(){var e,n,i=this,t=i.constructor;return i.isFinite()?i.isZero()?new t(i):(e=t.precision,n=t.rounding,t.precision=e+Math.max(i.e,i.sd())+m,t.rounding=1,i=un(t,Ve(t,i)),t.precision=e,t.rounding=n,p(Z>2?i.neg():i,e,n,!0)):new t(NaN)};h.squareRoot=h.sqrt=function(){var e,n,i,t,r,s,o=this,u=o.d,l=o.e,f=o.s,c=o.constructor;if(f!==1||!u||!u[0])return new c(!f||f<0&&(!u||u[0])?NaN:u?o:1/0);for(w=!1,f=Math.sqrt(+o),f==0||f==1/0?(n=O(u),(n.length+l)%2==0&&(n+=\"0\"),f=Math.sqrt(n),l=A((l+1)/2)-(l<0||l%2),f==1/0?n=\"5e\"+l:(n=f.toExponential(),n=n.slice(0,n.indexOf(\"e\")+1)+l),t=new c(n)):t=new c(f.toString()),i=(l=c.precision)+3;;)if(s=t,t=s.plus(S(o,s,i+2,1)).times(.5),O(s.d).slice(0,i)===(n=O(t.d)).slice(0,i))if(n=n.slice(i-3,i+1),n==\"9999\"||!r&&n==\"4999\"){if(!r&&(p(s,l+1,0),s.times(s).eq(o))){t=s;break}i+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)==\"5\")&&(p(t,l+1,1),e=!t.times(t).eq(o));break}return w=!0,p(t,l,c.rounding,e)};h.tangent=h.tan=function(){var e,n,i=this,t=i.constructor;return i.isFinite()?i.isZero()?new t(i):(e=t.precision,n=t.rounding,t.precision=e+10,t.rounding=1,i=i.sin(),i.s=1,i=S(i,new t(1).minus(i.times(i)).sqrt(),e+10,0),t.precision=e,t.rounding=n,p(Z==2||Z==4?i.neg():i,e,n,!0)):new t(NaN)};h.times=h.mul=function(e){var n,i,t,r,s,o,u,l,f,c=this,a=c.constructor,d=c.d,g=(e=new a(e)).d;if(e.s*=c.s,!d||!d[0]||!g||!g[0])return new a(!e.s||d&&!d[0]&&!g||g&&!g[0]&&!d?NaN:!d||!g?e.s/0:e.s*0);for(i=A(c.e/m)+A(e.e/m),l=d.length,f=g.length,l<f&&(s=d,d=g,g=s,o=l,l=f,f=o),s=[],o=l+f,t=o;t--;)s.push(0);for(t=f;--t>=0;){for(n=0,r=l+t;r>t;)u=s[r]+g[t]*d[r-t-1]+n,s[r--]=u%D|0,n=u/D|0;s[r]=(s[r]+n)%D|0}for(;!s[--o];)s.pop();return n?++i:s.shift(),e.d=s,e.e=ue(s,i),w?p(e,a.precision,a.rounding):e};h.toBinary=function(e,n){return ke(this,2,e,n)};h.toDecimalPlaces=h.toDP=function(e,n){var i=this,t=i.constructor;return i=new t(i),e===void 0?i:(R(e,0,V),n===void 0?n=t.rounding:R(n,0,8),p(i,e+i.e+1,n))};h.toExponential=function(e,n){var i,t=this,r=t.constructor;return e===void 0?i=F(t,!0):(R(e,0,V),n===void 0?n=r.rounding:R(n,0,8),t=p(new r(t),e+1,n),i=F(t,!0,e+1)),t.isNeg()&&!t.isZero()?\"-\"+i:i};h.toFixed=function(e,n){var i,t,r=this,s=r.constructor;return e===void 0?i=F(r):(R(e,0,V),n===void 0?n=s.rounding:R(n,0,8),t=p(new s(r),e+r.e+1,n),i=F(t,!1,e+t.e+1)),r.isNeg()&&!r.isZero()?\"-\"+i:i};h.toFraction=function(e){var n,i,t,r,s,o,u,l,f,c,a,d,g=this,v=g.d,N=g.constructor;if(!v)return new N(g);if(f=i=new N(1),t=l=new N(0),n=new N(t),s=n.e=Ze(v)-g.e-1,o=s%m,n.d[0]=M(10,o<0?m+o:o),e==null)e=s>0?n:f;else{if(u=new N(e),!u.isInt()||u.lt(f))throw Error($+u);e=u.gt(n)?s>0?n:f:u}for(w=!1,u=new N(O(v)),c=N.precision,N.precision=s=v.length*m*2;a=S(u,n,0,1,1),r=i.plus(a.times(t)),r.cmp(e)!=1;)i=t,t=r,r=f,f=l.plus(a.times(r)),l=r,r=n,n=u.minus(a.times(r)),u=r;return r=S(e.minus(i),t,0,1,1),l=l.plus(r.times(f)),i=i.plus(r.times(t)),l.s=f.s=g.s,d=S(f,t,s,1).minus(g).abs().cmp(S(l,i,s,1).minus(g).abs())<1?[f,t]:[l,i],N.precision=c,w=!0,d};h.toHexadecimal=h.toHex=function(e,n){return ke(this,16,e,n)};h.toNearest=function(e,n){var i=this,t=i.constructor;if(i=new t(i),e==null){if(!i.d)return i;e=new t(1),n=t.rounding}else{if(e=new t(e),n===void 0?n=t.rounding:R(n,0,8),!i.d)return e.s?i:e;if(!e.d)return e.s&&(e.s=i.s),e}return e.d[0]?(w=!1,i=S(i,e,0,n,1).times(e),w=!0,p(i)):(e.s=i.s,i=e),i};h.toNumber=function(){return+this};h.toOctal=function(e,n){return ke(this,8,e,n)};h.toPower=h.pow=function(e){var n,i,t,r,s,o,u=this,l=u.constructor,f=+(e=new l(e));if(!u.d||!e.d||!u.d[0]||!e.d[0])return new l(M(+u,f));if(u=new l(u),u.eq(1))return u;if(t=l.precision,s=l.rounding,e.eq(1))return p(u,t,s);if(n=A(e.e/m),n>=e.d.length-1&&(i=f<0?-f:f)<=tn)return r=Ue(l,u,i,t),e.s<0?new l(1).div(r):p(r,t,s);if(o=u.s,o<0){if(n<e.d.length-1)return new l(NaN);if(e.d[n]&1||(o=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=o,u}return i=M(+u,f),n=i==0||!isFinite(i)?A(f*(Math.log(\"0.\"+O(u.d))/Math.LN10+u.e+1)):new l(i+\"\").e,n>l.maxE+1||n<l.minE-1?new l(n>0?o/0:0):(w=!1,l.rounding=u.s=1,i=Math.min(12,(n+\"\").length),r=Ee(e.times(B(u,t+i)),t),r.d&&(r=p(r,t+5,1),Q(r.d,t,s)&&(n=t+10,r=p(Ee(e.times(B(u,n+i)),n),n+5,1),+O(r.d).slice(t+1,t+15)+1==1e14&&(r=p(r,t+1,0)))),r.s=o,w=!0,l.rounding=s,p(r,t,s))};h.toPrecision=function(e,n){var i,t=this,r=t.constructor;return e===void 0?i=F(t,t.e<=r.toExpNeg||t.e>=r.toExpPos):(R(e,1,V),n===void 0?n=r.rounding:R(n,0,8),t=p(new r(t),e,n),i=F(t,e<=t.e||t.e<=r.toExpNeg,e)),t.isNeg()&&!t.isZero()?\"-\"+i:i};h.toSignificantDigits=h.toSD=function(e,n){var i=this,t=i.constructor;return e===void 0?(e=t.precision,n=t.rounding):(R(e,1,V),n===void 0?n=t.rounding:R(n,0,8)),p(new t(i),e,n)};h.toString=function(){var e=this,n=e.constructor,i=F(e,e.e<=n.toExpNeg||e.e>=n.toExpPos);return e.isNeg()&&!e.isZero()?\"-\"+i:i};h.truncated=h.trunc=function(){return p(new this.constructor(this),this.e+1,1)};h.valueOf=h.toJSON=function(){var e=this,n=e.constructor,i=F(e,e.e<=n.toExpNeg||e.e>=n.toExpPos);return e.isNeg()?\"-\"+i:i};function O(e){var n,i,t,r=e.length-1,s=\"\",o=e[0];if(r>0){for(s+=o,n=1;n<r;n++)t=e[n]+\"\",i=m-t.length,i&&(s+=U(i)),s+=t;o=e[n],t=o+\"\",i=m-t.length,i&&(s+=U(i))}else if(o===0)return\"0\";for(;o%10===0;)o/=10;return s+o}function R(e,n,i){if(e!==~~e||e<n||e>i)throw Error($+e)}function Q(e,n,i,t){var r,s,o,u;for(s=e[0];s>=10;s/=10)--n;return--n<0?(n+=m,r=0):(r=Math.ceil((n+1)/m),n%=m),s=M(10,m-n),u=e[r]%s|0,t==null?n<3?(n==0?u=u/100|0:n==1&&(u=u/10|0),o=i<4&&u==99999||i>3&&u==49999||u==5e4||u==0):o=(i<4&&u+1==s||i>3&&u+1==s/2)&&(e[r+1]/s/100|0)==M(10,n-2)-1||(u==s/2||u==0)&&(e[r+1]/s/100|0)==0:n<4?(n==0?u=u/1e3|0:n==1?u=u/100|0:n==2&&(u=u/10|0),o=(t||i<4)&&u==9999||!t&&i>3&&u==4999):o=((t||i<4)&&u+1==s||!t&&i>3&&u+1==s/2)&&(e[r+1]/s/1e3|0)==M(10,n-3)-1,o}function ie(e,n,i){for(var t,r=[0],s,o=0,u=e.length;o<u;){for(s=r.length;s--;)r[s]*=n;for(r[0]+=we.indexOf(e.charAt(o++)),t=0;t<r.length;t++)r[t]>i-1&&(r[t+1]===void 0&&(r[t+1]=0),r[t+1]+=r[t]/i|0,r[t]%=i)}return r.reverse()}function sn(e,n){var i,t,r;if(n.isZero())return n;t=n.d.length,t<32?(i=Math.ceil(t/3),r=(1/fe(4,i)).toString()):(i=16,r=\"2.3283064365386962890625e-10\"),e.precision+=i,n=W(e,1,n.times(r),new e(1));for(var s=i;s--;){var o=n.times(n);n=o.times(o).minus(o).times(8).plus(1)}return e.precision-=i,n}var S=function(){function e(t,r,s){var o,u=0,l=t.length;for(t=t.slice();l--;)o=t[l]*r+u,t[l]=o%s|0,u=o/s|0;return u&&t.unshift(u),t}function n(t,r,s,o){var u,l;if(s!=o)l=s>o?1:-1;else for(u=l=0;u<s;u++)if(t[u]!=r[u]){l=t[u]>r[u]?1:-1;break}return l}function i(t,r,s,o){for(var u=0;s--;)t[s]-=u,u=t[s]<r[s]?1:0,t[s]=u*o+t[s]-r[s];for(;!t[0]&&t.length>1;)t.shift()}return function(t,r,s,o,u,l){var f,c,a,d,g,v,N,_,C,q,E,P,x,I,le,z,G,ce,T,y,ee=t.constructor,ae=t.s==r.s?1:-1,b=t.d,k=r.d;if(!b||!b[0]||!k||!k[0])return new ee(!t.s||!r.s||(b?k&&b[0]==k[0]:!k)?NaN:b&&b[0]==0||!k?ae*0:ae/0);for(l?(g=1,c=t.e-r.e):(l=D,g=m,c=A(t.e/g)-A(r.e/g)),T=k.length,G=b.length,C=new ee(ae),q=C.d=[],a=0;k[a]==(b[a]||0);a++);if(k[a]>(b[a]||0)&&c--,s==null?(I=s=ee.precision,o=ee.rounding):u?I=s+(t.e-r.e)+1:I=s,I<0)q.push(1),v=!0;else{if(I=I/g+2|0,a=0,T==1){for(d=0,k=k[0],I++;(a<G||d)&&I--;a++)le=d*l+(b[a]||0),q[a]=le/k|0,d=le%k|0;v=d||a<G}else{for(d=l/(k[0]+1)|0,d>1&&(k=e(k,d,l),b=e(b,d,l),T=k.length,G=b.length),z=T,E=b.slice(0,T),P=E.length;P<T;)E[P++]=0;y=k.slice(),y.unshift(0),ce=k[0],k[1]>=l/2&&++ce;do d=0,f=n(k,E,T,P),f<0?(x=E[0],T!=P&&(x=x*l+(E[1]||0)),d=x/ce|0,d>1?(d>=l&&(d=l-1),N=e(k,d,l),_=N.length,P=E.length,f=n(N,E,_,P),f==1&&(d--,i(N,T<_?y:k,_,l))):(d==0&&(f=d=1),N=k.slice()),_=N.length,_<P&&N.unshift(0),i(E,N,P,l),f==-1&&(P=E.length,f=n(k,E,T,P),f<1&&(d++,i(E,T<P?y:k,P,l))),P=E.length):f===0&&(d++,E=[0]),q[a++]=d,f&&E[0]?E[P++]=b[z]||0:(E=[b[z]],P=1);while((z++<G||E[0]!==void 0)&&I--);v=E[0]!==void 0}q[0]||q.shift()}if(g==1)C.e=c,Te=v;else{for(a=1,d=q[0];d>=10;d/=10)a++;C.e=a+c*g-1,p(C,u?s+C.e+1:s,o,v)}return C}}();function p(e,n,i,t){var r,s,o,u,l,f,c,a,d,g=e.constructor;e:if(n!=null){if(a=e.d,!a)return e;for(r=1,u=a[0];u>=10;u/=10)r++;if(s=n-r,s<0)s+=m,o=n,c=a[d=0],l=c/M(10,r-o-1)%10|0;else if(d=Math.ceil((s+1)/m),u=a.length,d>=u)if(t){for(;u++<=d;)a.push(0);c=l=0,r=1,s%=m,o=s-m+1}else break e;else{for(c=u=a[d],r=1;u>=10;u/=10)r++;s%=m,o=s-m+r,l=o<0?0:c/M(10,r-o-1)%10|0}if(t=t||n<0||a[d+1]!==void 0||(o<0?c:c%M(10,r-o-1)),f=i<4?(l||t)&&(i==0||i==(e.s<0?3:2)):l>5||l==5&&(i==4||t||i==6&&(s>0?o>0?c/M(10,r-o):0:a[d-1])%10&1||i==(e.s<0?8:7)),n<1||!a[0])return a.length=0,f?(n-=e.e+1,a[0]=M(10,(m-n%m)%m),e.e=-n||0):a[0]=e.e=0,e;if(s==0?(a.length=d,u=1,d--):(a.length=d+1,u=M(10,m-s),a[d]=o>0?(c/M(10,r-o)%M(10,o)|0)*u:0),f)for(;;)if(d==0){for(s=1,o=a[0];o>=10;o/=10)s++;for(o=a[0]+=u,u=1;o>=10;o/=10)u++;s!=u&&(e.e++,a[0]==D&&(a[0]=1));break}else{if(a[d]+=u,a[d]!=D)break;a[d--]=0,u=1}for(s=a.length;a[--s]===0;)a.pop()}return w&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function F(e,n,i){if(!e.isFinite())return $e(e);var t,r=e.e,s=O(e.d),o=s.length;return n?(i&&(t=i-o)>0?s=s.charAt(0)+\".\"+s.slice(1)+U(t):o>1&&(s=s.charAt(0)+\".\"+s.slice(1)),s=s+(e.e<0?\"e\":\"e+\")+e.e):r<0?(s=\"0.\"+U(-r-1)+s,i&&(t=i-o)>0&&(s+=U(t))):r>=o?(s+=U(r+1-o),i&&(t=i-r-1)>0&&(s=s+\".\"+U(t))):((t=r+1)<o&&(s=s.slice(0,t)+\".\"+s.slice(t)),i&&(t=i-o)>0&&(r+1===o&&(s+=\".\"),s+=U(t))),s}function ue(e,n){var i=e[0];for(n*=m;i>=10;i/=10)n++;return n}function se(e,n,i){if(n>rn)throw w=!0,i&&(e.precision=i),Error(Le);return p(new e(te),n,1,!0)}function L(e,n,i){if(n>ve)throw Error(Le);return p(new e(re),n,i,!0)}function Ze(e){var n=e.length-1,i=n*m+1;if(n=e[n],n){for(;n%10==0;n/=10)i--;for(n=e[0];n>=10;n/=10)i++}return i}function U(e){for(var n=\"\";e--;)n+=\"0\";return n}function Ue(e,n,i,t){var r,s=new e(1),o=Math.ceil(t/m+4);for(w=!1;;){if(i%2&&(s=s.times(n),Re(s.d,o)&&(r=!0)),i=A(i/2),i===0){i=s.d.length-1,r&&s.d[i]===0&&++s.d[i];break}n=n.times(n),Re(n.d,o)}return w=!0,s}function _e(e){return e.d[e.d.length-1]&1}function Be(e,n,i){for(var t,r=new e(n[0]),s=0;++s<n.length;)if(t=new e(n[s]),t.s)r[i](t)&&(r=t);else{r=t;break}return r}function Ee(e,n){var i,t,r,s,o,u,l,f=0,c=0,a=0,d=e.constructor,g=d.rounding,v=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(n==null?(w=!1,l=v):l=n,u=new d(.03125);e.e>-2;)e=e.times(u),a+=5;for(t=Math.log(M(2,a))/Math.LN10*2+5|0,l+=t,i=s=o=new d(1),d.precision=l;;){if(s=p(s.times(e),l,1),i=i.times(++c),u=o.plus(S(s,i,l,1)),O(u.d).slice(0,l)===O(o.d).slice(0,l)){for(r=a;r--;)o=p(o.times(o),l,1);if(n==null)if(f<3&&Q(o.d,l-t,g,f))d.precision=l+=10,i=s=u=new d(1),c=0,f++;else return p(o,d.precision=v,g,w=!0);else return d.precision=v,o}o=u}}function B(e,n){var i,t,r,s,o,u,l,f,c,a,d,g=1,v=10,N=e,_=N.d,C=N.constructor,q=C.rounding,E=C.precision;if(N.s<0||!_||!_[0]||!N.e&&_[0]==1&&_.length==1)return new C(_&&!_[0]?-1/0:N.s!=1?NaN:_?0:N);if(n==null?(w=!1,c=E):c=n,C.precision=c+=v,i=O(_),t=i.charAt(0),Math.abs(s=N.e)<15e14){for(;t<7&&t!=1||t==1&&i.charAt(1)>3;)N=N.times(e),i=O(N.d),t=i.charAt(0),g++;s=N.e,t>1?(N=new C(\"0.\"+i),s++):N=new C(t+\".\"+i.slice(1))}else return f=se(C,c+2,E).times(s+\"\"),N=B(new C(t+\".\"+i.slice(1)),c-v).plus(f),C.precision=E,n==null?p(N,E,q,w=!0):N;for(a=N,l=o=N=S(N.minus(1),N.plus(1),c,1),d=p(N.times(N),c,1),r=3;;){if(o=p(o.times(d),c,1),f=l.plus(S(o,new C(r),c,1)),O(f.d).slice(0,c)===O(l.d).slice(0,c))if(l=l.times(2),s!==0&&(l=l.plus(se(C,c+2,E).times(s+\"\"))),l=S(l,new C(g),c,1),n==null)if(Q(l.d,c-v,q,u))C.precision=c+=v,f=o=N=S(a.minus(1),a.plus(1),c,1),d=p(N.times(N),c,1),r=u=1;else return p(l,C.precision=E,q,w=!0);else return C.precision=E,l;l=f,r+=2}}function $e(e){return String(e.s*e.s/0)}function Se(e,n){var i,t,r;for((i=n.indexOf(\".\"))>-1&&(n=n.replace(\".\",\"\")),(t=n.search(/e/i))>0?(i<0&&(i=t),i+=+n.slice(t+1),n=n.substring(0,t)):i<0&&(i=n.length),t=0;n.charCodeAt(t)===48;t++);for(r=n.length;n.charCodeAt(r-1)===48;--r);if(n=n.slice(t,r),n){if(r-=t,e.e=i=i-t-1,e.d=[],t=(i+1)%m,i<0&&(t+=m),t<r){for(t&&e.d.push(+n.slice(0,t)),r-=m;t<r;)e.d.push(+n.slice(t,t+=m));n=n.slice(t),t=m-n.length}else t-=r;for(;t--;)n+=\"0\";e.d.push(+n),w&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function on(e,n){var i,t,r,s,o,u,l,f,c;if(n.indexOf(\"_\")>-1){if(n=n.replace(/(\\d)_(?=\\d)/g,\"$1\"),Ie.test(n))return Se(e,n)}else if(n===\"Infinity\"||n===\"NaN\")return+n||(e.s=NaN),e.e=NaN,e.d=null,e;if(en.test(n))i=16,n=n.toLowerCase();else if(ye.test(n))i=2;else if(nn.test(n))i=8;else throw Error($+n);for(s=n.search(/p/i),s>0?(l=+n.slice(s+1),n=n.substring(2,s)):n=n.slice(2),s=n.indexOf(\".\"),o=s>=0,t=e.constructor,o&&(n=n.replace(\".\",\"\"),u=n.length,s=u-s,r=Ue(t,new t(i),s,s*2)),f=ie(n,i,D),c=f.length-1,s=c;f[s]===0;--s)f.pop();return s<0?new t(e.s*0):(e.e=ue(f,c),e.d=f,w=!1,o&&(e=S(e,r,u*4)),l&&(e=e.times(Math.abs(l)<54?M(2,l):Y.pow(2,l))),w=!0,e)}function un(e,n){var i,t=n.d.length;if(t<3)return n.isZero()?n:W(e,2,n,n);i=1.4*Math.sqrt(t),i=i>16?16:i|0,n=n.times(1/fe(5,i)),n=W(e,2,n,n);for(var r,s=new e(5),o=new e(16),u=new e(20);i--;)r=n.times(n),n=n.times(s.plus(r.times(o.times(r).minus(u))));return n}function W(e,n,i,t,r){var s,o,u,l,f=1,c=e.precision,a=Math.ceil(c/m);for(w=!1,l=i.times(i),u=new e(t);;){if(o=S(u.times(l),new e(n++*n++),c,1),u=r?t.plus(o):t.minus(o),t=S(o.times(l),new e(n++*n++),c,1),o=u.plus(t),o.d[a]!==void 0){for(s=a;o.d[s]===u.d[s]&&s--;);if(s==-1)break}s=u,u=t,t=o,o=s,f++}return w=!0,o.d.length=a+1,o}function fe(e,n){for(var i=e;--n;)i*=e;return i}function Ve(e,n){var i,t=n.s<0,r=L(e,e.precision,1),s=r.times(.5);if(n=n.abs(),n.lte(s))return Z=t?4:1,n;if(i=n.divToInt(r),i.isZero())Z=t?3:2;else{if(n=n.minus(i.times(r)),n.lte(s))return Z=_e(i)?t?2:3:t?4:1,n;Z=_e(i)?t?1:4:t?3:2}return n.minus(r).abs()}function ke(e,n,i,t){var r,s,o,u,l,f,c,a,d,g=e.constructor,v=i!==void 0;if(v?(R(i,1,V),t===void 0?t=g.rounding:R(t,0,8)):(i=g.precision,t=g.rounding),!e.isFinite())c=$e(e);else{for(c=F(e),o=c.indexOf(\".\"),v?(r=2,n==16?i=i*4-3:n==8&&(i=i*3-2)):r=n,o>=0&&(c=c.replace(\".\",\"\"),d=new g(1),d.e=c.length-o,d.d=ie(F(d),10,r),d.e=d.d.length),a=ie(c,10,r),s=l=a.length;a[--l]==0;)a.pop();if(!a[0])c=v?\"0p+0\":\"0\";else{if(o<0?s--:(e=new g(e),e.d=a,e.e=s,e=S(e,d,i,t,0,r),a=e.d,s=e.e,f=Te),o=a[i],u=r/2,f=f||a[i+1]!==void 0,f=t<4?(o!==void 0||f)&&(t===0||t===(e.s<0?3:2)):o>u||o===u&&(t===4||f||t===6&&a[i-1]&1||t===(e.s<0?8:7)),a.length=i,f)for(;++a[--i]>r-1;)a[i]=0,i||(++s,a.unshift(1));for(l=a.length;!a[l-1];--l);for(o=0,c=\"\";o<l;o++)c+=we.charAt(a[o]);if(v){if(l>1)if(n==16||n==8){for(o=n==16?4:3,--l;l%o;l++)c+=\"0\";for(a=ie(c,r,n),l=a.length;!a[l-1];--l);for(o=1,c=\"1.\";o<l;o++)c+=we.charAt(a[o])}else c=c.charAt(0)+\".\"+c.slice(1);c=c+(s<0?\"p\":\"p+\")+s}else if(s<0){for(;++s;)c=\"0\"+c;c=\"0.\"+c}else if(++s>l)for(s-=l;s--;)c+=\"0\";else s<l&&(c=c.slice(0,s)+\".\"+c.slice(s))}c=(n==16?\"0x\":n==2?\"0b\":n==8?\"0o\":\"\")+c}return e.s<0?\"-\"+c:c}function Re(e,n){if(e.length>n)return e.length=n,!0}function fn(e){return new this(e).abs()}function ln(e){return new this(e).acos()}function cn(e){return new this(e).acosh()}function an(e,n){return new this(e).plus(n)}function dn(e){return new this(e).asin()}function hn(e){return new this(e).asinh()}function pn(e){return new this(e).atan()}function gn(e){return new this(e).atanh()}function mn(e,n){e=new this(e),n=new this(n);var i,t=this.precision,r=this.rounding,s=t+4;return!e.s||!n.s?i=new this(NaN):!e.d&&!n.d?(i=L(this,s,1).times(n.s>0?.25:.75),i.s=e.s):!n.d||e.isZero()?(i=n.s<0?L(this,t,r):new this(0),i.s=e.s):!e.d||n.isZero()?(i=L(this,s,1).times(.5),i.s=e.s):n.s<0?(this.precision=s,this.rounding=1,i=this.atan(S(e,n,s,1)),n=L(this,s,1),this.precision=t,this.rounding=r,i=e.s<0?i.minus(n):i.plus(n)):i=this.atan(S(e,n,s,1)),i}function wn(e){return new this(e).cbrt()}function Nn(e){return p(e=new this(e),e.e+1,2)}function vn(e,n,i){return new this(e).clamp(n,i)}function En(e){if(!e||typeof e!=\"object\")throw Error(oe+\"Object expected\");var n,i,t,r=e.defaults===!0,s=[\"precision\",1,V,\"rounding\",0,8,\"toExpNeg\",-H,0,\"toExpPos\",0,H,\"maxE\",0,H,\"minE\",-H,0,\"modulo\",0,9];for(n=0;n<s.length;n+=3)if(i=s[n],r&&(this[i]=Ne[i]),(t=e[i])!==void 0)if(A(t)===t&&t>=s[n+1]&&t<=s[n+2])this[i]=t;else throw Error($+i+\": \"+t);if(i=\"crypto\",r&&(this[i]=Ne[i]),(t=e[i])!==void 0)if(t===!0||t===!1||t===0||t===1)if(t)if(typeof crypto<\"u\"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(De);else this[i]=!1;else throw Error($+i+\": \"+t);return this}function Sn(e){return new this(e).cos()}function kn(e){return new this(e).cosh()}function He(e){var n,i,t;function r(s){var o,u,l,f=this;if(!(f instanceof r))return new r(s);if(f.constructor=r,qe(s)){f.s=s.s,w?!s.d||s.e>r.maxE?(f.e=NaN,f.d=null):s.e<r.minE?(f.e=0,f.d=[0]):(f.e=s.e,f.d=s.d.slice()):(f.e=s.e,f.d=s.d?s.d.slice():s.d);return}if(l=typeof s,l===\"number\"){if(s===0){f.s=1/s<0?-1:1,f.e=0,f.d=[0];return}if(s<0?(s=-s,f.s=-1):f.s=1,s===~~s&&s<1e7){for(o=0,u=s;u>=10;u/=10)o++;w?o>r.maxE?(f.e=NaN,f.d=null):o<r.minE?(f.e=0,f.d=[0]):(f.e=o,f.d=[s]):(f.e=o,f.d=[s]);return}else if(s*0!==0){s||(f.s=NaN),f.e=NaN,f.d=null;return}return Se(f,s.toString())}else if(l!==\"string\")throw Error($+s);return(u=s.charCodeAt(0))===45?(s=s.slice(1),f.s=-1):(u===43&&(s=s.slice(1)),f.s=1),Ie.test(s)?Se(f,s):on(f,s)}if(r.prototype=h,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=En,r.clone=He,r.isDecimal=qe,r.abs=fn,r.acos=ln,r.acosh=cn,r.add=an,r.asin=dn,r.asinh=hn,r.atan=pn,r.atanh=gn,r.atan2=mn,r.cbrt=wn,r.ceil=Nn,r.clamp=vn,r.cos=Sn,r.cosh=kn,r.div=Cn,r.exp=Mn,r.floor=On,r.hypot=Pn,r.ln=bn,r.log=An,r.log10=Rn,r.log2=_n,r.max=qn,r.min=Tn,r.mod=Ln,r.mul=Dn,r.pow=Fn,r.random=In,r.round=Zn,r.sign=Un,r.sin=Bn,r.sinh=$n,r.sqrt=Vn,r.sub=Hn,r.sum=Wn,r.tan=Gn,r.tanh=Jn,r.trunc=jn,e===void 0&&(e={}),e&&e.defaults!==!0)for(t=[\"precision\",\"rounding\",\"toExpNeg\",\"toExpPos\",\"maxE\",\"minE\",\"modulo\",\"crypto\"],n=0;n<t.length;)e.hasOwnProperty(i=t[n++])||(e[i]=this[i]);return r.config(e),r}function Cn(e,n){return new this(e).div(n)}function Mn(e){return new this(e).exp()}function On(e){return p(e=new this(e),e.e+1,3)}function Pn(){var e,n,i=new this(0);for(w=!1,e=0;e<arguments.length;)if(n=new this(arguments[e++]),n.d)i.d&&(i=i.plus(n.times(n)));else{if(n.s)return w=!0,new this(1/0);i=n}return w=!0,i.sqrt()}function qe(e){return e instanceof Y||e&&e.toStringTag===Fe||!1}function bn(e){return new this(e).ln()}function An(e,n){return new this(e).log(n)}function _n(e){return new this(e).log(2)}function Rn(e){return new this(e).log(10)}function qn(){return Be(this,arguments,\"lt\")}function Tn(){return Be(this,arguments,\"gt\")}function Ln(e,n){return new this(e).mod(n)}function Dn(e,n){return new this(e).mul(n)}function Fn(e,n){return new this(e).pow(n)}function In(e){var n,i,t,r,s=0,o=new this(1),u=[];if(e===void 0?e=this.precision:R(e,1,V),t=Math.ceil(e/m),this.crypto)if(crypto.getRandomValues)for(n=crypto.getRandomValues(new Uint32Array(t));s<t;)r=n[s],r>=429e7?n[s]=crypto.getRandomValues(new Uint32Array(1))[0]:u[s++]=r%1e7;else if(crypto.randomBytes){for(n=crypto.randomBytes(t*=4);s<t;)r=n[s]+(n[s+1]<<8)+(n[s+2]<<16)+((n[s+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(n,s):(u.push(r%1e7),s+=4);s=t/4}else throw Error(De);else for(;s<t;)u[s++]=Math.random()*1e7|0;for(t=u[--s],e%=m,t&&e&&(r=M(10,m-e),u[s]=(t/r|0)*r);u[s]===0;s--)u.pop();if(s<0)i=0,u=[0];else{for(i=-1;u[0]===0;i-=m)u.shift();for(t=1,r=u[0];r>=10;r/=10)t++;t<m&&(i-=m-t)}return o.e=i,o.d=u,o}function Zn(e){return p(e=new this(e),e.e+1,this.rounding)}function Un(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Bn(e){return new this(e).sin()}function $n(e){return new this(e).sinh()}function Vn(e){return new this(e).sqrt()}function Hn(e,n){return new this(e).sub(n)}function Wn(){var e=0,n=arguments,i=new this(n[e]);for(w=!1;i.s&&++e<n.length;)i=i.plus(n[e]);return w=!0,p(i,this.precision,this.rounding)}function Gn(e){return new this(e).tan()}function Jn(e){return new this(e).tanh()}function jn(e){return p(e=new this(e),e.e+1,1)}h[Symbol.for(\"nodejs.util.inspect.custom\")]=h.toString;h[Symbol.toStringTag]=\"Decimal\";var Y=h.constructor=He(Ne);te=new Y(te);re=new Y(re);var We=Y;0&&(module.exports={Decimal,Public,getRuntime,makeStrictEnum,objectEnumValues});\n/*! Bundled license information:\n\ndecimal.js/decimal.mjs:\n  (*!\n   *  decimal.js v10.4.3\n   *  An arbitrary-precision Decimal type for JavaScript.\n   *  https://github.com/MikeMcl/decimal.js\n   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\n   *  MIT Licence\n   *)\n*/\n//# sourceMappingURL=index-browser.js.map\n", "\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\nconst {\n  Decimal,\n  objectEnumValues,\n  makeStrictEnum,\n  Public,\n  getRuntime,\n} = require('@prisma/client/runtime/index-browser.js')\n\n\nconst Prisma = {}\n\nexports.Prisma = Prisma\nexports.$Enums = {}\n\n/**\n * Prisma Client JS version: 5.11.0\n * Query Engine version: efd2449663b3d73d637ea1fd226bafbcf45b3102\n */\nPrisma.prismaVersion = {\n  client: \"5.11.0\",\n  engine: \"efd2449663b3d73d637ea1fd226bafbcf45b3102\"\n}\n\nPrisma.PrismaClientKnownRequestError = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)};\nPrisma.PrismaClientUnknownRequestError = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.PrismaClientRustPanicError = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.PrismaClientInitializationError = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.PrismaClientValidationError = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.NotFoundError = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`NotFoundError is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.Decimal = Decimal\n\n/**\n * Re-export of sql-template-tag\n */\nPrisma.sql = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.empty = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`empty is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.join = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`join is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.raw = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`raw is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.validator = Public.validator\n\n/**\n* Extensions\n*/\nPrisma.getExtensionContext = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\nPrisma.defineExtension = () => {\n  const runtimeName = getRuntime().prettyName;\n  throw new Error(`Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ${runtimeName}).\nIn case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`,\n)}\n\n/**\n * Shorthand utilities for JSON filtering\n */\nPrisma.DbNull = objectEnumValues.instances.DbNull\nPrisma.JsonNull = objectEnumValues.instances.JsonNull\nPrisma.AnyNull = objectEnumValues.instances.AnyNull\n\nPrisma.NullTypes = {\n  DbNull: objectEnumValues.classes.DbNull,\n  JsonNull: objectEnumValues.classes.JsonNull,\n  AnyNull: objectEnumValues.classes.AnyNull\n}\n\n/**\n * Enums\n */\n\nexports.Prisma.TransactionIsolationLevel = makeStrictEnum({\n  ReadUncommitted: 'ReadUncommitted',\n  ReadCommitted: 'ReadCommitted',\n  RepeatableRead: 'RepeatableRead',\n  Serializable: 'Serializable'\n});\n\nexports.Prisma.UserScalarFieldEnum = {\n  id: 'id',\n  name: 'name',\n  email: 'email',\n  emailVerified: 'emailVerified',\n  image: 'image'\n};\n\nexports.Prisma.TodoScalarFieldEnum = {\n  id: 'id',\n  text: 'text',\n  completed: 'completed',\n  image: 'image',\n  userId: 'userId'\n};\n\nexports.Prisma.AccountScalarFieldEnum = {\n  id: 'id',\n  userId: 'userId',\n  type: 'type',\n  provider: 'provider',\n  providerAccountId: 'providerAccountId',\n  refresh_token: 'refresh_token',\n  access_token: 'access_token',\n  expires_at: 'expires_at',\n  token_type: 'token_type',\n  scope: 'scope',\n  id_token: 'id_token',\n  session_state: 'session_state'\n};\n\nexports.Prisma.SessionScalarFieldEnum = {\n  id: 'id',\n  sessionToken: 'sessionToken',\n  userId: 'userId',\n  expires: 'expires'\n};\n\nexports.Prisma.VerificationTokenScalarFieldEnum = {\n  identifier: 'identifier',\n  token: 'token',\n  expires: 'expires'\n};\n\nexports.Prisma.SortOrder = {\n  asc: 'asc',\n  desc: 'desc'\n};\n\nexports.Prisma.QueryMode = {\n  default: 'default',\n  insensitive: 'insensitive'\n};\n\nexports.Prisma.NullsOrder = {\n  first: 'first',\n  last: 'last'\n};\n\n\nexports.Prisma.ModelName = {\n  User: 'User',\n  Todo: 'Todo',\n  Account: 'Account',\n  Session: 'Session',\n  VerificationToken: 'VerificationToken'\n};\n\n/**\n * This is a stub Prisma Client that will error at runtime if called.\n */\nclass PrismaClient {\n  constructor() {\n    return new Proxy(this, {\n      get(target, prop) {\n        let message\n        const runtime = getRuntime()\n        if (runtime.isEdge) {\n          message = `PrismaClient is not configured to run in ${runtime.prettyName}. In order to run Prisma Client on edge runtime, either:\n- Use Prisma Accelerate: https://pris.ly/d/accelerate\n- Use Driver Adapters: https://pris.ly/d/driver-adapters\n`;\n        } else {\n          message = 'PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `' + runtime.prettyName + '`).'\n        }\n        \n        message += `\nIf this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report`\n\n        throw new Error(message)\n      }\n    })\n  }\n}\n\nexports.PrismaClient = PrismaClient\n\nObject.assign(exports, Prisma)\n", "const prisma = require('.prisma/client/index-browser')\n\nmodule.exports = prisma\n", "import { PrismaClient } from \"@prisma/client\";\nconst prisma = new PrismaClient();\nexport {\n  prisma as p\n};\n", "import { i as building, b as base, j as private_env } from \"./internal.js\";\nimport { setEnvDefaults as setEnvDefaults$1, Auth, raw, skipCSRFCheck, isAuthAction } from \"@auth/core\";\nimport { D as DEV } from \"./prod-ssr.js\";\nimport { r as redirect } from \"./index.js\";\nimport { parse } from \"set-cookie-parser\";\nimport Github from \"@auth/core/providers/github\";\nimport { PrismaAdapter } from \"@auth/prisma-adapter\";\nimport { p as prisma } from \"./prisma.js\";\nconst dev = DEV;\nfunction setEnvDefaults(envObject, config) {\n  if (building)\n    return;\n  setEnvDefaults$1(envObject, config);\n  config.trustHost ??= dev;\n  config.basePath = `${base}/auth`;\n}\nasync function signIn$1(provider, options = {}, authorizationParams, config, event) {\n  const { request } = event;\n  const headers = new Headers(request.headers);\n  const { redirect: shouldRedirect = true, redirectTo, ...rest } = options instanceof FormData ? Object.fromEntries(options) : options;\n  const callbackUrl = redirectTo?.toString() ?? headers.get(\"Referer\") ?? \"/\";\n  const base2 = createActionURL(\"signin\", headers, config.basePath);\n  if (!provider) {\n    const url2 = `${base2}?${new URLSearchParams({ callbackUrl })}`;\n    if (shouldRedirect)\n      redirect(302, url2);\n    return url2;\n  }\n  let url = `${base2}/${provider}?${new URLSearchParams(authorizationParams)}`;\n  let foundProvider = void 0;\n  for (const _provider of config.providers) {\n    const { id } = typeof _provider === \"function\" ? _provider() : _provider;\n    if (id === provider) {\n      foundProvider = id;\n      break;\n    }\n  }\n  if (!foundProvider) {\n    const url2 = `${base2}?${new URLSearchParams({ callbackUrl })}`;\n    if (shouldRedirect)\n      redirect(302, url2);\n    return url2;\n  }\n  if (foundProvider === \"credentials\") {\n    url = url.replace(\"signin\", \"callback\");\n  }\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const body = new URLSearchParams({ ...rest, callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw, skipCSRFCheck });\n  for (const c of res?.cookies ?? []) {\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  }\n  if (shouldRedirect) {\n    return redirect(302, res.redirect);\n  }\n  return res.redirect;\n}\nasync function signOut$1(options, config, event) {\n  const { request } = event;\n  const headers = new Headers(request.headers);\n  headers.set(\"Content-Type\", \"application/x-www-form-urlencoded\");\n  const url = createActionURL(\"signout\", headers, config.basePath);\n  const callbackUrl = options?.redirectTo ?? headers.get(\"Referer\") ?? \"/\";\n  const body = new URLSearchParams({ callbackUrl });\n  const req = new Request(url, { method: \"POST\", headers, body });\n  const res = await Auth(req, { ...config, raw, skipCSRFCheck });\n  for (const c of res?.cookies ?? [])\n    event.cookies.set(c.name, c.value, { path: \"/\", ...c.options });\n  if (options?.redirect ?? true)\n    return redirect(302, res.redirect);\n  return res;\n}\nasync function auth(event, config) {\n  setEnvDefaults(private_env, config);\n  config.trustHost ??= true;\n  const { request: req } = event;\n  const sessionUrl = createActionURL(\"session\", req.headers, config.basePath);\n  const request = new Request(sessionUrl, {\n    headers: { cookie: req.headers.get(\"cookie\") ?? \"\" }\n  });\n  const response = await Auth(request, config);\n  const authCookies = parse(response.headers.getSetCookie());\n  for (const cookie of authCookies) {\n    const { name, value, ...options } = cookie;\n    event.cookies.set(name, value, { path: \"/\", ...options });\n  }\n  const { status = 200 } = response;\n  const data = await response.json();\n  if (!data || !Object.keys(data).length)\n    return null;\n  if (status === 200)\n    return data;\n  throw new Error(data.message);\n}\nfunction createActionURL(action, headers, basePath) {\n  let url = private_env.AUTH_URL;\n  if (!url) {\n    const host = headers.get(\"x-forwarded-host\") ?? headers.get(\"host\");\n    const proto = headers.get(\"x-forwarded-proto\");\n    url = `${proto === \"http\" || dev ? \"http\" : \"https\"}://${host}${basePath}`;\n  }\n  return new URL(`${url.replace(/\\/$/, \"\")}/${action}`);\n}\nconst authorizationParamsPrefix = \"authorizationParams-\";\nfunction SvelteKitAuth(config) {\n  return {\n    signIn: async (event) => {\n      const { request } = event;\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const formData = await request.formData();\n      const { providerId: provider, ...options } = Object.fromEntries(formData);\n      let authorizationParams = {};\n      let _options = {};\n      for (const key in options) {\n        if (key.startsWith(authorizationParamsPrefix)) {\n          authorizationParams[key.slice(authorizationParamsPrefix.length)] = options[key];\n        } else {\n          _options[key] = options[key];\n        }\n      }\n      await signIn$1(provider, _options, authorizationParams, _config, event);\n    },\n    signOut: async (event) => {\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const options = Object.fromEntries(await event.request.formData());\n      await signOut$1(options, _config, event);\n    },\n    async handle({ event, resolve }) {\n      const _config = typeof config === \"object\" ? config : await config(event);\n      setEnvDefaults(private_env, _config);\n      const { url, request } = event;\n      event.locals.auth ??= () => auth(event, _config);\n      event.locals.getSession ??= event.locals.auth;\n      const action = url.pathname.slice(\n        // @ts-expect-error - basePath is defined in setEnvDefaults\n        _config.basePath.length + 1\n      ).split(\"/\")[0];\n      if (isAuthAction(action) && url.pathname.startsWith(_config.basePath + \"/\")) {\n        return Auth(request, _config);\n      }\n      return resolve(event);\n    }\n  };\n}\nconst GITHUB_ID = \"e96b52d6098bc20dd687\";\nconst GITHUB_SECRET = \"a13cd9a6aaa6fe51b1717e4561e4eb2eef87a6be\";\nconst { handle, signIn, signOut } = SvelteKitAuth({\n  adapter: PrismaAdapter(prisma),\n  providers: [\n    Github({ clientId: GITHUB_ID, clientSecret: GITHUB_SECRET })\n  ]\n});\nconsole.log(\"On hooks.server.ts\", handle.name);\nexport {\n  handle,\n  signIn,\n  signOut\n};\n", "import { c as create_ssr_component, s as setContext, v as validate_component, m as missing_component } from \"./ssr.js\";\nlet base = \"\";\nlet assets = base;\nconst initial = { base, assets };\nfunction override(paths) {\n  base = paths.base;\n  assets = paths.assets;\n}\nfunction reset() {\n  base = initial.base;\n  assets = initial.assets;\n}\nfunction set_assets(path) {\n  assets = initial.assets = path;\n}\nlet private_env = {};\nlet public_env = {};\nlet safe_public_env = {};\nfunction set_private_env(environment) {\n  private_env = environment;\n}\nfunction set_public_env(environment) {\n  public_env = environment;\n}\nfunction set_safe_public_env(environment) {\n  safe_public_env = environment;\n}\nfunction afterUpdate() {\n}\nlet building = false;\nlet prerendering = false;\nfunction set_building() {\n  building = true;\n}\nfunction set_prerendering() {\n  prerendering = true;\n}\nconst Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { stores } = $$props;\n  let { page } = $$props;\n  let { constructors } = $$props;\n  let { components = [] } = $$props;\n  let { form } = $$props;\n  let { data_0 = null } = $$props;\n  let { data_1 = null } = $$props;\n  {\n    setContext(\"__svelte__\", stores);\n  }\n  afterUpdate(stores.page.notify);\n  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)\n    $$bindings.stores(stores);\n  if ($$props.page === void 0 && $$bindings.page && page !== void 0)\n    $$bindings.page(page);\n  if ($$props.constructors === void 0 && $$bindings.constructors && constructors !== void 0)\n    $$bindings.constructors(constructors);\n  if ($$props.components === void 0 && $$bindings.components && components !== void 0)\n    $$bindings.components(components);\n  if ($$props.form === void 0 && $$bindings.form && form !== void 0)\n    $$bindings.form(form);\n  if ($$props.data_0 === void 0 && $$bindings.data_0 && data_0 !== void 0)\n    $$bindings.data_0(data_0);\n  if ($$props.data_1 === void 0 && $$bindings.data_1 && data_1 !== void 0)\n    $$bindings.data_1(data_1);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    {\n      stores.page.set(page);\n    }\n    $$rendered = `  ${constructors[1] ? `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { data: data_0, this: components[0] },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {\n        default: () => {\n          return `${validate_component(constructors[1] || missing_component, \"svelte:component\").$$render(\n            $$result,\n            { data: data_1, form, this: components[1] },\n            {\n              this: ($$value) => {\n                components[1] = $$value;\n                $$settled = false;\n              }\n            },\n            {}\n          )}`;\n        }\n      }\n    )}` : `${validate_component(constructors[0] || missing_component, \"svelte:component\").$$render(\n      $$result,\n      { data: data_0, form, this: components[0] },\n      {\n        this: ($$value) => {\n          components[0] = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}`} ${``}`;\n  } while (!$$settled);\n  return $$rendered;\n});\nfunction set_read_implementation(fn) {\n}\nfunction set_manifest(_) {\n}\nconst options = {\n  app_dir: \"_app\",\n  app_template_contains_nonce: false,\n  csp: { \"mode\": \"auto\", \"directives\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false }, \"reportOnly\": { \"upgrade-insecure-requests\": false, \"block-all-mixed-content\": false } },\n  csrf_check_origin: true,\n  embedded: false,\n  env_public_prefix: \"PUBLIC_\",\n  env_private_prefix: \"\",\n  hooks: null,\n  // added lazily, via `get_hooks`\n  preload_strategy: \"modulepreload\",\n  root: Root,\n  service_worker: false,\n  templates: {\n    app: ({ head, body, assets: assets2, nonce, env }) => '<!doctype html>\\n<html lang=\"en\">\\n\t<head>\\n\t\t<meta charset=\"utf-8\" />\\n\t\t<link rel=\"icon\" href=\"' + assets2 + '/favicon.png\" />\\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\\n\t\t' + head + '\\n\t</head>\\n\t<body>\\n\t\t<div style=\"display: contents\">' + body + '</div>\\n\t</body>\\n\t<!-- data-sveltekit-preload-data=\"hover\" -->\\n</html>\\n',\n    error: ({ status, message }) => '<!doctype html>\\n<html lang=\"en\">\\n\t<head>\\n\t\t<meta charset=\"utf-8\" />\\n\t\t<title>' + message + `</title>\n\n\t\t<style>\n\t\t\tbody {\n\t\t\t\t--bg: white;\n\t\t\t\t--fg: #222;\n\t\t\t\t--divider: #ccc;\n\t\t\t\tbackground: var(--bg);\n\t\t\t\tcolor: var(--fg);\n\t\t\t\tfont-family:\n\t\t\t\t\tsystem-ui,\n\t\t\t\t\t-apple-system,\n\t\t\t\t\tBlinkMacSystemFont,\n\t\t\t\t\t'Segoe UI',\n\t\t\t\t\tRoboto,\n\t\t\t\t\tOxygen,\n\t\t\t\t\tUbuntu,\n\t\t\t\t\tCantarell,\n\t\t\t\t\t'Open Sans',\n\t\t\t\t\t'Helvetica Neue',\n\t\t\t\t\tsans-serif;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.error {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmax-width: 32rem;\n\t\t\t\tmargin: 0 1rem;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\tfont-weight: 200;\n\t\t\t\tfont-size: 3rem;\n\t\t\t\tline-height: 1;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -0.05rem;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tborder-left: 1px solid var(--divider);\n\t\t\t\tpadding: 0 0 0 1rem;\n\t\t\t\tmargin: 0 0 0 1rem;\n\t\t\t\tmin-height: 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.message h1 {\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\tbody {\n\t\t\t\t\t--bg: #222;\n\t\t\t\t\t--fg: #ddd;\n\t\t\t\t\t--divider: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"error\">\n\t\t\t<span class=\"status\">` + status + '</span>\\n\t\t\t<div class=\"message\">\\n\t\t\t\t<h1>' + message + \"</h1>\\n\t\t\t</div>\\n\t\t</div>\\n\t</body>\\n</html>\\n\"\n  },\n  version_hash: \"k9jcfq\"\n};\nasync function get_hooks() {\n  return {\n    ...await import(\"./hooks.server.js\")\n  };\n}\nexport {\n  assets as a,\n  base as b,\n  options as c,\n  set_private_env as d,\n  prerendering as e,\n  set_public_env as f,\n  get_hooks as g,\n  set_safe_public_env as h,\n  building as i,\n  private_env as j,\n  set_assets as k,\n  set_building as l,\n  set_manifest as m,\n  set_prerendering as n,\n  override as o,\n  public_env as p,\n  set_read_implementation as q,\n  reset as r,\n  safe_public_env as s\n};\n", "const internal = new URL(\"sveltekit-internal://\");\nfunction resolve(base, path) {\n  if (path[0] === \"/\" && path[1] === \"/\")\n    return path;\n  let url = new URL(base, internal);\n  url = new URL(path, url);\n  return url.protocol === internal.protocol ? url.pathname + url.search + url.hash : url.href;\n}\nfunction normalize_path(path, trailing_slash) {\n  if (path === \"/\" || trailing_slash === \"ignore\")\n    return path;\n  if (trailing_slash === \"never\") {\n    return path.endsWith(\"/\") ? path.slice(0, -1) : path;\n  } else if (trailing_slash === \"always\" && !path.endsWith(\"/\")) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction decode_pathname(pathname) {\n  return pathname.split(\"%25\").map(decodeURI).join(\"%25\");\n}\nfunction decode_params(params) {\n  for (const key in params) {\n    params[key] = decodeURIComponent(params[key]);\n  }\n  return params;\n}\nconst tracked_url_properties = (\n  /** @type {const} */\n  [\n    \"href\",\n    \"pathname\",\n    \"search\",\n    \"toString\",\n    \"toJSON\"\n  ]\n);\nfunction make_trackable(url, callback, search_params_callback) {\n  const tracked = new URL(url);\n  Object.defineProperty(tracked, \"searchParams\", {\n    value: new Proxy(tracked.searchParams, {\n      get(obj, key) {\n        if (key === \"get\" || key === \"getAll\" || key === \"has\") {\n          return (param) => {\n            search_params_callback(param);\n            return obj[key](param);\n          };\n        }\n        callback();\n        const value = Reflect.get(obj, key);\n        return typeof value === \"function\" ? value.bind(obj) : value;\n      }\n    }),\n    enumerable: true,\n    configurable: true\n  });\n  for (const property of tracked_url_properties) {\n    Object.defineProperty(tracked, property, {\n      get() {\n        callback();\n        return url[property];\n      },\n      enumerable: true,\n      configurable: true\n    });\n  }\n  {\n    tracked[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(url, opts);\n    };\n  }\n  {\n    disable_hash(tracked);\n  }\n  return tracked;\n}\nfunction disable_hash(url) {\n  allow_nodejs_console_log(url);\n  Object.defineProperty(url, \"hash\", {\n    get() {\n      throw new Error(\n        \"Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead\"\n      );\n    }\n  });\n}\nfunction disable_search(url) {\n  allow_nodejs_console_log(url);\n  for (const property of [\"search\", \"searchParams\"]) {\n    Object.defineProperty(url, property, {\n      get() {\n        throw new Error(`Cannot access url.${property} on a page with prerendering enabled`);\n      }\n    });\n  }\n}\nfunction allow_nodejs_console_log(url) {\n  {\n    url[Symbol.for(\"nodejs.util.inspect.custom\")] = (depth, opts, inspect) => {\n      return inspect(new URL(url), opts);\n    };\n  }\n}\nconst DATA_SUFFIX = \"/__data.json\";\nconst HTML_DATA_SUFFIX = \".html__data.json\";\nfunction has_data_suffix(pathname) {\n  return pathname.endsWith(DATA_SUFFIX) || pathname.endsWith(HTML_DATA_SUFFIX);\n}\nfunction add_data_suffix(pathname) {\n  if (pathname.endsWith(\".html\"))\n    return pathname.replace(/\\.html$/, HTML_DATA_SUFFIX);\n  return pathname.replace(/\\/$/, \"\") + DATA_SUFFIX;\n}\nfunction strip_data_suffix(pathname) {\n  if (pathname.endsWith(HTML_DATA_SUFFIX)) {\n    return pathname.slice(0, -HTML_DATA_SUFFIX.length) + \".html\";\n  }\n  return pathname.slice(0, -DATA_SUFFIX.length);\n}\nfunction validator(expected) {\n  function validate(module, file) {\n    if (!module)\n      return;\n    for (const key in module) {\n      if (key[0] === \"_\" || expected.has(key))\n        continue;\n      const values = [...expected.values()];\n      const hint = hint_for_supported_files(key, file?.slice(file.lastIndexOf(\".\"))) ?? `valid exports are ${values.join(\", \")}, or anything with a '_' prefix`;\n      throw new Error(`Invalid export '${key}'${file ? ` in ${file}` : \"\"} (${hint})`);\n    }\n  }\n  return validate;\n}\nfunction hint_for_supported_files(key, ext = \".js\") {\n  const supported_files = [];\n  if (valid_layout_exports.has(key)) {\n    supported_files.push(`+layout${ext}`);\n  }\n  if (valid_page_exports.has(key)) {\n    supported_files.push(`+page${ext}`);\n  }\n  if (valid_layout_server_exports.has(key)) {\n    supported_files.push(`+layout.server${ext}`);\n  }\n  if (valid_page_server_exports.has(key)) {\n    supported_files.push(`+page.server${ext}`);\n  }\n  if (valid_server_exports.has(key)) {\n    supported_files.push(`+server${ext}`);\n  }\n  if (supported_files.length > 0) {\n    return `'${key}' is a valid export in ${supported_files.slice(0, -1).join(\", \")}${supported_files.length > 1 ? \" or \" : \"\"}${supported_files.at(-1)}`;\n  }\n}\nconst valid_layout_exports = /* @__PURE__ */ new Set([\n  \"load\",\n  \"prerender\",\n  \"csr\",\n  \"ssr\",\n  \"trailingSlash\",\n  \"config\"\n]);\nconst valid_page_exports = /* @__PURE__ */ new Set([...valid_layout_exports, \"entries\"]);\nconst valid_layout_server_exports = /* @__PURE__ */ new Set([...valid_layout_exports]);\nconst valid_page_server_exports = /* @__PURE__ */ new Set([...valid_layout_server_exports, \"actions\", \"entries\"]);\nconst valid_server_exports = /* @__PURE__ */ new Set([\n  \"GET\",\n  \"POST\",\n  \"PATCH\",\n  \"PUT\",\n  \"DELETE\",\n  \"OPTIONS\",\n  \"HEAD\",\n  \"fallback\",\n  \"prerender\",\n  \"trailingSlash\",\n  \"config\",\n  \"entries\"\n]);\nconst validate_layout_exports = validator(valid_layout_exports);\nconst validate_page_exports = validator(valid_page_exports);\nconst validate_layout_server_exports = validator(valid_layout_server_exports);\nconst validate_page_server_exports = validator(valid_page_server_exports);\nconst validate_server_exports = validator(valid_server_exports);\nexport {\n  add_data_suffix as a,\n  decode_pathname as b,\n  decode_params as c,\n  disable_search as d,\n  validate_layout_exports as e,\n  validate_page_server_exports as f,\n  validate_page_exports as g,\n  has_data_suffix as h,\n  validate_server_exports as i,\n  make_trackable as m,\n  normalize_path as n,\n  resolve as r,\n  strip_data_suffix as s,\n  validate_layout_server_exports as v\n};\n", "/** @type {Record<string, string>} */\nexport const escaped = {\n\t'<': '\\\\u003C',\n\t'\\\\': '\\\\\\\\',\n\t'\\b': '\\\\b',\n\t'\\f': '\\\\f',\n\t'\\n': '\\\\n',\n\t'\\r': '\\\\r',\n\t'\\t': '\\\\t',\n\t'\\u2028': '\\\\u2028',\n\t'\\u2029': '\\\\u2029'\n};\n\nexport class DevalueError extends Error {\n\t/**\n\t * @param {string} message\n\t * @param {string[]} keys\n\t */\n\tconstructor(message, keys) {\n\t\tsuper(message);\n\t\tthis.name = 'DevalueError';\n\t\tthis.path = keys.join('');\n\t}\n}\n\n/** @param {any} thing */\nexport function is_primitive(thing) {\n\treturn Object(thing) !== thing;\n}\n\nconst object_proto_names = /* @__PURE__ */ Object.getOwnPropertyNames(\n\tObject.prototype\n)\n\t.sort()\n\t.join('\\0');\n\n/** @param {any} thing */\nexport function is_plain_object(thing) {\n\tconst proto = Object.getPrototypeOf(thing);\n\n\treturn (\n\t\tproto === Object.prototype ||\n\t\tproto === null ||\n\t\tObject.getOwnPropertyNames(proto).sort().join('\\0') === object_proto_names\n\t);\n}\n\n/** @param {any} thing */\nexport function get_type(thing) {\n\treturn Object.prototype.toString.call(thing).slice(8, -1);\n}\n\n/** @param {string} char */\nfunction get_escaped_char(char) {\n\tswitch (char) {\n\t\tcase '\"':\n\t\t\treturn '\\\\\"';\n\t\tcase '<':\n\t\t\treturn '\\\\u003C';\n\t\tcase '\\\\':\n\t\t\treturn '\\\\\\\\';\n\t\tcase '\\n':\n\t\t\treturn '\\\\n';\n\t\tcase '\\r':\n\t\t\treturn '\\\\r';\n\t\tcase '\\t':\n\t\t\treturn '\\\\t';\n\t\tcase '\\b':\n\t\t\treturn '\\\\b';\n\t\tcase '\\f':\n\t\t\treturn '\\\\f';\n\t\tcase '\\u2028':\n\t\t\treturn '\\\\u2028';\n\t\tcase '\\u2029':\n\t\t\treturn '\\\\u2029';\n\t\tdefault:\n\t\t\treturn char < ' '\n\t\t\t\t? `\\\\u${char.charCodeAt(0).toString(16).padStart(4, '0')}`\n\t\t\t\t: '';\n\t}\n}\n\n/** @param {string} str */\nexport function stringify_string(str) {\n\tlet result = '';\n\tlet last_pos = 0;\n\tconst len = str.length;\n\n\tfor (let i = 0; i < len; i += 1) {\n\t\tconst char = str[i];\n\t\tconst replacement = get_escaped_char(char);\n\t\tif (replacement) {\n\t\t\tresult += str.slice(last_pos, i) + replacement;\n\t\t\tlast_pos = i + 1;\n\t\t}\n\t}\n\n\treturn `\"${last_pos === 0 ? str : result + str.slice(last_pos)}\"`;\n}\n", "import {\n\tDevalueError,\n\tescaped,\n\tget_type,\n\tis_plain_object,\n\tis_primitive,\n\tstringify_string\n} from './utils.js';\n\nconst chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$';\nconst unsafe_chars = /[<\\b\\f\\n\\r\\t\\0\\u2028\\u2029]/g;\nconst reserved =\n\t/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;\n\n/**\n * Turn a value into the JavaScript that creates an equivalent value\n * @param {any} value\n * @param {(value: any) => string | void} [replacer]\n */\nexport function uneval(value, replacer) {\n\tconst counts = new Map();\n\n\t/** @type {string[]} */\n\tconst keys = [];\n\n\tconst custom = new Map();\n\n\t/** @param {any} thing */\n\tfunction walk(thing) {\n\t\tif (typeof thing === 'function') {\n\t\t\tthrow new DevalueError(`Cannot stringify a function`, keys);\n\t\t}\n\n\t\tif (!is_primitive(thing)) {\n\t\t\tif (counts.has(thing)) {\n\t\t\t\tcounts.set(thing, counts.get(thing) + 1);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcounts.set(thing, 1);\n\n\t\t\tif (replacer) {\n\t\t\t\tconst str = replacer(thing);\n\n\t\t\t\tif (typeof str === 'string') {\n\t\t\t\t\tcustom.set(thing, str);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst type = get_type(thing);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'BigInt':\n\t\t\t\tcase 'String':\n\t\t\t\tcase 'Boolean':\n\t\t\t\tcase 'Date':\n\t\t\t\tcase 'RegExp':\n\t\t\t\t\treturn;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\t/** @type {any[]} */ (thing).forEach((value, i) => {\n\t\t\t\t\t\tkeys.push(`[${i}]`);\n\t\t\t\t\t\twalk(value);\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Set':\n\t\t\t\t\tArray.from(thing).forEach(walk);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Map':\n\t\t\t\t\tfor (const [key, value] of thing) {\n\t\t\t\t\t\tkeys.push(\n\t\t\t\t\t\t\t`.get(${is_primitive(key) ? stringify_primitive(key) : '...'})`\n\t\t\t\t\t\t);\n\t\t\t\t\t\twalk(value);\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (!is_plain_object(thing)) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify arbitrary non-POJOs`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Object.getOwnPropertySymbols(thing).length > 0) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify POJOs with symbolic keys`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const key in thing) {\n\t\t\t\t\t\tkeys.push(`.${key}`);\n\t\t\t\t\t\twalk(thing[key]);\n\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\twalk(value);\n\n\tconst names = new Map();\n\n\tArray.from(counts)\n\t\t.filter((entry) => entry[1] > 1)\n\t\t.sort((a, b) => b[1] - a[1])\n\t\t.forEach((entry, i) => {\n\t\t\tnames.set(entry[0], get_name(i));\n\t\t});\n\n\t/**\n\t * @param {any} thing\n\t * @returns {string}\n\t */\n\tfunction stringify(thing) {\n\t\tif (names.has(thing)) {\n\t\t\treturn names.get(thing);\n\t\t}\n\n\t\tif (is_primitive(thing)) {\n\t\t\treturn stringify_primitive(thing);\n\t\t}\n\n\t\tif (custom.has(thing)) {\n\t\t\treturn custom.get(thing);\n\t\t}\n\n\t\tconst type = get_type(thing);\n\n\t\tswitch (type) {\n\t\t\tcase 'Number':\n\t\t\tcase 'String':\n\t\t\tcase 'Boolean':\n\t\t\t\treturn `Object(${stringify(thing.valueOf())})`;\n\n\t\t\tcase 'RegExp':\n\t\t\t\treturn `new RegExp(${stringify_string(thing.source)}, \"${\n\t\t\t\t\tthing.flags\n\t\t\t\t}\")`;\n\n\t\t\tcase 'Date':\n\t\t\t\treturn `new Date(${thing.getTime()})`;\n\n\t\t\tcase 'Array':\n\t\t\t\tconst members = /** @type {any[]} */ (thing).map((v, i) =>\n\t\t\t\t\ti in thing ? stringify(v) : ''\n\t\t\t\t);\n\t\t\t\tconst tail = thing.length === 0 || thing.length - 1 in thing ? '' : ',';\n\t\t\t\treturn `[${members.join(',')}${tail}]`;\n\n\t\t\tcase 'Set':\n\t\t\tcase 'Map':\n\t\t\t\treturn `new ${type}([${Array.from(thing).map(stringify).join(',')}])`;\n\n\t\t\tdefault:\n\t\t\t\tconst obj = `{${Object.keys(thing)\n\t\t\t\t\t.map((key) => `${safe_key(key)}:${stringify(thing[key])}`)\n\t\t\t\t\t.join(',')}}`;\n\t\t\t\tconst proto = Object.getPrototypeOf(thing);\n\t\t\t\tif (proto === null) {\n\t\t\t\t\treturn Object.keys(thing).length > 0\n\t\t\t\t\t\t? `Object.assign(Object.create(null),${obj})`\n\t\t\t\t\t\t: `Object.create(null)`;\n\t\t\t\t}\n\n\t\t\t\treturn obj;\n\t\t}\n\t}\n\n\tconst str = stringify(value);\n\n\tif (names.size) {\n\t\t/** @type {string[]} */\n\t\tconst params = [];\n\n\t\t/** @type {string[]} */\n\t\tconst statements = [];\n\n\t\t/** @type {string[]} */\n\t\tconst values = [];\n\n\t\tnames.forEach((name, thing) => {\n\t\t\tparams.push(name);\n\n\t\t\tif (custom.has(thing)) {\n\t\t\t\tvalues.push(/** @type {string} */ (custom.get(thing)));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (is_primitive(thing)) {\n\t\t\t\tvalues.push(stringify_primitive(thing));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst type = get_type(thing);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'String':\n\t\t\t\tcase 'Boolean':\n\t\t\t\t\tvalues.push(`Object(${stringify(thing.valueOf())})`);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RegExp':\n\t\t\t\t\tvalues.push(thing.toString());\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Date':\n\t\t\t\t\tvalues.push(`new Date(${thing.getTime()})`);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tvalues.push(`Array(${thing.length})`);\n\t\t\t\t\t/** @type {any[]} */ (thing).forEach((v, i) => {\n\t\t\t\t\t\tstatements.push(`${name}[${i}]=${stringify(v)}`);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Set':\n\t\t\t\t\tvalues.push(`new Set`);\n\t\t\t\t\tstatements.push(\n\t\t\t\t\t\t`${name}.${Array.from(thing)\n\t\t\t\t\t\t\t.map((v) => `add(${stringify(v)})`)\n\t\t\t\t\t\t\t.join('.')}`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Map':\n\t\t\t\t\tvalues.push(`new Map`);\n\t\t\t\t\tstatements.push(\n\t\t\t\t\t\t`${name}.${Array.from(thing)\n\t\t\t\t\t\t\t.map(([k, v]) => `set(${stringify(k)}, ${stringify(v)})`)\n\t\t\t\t\t\t\t.join('.')}`\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tvalues.push(\n\t\t\t\t\t\tObject.getPrototypeOf(thing) === null ? 'Object.create(null)' : '{}'\n\t\t\t\t\t);\n\t\t\t\t\tObject.keys(thing).forEach((key) => {\n\t\t\t\t\t\tstatements.push(\n\t\t\t\t\t\t\t`${name}${safe_prop(key)}=${stringify(thing[key])}`\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tstatements.push(`return ${str}`);\n\n\t\treturn `(function(${params.join(',')}){${statements.join(\n\t\t\t';'\n\t\t)}}(${values.join(',')}))`;\n\t} else {\n\t\treturn str;\n\t}\n}\n\n/** @param {number} num */\nfunction get_name(num) {\n\tlet name = '';\n\n\tdo {\n\t\tname = chars[num % chars.length] + name;\n\t\tnum = ~~(num / chars.length) - 1;\n\t} while (num >= 0);\n\n\treturn reserved.test(name) ? `${name}0` : name;\n}\n\n/** @param {string} c */\nfunction escape_unsafe_char(c) {\n\treturn escaped[c] || c;\n}\n\n/** @param {string} str */\nfunction escape_unsafe_chars(str) {\n\treturn str.replace(unsafe_chars, escape_unsafe_char);\n}\n\n/** @param {string} key */\nfunction safe_key(key) {\n\treturn /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key)\n\t\t? key\n\t\t: escape_unsafe_chars(JSON.stringify(key));\n}\n\n/** @param {string} key */\nfunction safe_prop(key) {\n\treturn /^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(key)\n\t\t? `.${key}`\n\t\t: `[${escape_unsafe_chars(JSON.stringify(key))}]`;\n}\n\n/** @param {any} thing */\nfunction stringify_primitive(thing) {\n\tif (typeof thing === 'string') return stringify_string(thing);\n\tif (thing === void 0) return 'void 0';\n\tif (thing === 0 && 1 / thing < 0) return '-0';\n\tconst str = String(thing);\n\tif (typeof thing === 'number') return str.replace(/^(-)?0\\./, '$1.');\n\tif (typeof thing === 'bigint') return thing + 'n';\n\treturn str;\n}\n", "export const UNDEFINED = -1;\nexport const HOLE = -2;\nexport const NAN = -3;\nexport const POSITIVE_INFINITY = -4;\nexport const NEGATIVE_INFINITY = -5;\nexport const NEGATIVE_ZERO = -6;\n", "import {\n\tHOLE,\n\tNAN,\n\tNEGATIVE_INFINITY,\n\tNEGATIVE_ZERO,\n\tPOSITIVE_INFINITY,\n\tUNDEFINED\n} from './constants.js';\n\n/**\n * Revive a value serialized with `devalue.stringify`\n * @param {string} serialized\n * @param {Record<string, (value: any) => any>} [revivers]\n */\nexport function parse(serialized, revivers) {\n\treturn unflatten(JSON.parse(serialized), revivers);\n}\n\n/**\n * Revive a value flattened with `devalue.stringify`\n * @param {number | any[]} parsed\n * @param {Record<string, (value: any) => any>} [revivers]\n */\nexport function unflatten(parsed, revivers) {\n\tif (typeof parsed === 'number') return hydrate(parsed, true);\n\n\tif (!Array.isArray(parsed) || parsed.length === 0) {\n\t\tthrow new Error('Invalid input');\n\t}\n\n\tconst values = /** @type {any[]} */ (parsed);\n\n\tconst hydrated = Array(values.length);\n\n\t/**\n\t * @param {number} index\n\t * @returns {any}\n\t */\n\tfunction hydrate(index, standalone = false) {\n\t\tif (index === UNDEFINED) return undefined;\n\t\tif (index === NAN) return NaN;\n\t\tif (index === POSITIVE_INFINITY) return Infinity;\n\t\tif (index === NEGATIVE_INFINITY) return -Infinity;\n\t\tif (index === NEGATIVE_ZERO) return -0;\n\n\t\tif (standalone) throw new Error(`Invalid input`);\n\n\t\tif (index in hydrated) return hydrated[index];\n\n\t\tconst value = values[index];\n\n\t\tif (!value || typeof value !== 'object') {\n\t\t\thydrated[index] = value;\n\t\t} else if (Array.isArray(value)) {\n\t\t\tif (typeof value[0] === 'string') {\n\t\t\t\tconst type = value[0];\n\n\t\t\t\tconst reviver = revivers?.[type];\n\t\t\t\tif (reviver) {\n\t\t\t\t\treturn (hydrated[index] = reviver(hydrate(value[1])));\n\t\t\t\t}\n\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'Date':\n\t\t\t\t\t\thydrated[index] = new Date(value[1]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Set':\n\t\t\t\t\t\tconst set = new Set();\n\t\t\t\t\t\thydrated[index] = set;\n\t\t\t\t\t\tfor (let i = 1; i < value.length; i += 1) {\n\t\t\t\t\t\t\tset.add(hydrate(value[i]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Map':\n\t\t\t\t\t\tconst map = new Map();\n\t\t\t\t\t\thydrated[index] = map;\n\t\t\t\t\t\tfor (let i = 1; i < value.length; i += 2) {\n\t\t\t\t\t\t\tmap.set(hydrate(value[i]), hydrate(value[i + 1]));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RegExp':\n\t\t\t\t\t\thydrated[index] = new RegExp(value[1], value[2]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\thydrated[index] = Object(value[1]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BigInt':\n\t\t\t\t\t\thydrated[index] = BigInt(value[1]);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'null':\n\t\t\t\t\t\tconst obj = Object.create(null);\n\t\t\t\t\t\thydrated[index] = obj;\n\t\t\t\t\t\tfor (let i = 1; i < value.length; i += 2) {\n\t\t\t\t\t\t\tobj[value[i]] = hydrate(value[i + 1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(`Unknown type ${type}`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst array = new Array(value.length);\n\t\t\t\thydrated[index] = array;\n\n\t\t\t\tfor (let i = 0; i < value.length; i += 1) {\n\t\t\t\t\tconst n = value[i];\n\t\t\t\t\tif (n === HOLE) continue;\n\n\t\t\t\t\tarray[i] = hydrate(n);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t/** @type {Record<string, any>} */\n\t\t\tconst object = {};\n\t\t\thydrated[index] = object;\n\n\t\t\tfor (const key in value) {\n\t\t\t\tconst n = value[key];\n\t\t\t\tobject[key] = hydrate(n);\n\t\t\t}\n\t\t}\n\n\t\treturn hydrated[index];\n\t}\n\n\treturn hydrate(0);\n}\n", "import {\n\tDevalueError,\n\tget_type,\n\tis_plain_object,\n\tis_primitive,\n\tstringify_string\n} from './utils.js';\nimport {\n\tHOLE,\n\tNAN,\n\tNEGATIVE_INFINITY,\n\tNEGATIVE_ZERO,\n\tPOSITIVE_INFINITY,\n\tUNDEFINED\n} from './constants.js';\n\n/**\n * Turn a value into a JSON string that can be parsed with `devalue.parse`\n * @param {any} value\n * @param {Record<string, (value: any) => any>} [reducers]\n */\nexport function stringify(value, reducers) {\n\t/** @type {any[]} */\n\tconst stringified = [];\n\n\t/** @type {Map<any, number>} */\n\tconst indexes = new Map();\n\n\t/** @type {Array<{ key: string, fn: (value: any) => any }>} */\n\tconst custom = [];\n\tfor (const key in reducers) {\n\t\tcustom.push({ key, fn: reducers[key] });\n\t}\n\n\t/** @type {string[]} */\n\tconst keys = [];\n\n\tlet p = 0;\n\n\t/** @param {any} thing */\n\tfunction flatten(thing) {\n\t\tif (typeof thing === 'function') {\n\t\t\tthrow new DevalueError(`Cannot stringify a function`, keys);\n\t\t}\n\n\t\tif (indexes.has(thing)) return indexes.get(thing);\n\n\t\tif (thing === undefined) return UNDEFINED;\n\t\tif (Number.isNaN(thing)) return NAN;\n\t\tif (thing === Infinity) return POSITIVE_INFINITY;\n\t\tif (thing === -Infinity) return NEGATIVE_INFINITY;\n\t\tif (thing === 0 && 1 / thing < 0) return NEGATIVE_ZERO;\n\n\t\tconst index = p++;\n\t\tindexes.set(thing, index);\n\n\t\tfor (const { key, fn } of custom) {\n\t\t\tconst value = fn(thing);\n\t\t\tif (value) {\n\t\t\t\tstringified[index] = `[\"${key}\",${flatten(value)}]`;\n\t\t\t\treturn index;\n\t\t\t}\n\t\t}\n\n\t\tlet str = '';\n\n\t\tif (is_primitive(thing)) {\n\t\t\tstr = stringify_primitive(thing);\n\t\t} else {\n\t\t\tconst type = get_type(thing);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Number':\n\t\t\t\tcase 'String':\n\t\t\t\tcase 'Boolean':\n\t\t\t\t\tstr = `[\"Object\",${stringify_primitive(thing)}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'BigInt':\n\t\t\t\t\tstr = `[\"BigInt\",${thing}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Date':\n\t\t\t\t\tstr = `[\"Date\",\"${thing.toISOString()}\"]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RegExp':\n\t\t\t\t\tconst { source, flags } = thing;\n\t\t\t\t\tstr = flags\n\t\t\t\t\t\t? `[\"RegExp\",${stringify_string(source)},\"${flags}\"]`\n\t\t\t\t\t\t: `[\"RegExp\",${stringify_string(source)}]`;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tstr = '[';\n\n\t\t\t\t\tfor (let i = 0; i < thing.length; i += 1) {\n\t\t\t\t\t\tif (i > 0) str += ',';\n\n\t\t\t\t\t\tif (i in thing) {\n\t\t\t\t\t\t\tkeys.push(`[${i}]`);\n\t\t\t\t\t\t\tstr += flatten(thing[i]);\n\t\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstr += HOLE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Set':\n\t\t\t\t\tstr = '[\"Set\"';\n\n\t\t\t\t\tfor (const value of thing) {\n\t\t\t\t\t\tstr += `,${flatten(value)}`;\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Map':\n\t\t\t\t\tstr = '[\"Map\"';\n\n\t\t\t\t\tfor (const [key, value] of thing) {\n\t\t\t\t\t\tkeys.push(\n\t\t\t\t\t\t\t`.get(${is_primitive(key) ? stringify_primitive(key) : '...'})`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tstr += `,${flatten(key)},${flatten(value)}`;\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += ']';\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (!is_plain_object(thing)) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify arbitrary non-POJOs`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Object.getOwnPropertySymbols(thing).length > 0) {\n\t\t\t\t\t\tthrow new DevalueError(\n\t\t\t\t\t\t\t`Cannot stringify POJOs with symbolic keys`,\n\t\t\t\t\t\t\tkeys\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Object.getPrototypeOf(thing) === null) {\n\t\t\t\t\t\tstr = '[\"null\"';\n\t\t\t\t\t\tfor (const key in thing) {\n\t\t\t\t\t\t\tkeys.push(`.${key}`);\n\t\t\t\t\t\t\tstr += `,${stringify_string(key)},${flatten(thing[key])}`;\n\t\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += ']';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstr = '{';\n\t\t\t\t\t\tlet started = false;\n\t\t\t\t\t\tfor (const key in thing) {\n\t\t\t\t\t\t\tif (started) str += ',';\n\t\t\t\t\t\t\tstarted = true;\n\t\t\t\t\t\t\tkeys.push(`.${key}`);\n\t\t\t\t\t\t\tstr += `${stringify_string(key)}:${flatten(thing[key])}`;\n\t\t\t\t\t\t\tkeys.pop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstr += '}';\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tstringified[index] = str;\n\t\treturn index;\n\t}\n\n\tconst index = flatten(value);\n\n\t// special case \u2014\u00A0value is represented as a negative index\n\tif (index < 0) return `${index}`;\n\n\treturn `[${stringified.join(',')}]`;\n}\n\n/**\n * @param {any} thing\n * @returns {string}\n */\nfunction stringify_primitive(thing) {\n\tconst type = typeof thing;\n\tif (type === 'string') return stringify_string(thing);\n\tif (thing instanceof String) return stringify_string(thing.toString());\n\tif (thing === void 0) return UNDEFINED.toString();\n\tif (thing === 0 && 1 / thing < 0) return NEGATIVE_ZERO.toString();\n\tif (type === 'bigint') return `[\"BigInt\",\"${thing}\"]`;\n\treturn String(thing);\n}\n", "export { uneval } from './src/uneval.js';\nexport { parse, unflatten } from './src/parse.js';\nexport { stringify } from './src/stringify.js';\n", "import { n as noop, f as safe_not_equal } from \"./ssr.js\";\nconst subscriber_queue = [];\nfunction readable(value, start) {\n  return {\n    subscribe: writable(value, start).subscribe\n  };\n}\nfunction writable(value, start = noop) {\n  let stop;\n  const subscribers = /* @__PURE__ */ new Set();\n  function set(new_value) {\n    if (safe_not_equal(value, new_value)) {\n      value = new_value;\n      if (stop) {\n        const run_queue = !subscriber_queue.length;\n        for (const subscriber of subscribers) {\n          subscriber[1]();\n          subscriber_queue.push(subscriber, value);\n        }\n        if (run_queue) {\n          for (let i = 0; i < subscriber_queue.length; i += 2) {\n            subscriber_queue[i][0](subscriber_queue[i + 1]);\n          }\n          subscriber_queue.length = 0;\n        }\n      }\n    }\n  }\n  function update(fn) {\n    set(fn(value));\n  }\n  function subscribe(run, invalidate = noop) {\n    const subscriber = [run, invalidate];\n    subscribers.add(subscriber);\n    if (subscribers.size === 1) {\n      stop = start(set, update) || noop;\n    }\n    run(value);\n    return () => {\n      subscribers.delete(subscriber);\n      if (subscribers.size === 0 && stop) {\n        stop();\n        stop = null;\n      }\n    };\n  }\n  return { set, update, subscribe };\n}\nexport {\n  readable as r,\n  writable as w\n};\n", "const config = {\n  runtime: \"edge\"\n};\nconst load = async (event) => {\n  return {\n    session: await event.locals.auth()\n  };\n};\nexport {\n  config,\n  load\n};\n", "import { g as getContext } from \"./ssr.js\";\nimport \"./exports.js\";\nimport \"devalue\";\nfunction get(key, parse = JSON.parse) {\n  try {\n    return parse(sessionStorage[key]);\n  } catch {\n  }\n}\nconst SNAPSHOT_KEY = \"sveltekit:snapshot\";\nconst SCROLL_KEY = \"sveltekit:scroll\";\nget(SCROLL_KEY) ?? {};\nget(SNAPSHOT_KEY) ?? {};\nconst getStores = () => {\n  const stores = getContext(\"__svelte__\");\n  return {\n    /** @type {typeof page} */\n    page: {\n      subscribe: stores.page.subscribe\n    },\n    /** @type {typeof navigating} */\n    navigating: {\n      subscribe: stores.navigating.subscribe\n    },\n    /** @type {typeof updated} */\n    updated: stores.updated\n  };\n};\nconst page = {\n  subscribe(fn) {\n    const store = getStores().page;\n    return store.subscribe(fn);\n  }\n};\nexport {\n  page as p\n};\n", "import { c as create_ssr_component, a as subscribe } from \"../../chunks/ssr.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nconst Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  $$unsubscribe_page();\n  return `<div class=\"container mx-auto my-6 max-w-lg\">${$page.data.session ? `<hgroup data-svelte-h=\"svelte-1mybkef\"><h2><a href=\"/\" class=\"text-sm text-center text-gray-800 md:text-lg\">Home Page</a></h2></hgroup>` : ``} ${slots.default ? slots.default({}) : ``}</div>`;\n});\nexport {\n  Layout as default\n};\n", "import * as server from '../entries/pages/_layout.server.ts.js';\n\nexport const index = 0;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_layout.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+layout.server.ts\";\nexport const imports = [\"_app/immutable/nodes/0.DVeD3HDJ.js\",\"_app/immutable/chunks/scheduler.Rzn6huuy.js\",\"_app/immutable/chunks/index.D6xxGKKq.js\",\"_app/immutable/chunks/stores.BB5ZuJUv.js\",\"_app/immutable/chunks/entry.b-SNwMmc.js\"];\nexport const stylesheets = [\"_app/immutable/assets/0.CwaW_QGf.css\"];\nexport const fonts = [];\n", "import { c as create_ssr_component, a as subscribe, e as escape } from \"../../chunks/ssr.js\";\nimport { p as page } from \"../../chunks/stores.js\";\nconst Error = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  $$unsubscribe_page();\n  return `<h1>${escape($page.status)}</h1> <p>${escape($page.error?.message)}</p>`;\n});\nexport {\n  Error as default\n};\n", "\n\nexport const index = 1;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/fallbacks/error.svelte.js')).default;\nexport const imports = [\"_app/immutable/nodes/1.scaPrwKB.js\",\"_app/immutable/chunks/scheduler.Rzn6huuy.js\",\"_app/immutable/chunks/index.D6xxGKKq.js\",\"_app/immutable/chunks/stores.BB5ZuJUv.js\",\"_app/immutable/chunks/entry.b-SNwMmc.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { p as prisma } from \"../../chunks/prisma.js\";\nimport { f as fail } from \"../../chunks/index.js\";\nconst config = {\n  runtime: \"edge\"\n};\nconst load = async ({ locals }) => {\n  const session = await locals.auth();\n  return {\n    todos: await prisma.todo.findMany(),\n    session\n  };\n};\nconst actions = {\n  createTodo: async ({ request, locals }) => {\n    const session = await locals.auth();\n    if (!session) {\n      console.log(\"No session found!\");\n    }\n    const data = await request.formData();\n    const { text, image } = Object.fromEntries(data);\n    try {\n      const prismaUser = await prisma.user.findUnique({\n        where: {\n          email: session?.user?.email\n        }\n      });\n      await prisma.todo.create({\n        data: {\n          text,\n          image,\n          userId: prismaUser?.id\n        }\n      });\n    } catch (error) {\n      console.error(error);\n      return fail(500, { message: \"Could not create todo\" });\n    }\n    return {\n      status: 201\n    };\n  },\n  deleteTodo: async ({ url }) => {\n    const id = url.searchParams.get(\"id\");\n    if (!id) {\n      return fail(400, { message: \"Invalid request\" });\n    }\n    try {\n      await prisma.todo.delete({\n        where: {\n          id: Number(id)\n        }\n      });\n    } catch (error) {\n      console.error(error);\n      return fail(500, { message: \"Something went wrong in delete\" });\n    }\n    return {\n      status: 200\n    };\n  }\n};\nexport {\n  actions,\n  config,\n  load\n};\n", "import { c as create_ssr_component, b as add_attribute, a as subscribe, e as escape, v as validate_component, d as each } from \"../../chunks/ssr.js\";\nimport \"devalue\";\nimport { p as page } from \"../../chunks/stores.js\";\nimport { w as writable } from \"../../chunks/index2.js\";\nconst TodoForm = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { baseImage = writable(\"\") } = $$props;\n  let base64;\n  if ($$props.baseImage === void 0 && $$bindings.baseImage && baseImage !== void 0)\n    $$bindings.baseImage(baseImage);\n  return `  <form class=\"my-6\" action=\"?/createTodo\" method=\"post\" enctype=\"multipart/form-data\"><div class=\"flex flex-col text-sm mb-2 space-y-2\"><label for=\"todo\" class=\"font-bold mb-2 text-gray-800\" data-svelte-h=\"svelte-1vd8zs6\">Todo</label> <input type=\"text\" name=\"text\" id=\"text\" placeholder=\"What you gonna do?\" class=\"appearance-none shadow-sm border border-gray-200 p-2 focus:outline-none focus:border-gray-500 rounded-lg\" autocomplete=\"off\"> <input type=\"hidden\" name=\"image\"${add_attribute(\"value\", base64, 0)}> <input type=\"file\" accept=\"image/*\" class=\"w-full shadow-sm rounded bg-gray-500 hover:bg-gray-600 text-white py-2 px-4\" id=\"image\"></div> <button type=\"submit\" class=\"w-full shadow-sm rounded bg-blue-500 hover:bg-blue-600 text-white py-2 px-4\" data-svelte-h=\"svelte-17lmbkk\">Submit</button></form>`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let todos;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  ({ todos } = data);\n  $$unsubscribe_page();\n  return `<main><div>${$page.data.session ? `<p>Signed in as ${escape($page.data.session.user?.name)}</p> <h1 class=\"text-2xl font-bold text-center text-gray-800 md:text-3xl\" data-svelte-h=\"svelte-9u0k6o\">My todos</h1> ${validate_component(TodoForm, \"TodoForm\").$$render($$result, {}, {}, {})} ${each(todos, (todo) => {\n    return `<li class=\"bg-white flex space-x-3 items-center shadow-sm border border-gray-200 rounded-lg my-2 py-2 px-4 \"><img${add_attribute(\"src\", todo.image, 0)} alt=\"base64_image\" class=\"size-10\"> <span${add_attribute(\"class\", \"flex-1 text-gray-800\", 0)}>${escape(todo.text)}</span> <a href=\"${\"/update/\" + escape(todo.id, true)}\" role=\"button\" class=\"text-sm bg-gray-500 hover:bg-gray-600 text-white py-1 px-2 rounded focus:outline-none focus:shadow-outline\">Edit</a> <form action=\"${\"?/deleteTodo&id=\" + escape(todo.id, true)}\" method=\"post\"><button type=\"submit\" class=\"text-sm bg-red-500 hover:bg-red-600 text-white py-1 px-2 rounded focus:outline-none focus:shadow-outline\" data-svelte-h=\"svelte-5bceyc\">Delete\n                        </button></form> </li>`;\n  })} <button class=\"bg-gray-700 py-1 px-2 rounded text-white\" data-svelte-h=\"svelte-e2fbar\">Sign Out</button>` : `<h1 class=\"text-2xl font-bold text-center text-gray-800 md:text-3xl\" data-svelte-h=\"svelte-li3w2t\">Sign In</h1> <button class=\"bg-gray-700 py-1 px-2 rounded text-white\" data-svelte-h=\"svelte-1gdgxqv\">Sign In with GitHub</button>`}</div></main>`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/_page.server.ts.js';\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/2.DUyRg7IN.js\",\"_app/immutable/chunks/scheduler.Rzn6huuy.js\",\"_app/immutable/chunks/index.D6xxGKKq.js\",\"_app/immutable/chunks/entry.b-SNwMmc.js\",\"_app/immutable/chunks/stores.BB5ZuJUv.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { p as prisma } from \"../../../../chunks/prisma.js\";\nimport { f as fail } from \"../../../../chunks/index.js\";\nconst config = {\n  runtime: \"edge\"\n};\nconst load = async ({ params: { todoid } }) => {\n  const todo = await prisma.todo.findUnique({\n    where: {\n      id: Number(todoid)\n    }\n  });\n  return { todo };\n};\nconst actions = {\n  updateTodo: async ({ request, params }) => {\n    const data = await request.formData();\n    const { text } = Object.fromEntries(data);\n    try {\n      await prisma.todo.update({\n        where: {\n          id: Number(params.todoid)\n        },\n        data: {\n          text\n        }\n      });\n    } catch (error2) {\n      console.error(error2);\n      return fail(500, { message: \"Could not update todo\" });\n    }\n    return {\n      status: 200\n    };\n  }\n};\nexport {\n  actions,\n  config,\n  load\n};\n", "import { c as create_ssr_component, b as add_attribute } from \"../../../../chunks/ssr.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let todo;\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0)\n    $$bindings.data(data);\n  ({ todo } = data);\n  return `<form class=\"my-6\" action=\"?/updateTodo\" method=\"post\"><div class=\"flex flex-col text-sm mb-2\"><label for=\"todo\" class=\"font-bold mb-2 text-gray-800\" data-svelte-h=\"svelte-1vd8zs6\">Todo</label> <input type=\"text\"${add_attribute(\"value\", todo?.text, 0)} name=\"text\" id=\"text\" placeholder=\"What you gonna do?\" class=\"appearance-none shadow-sm border border-gray-200 p-2 focus:outline-none focus:border-gray-500 rounded-lg\" autocomplete=\"off\"></div> <button type=\"submit\" class=\"w-full shadow-sm rounded bg-blue-500 hover:bg-blue-600 text-white py-2 px-4\" data-svelte-h=\"svelte-1anhru4\">Done</button></form>`;\n});\nexport {\n  Page as default\n};\n", "import * as server from '../entries/pages/update/_todoid_/_page.server.ts.js';\n\nexport const index = 3;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/update/_todoid_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/update/[todoid]/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/3.ZJYJJXTg.js\",\"_app/immutable/chunks/scheduler.Rzn6huuy.js\",\"_app/immutable/chunks/index.D6xxGKKq.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n", "import { D as DEV } from \"./chunks/prod-ssr.js\";\nimport { b as base, a as assets, o as override, r as reset, p as public_env, s as safe_public_env, c as options, d as set_private_env, e as prerendering, f as set_public_env, g as get_hooks, h as set_safe_public_env } from \"./chunks/internal.js\";\nimport { H as HttpError, S as SvelteKitError, t as text, j as json, R as Redirect, A as ActionFailure } from \"./chunks/index.js\";\nimport { m as make_trackable, d as disable_search, n as normalize_path, a as add_data_suffix, r as resolve, b as decode_pathname, h as has_data_suffix, s as strip_data_suffix, c as decode_params, v as validate_layout_server_exports, e as validate_layout_exports, f as validate_page_server_exports, g as validate_page_exports, i as validate_server_exports } from \"./chunks/exports.js\";\nimport * as devalue from \"devalue\";\nimport { w as writable, r as readable } from \"./chunks/index2.js\";\nimport { parse, serialize } from \"cookie\";\nimport * as set_cookie_parser from \"set-cookie-parser\";\nconst SVELTE_KIT_ASSETS = \"/_svelte_kit_assets\";\nconst ENDPOINT_METHODS = [\"GET\", \"POST\", \"PUT\", \"PATCH\", \"DELETE\", \"OPTIONS\", \"HEAD\"];\nconst PAGE_METHODS = [\"GET\", \"POST\", \"HEAD\"];\nfunction negotiate(accept, types) {\n  const parts = [];\n  accept.split(\",\").forEach((str, i) => {\n    const match = /([^/]+)\\/([^;]+)(?:;q=([0-9.]+))?/.exec(str);\n    if (match) {\n      const [, type, subtype, q = \"1\"] = match;\n      parts.push({ type, subtype, q: +q, i });\n    }\n  });\n  parts.sort((a, b) => {\n    if (a.q !== b.q) {\n      return b.q - a.q;\n    }\n    if (a.subtype === \"*\" !== (b.subtype === \"*\")) {\n      return a.subtype === \"*\" ? 1 : -1;\n    }\n    if (a.type === \"*\" !== (b.type === \"*\")) {\n      return a.type === \"*\" ? 1 : -1;\n    }\n    return a.i - b.i;\n  });\n  let accepted;\n  let min_priority = Infinity;\n  for (const mimetype of types) {\n    const [type, subtype] = mimetype.split(\"/\");\n    const priority = parts.findIndex(\n      (part) => (part.type === type || part.type === \"*\") && (part.subtype === subtype || part.subtype === \"*\")\n    );\n    if (priority !== -1 && priority < min_priority) {\n      accepted = mimetype;\n      min_priority = priority;\n    }\n  }\n  return accepted;\n}\nfunction is_content_type(request, ...types) {\n  const type = request.headers.get(\"content-type\")?.split(\";\", 1)[0].trim() ?? \"\";\n  return types.includes(type.toLowerCase());\n}\nfunction is_form_content_type(request) {\n  return is_content_type(\n    request,\n    \"application/x-www-form-urlencoded\",\n    \"multipart/form-data\",\n    \"text/plain\"\n  );\n}\nfunction coalesce_to_error(err) {\n  return err instanceof Error || err && /** @type {any} */\n  err.name && /** @type {any} */\n  err.message ? (\n    /** @type {Error} */\n    err\n  ) : new Error(JSON.stringify(err));\n}\nfunction normalize_error(error) {\n  return (\n    /** @type {import('../runtime/control.js').Redirect | HttpError | SvelteKitError | Error} */\n    error\n  );\n}\nfunction get_status(error) {\n  return error instanceof HttpError || error instanceof SvelteKitError ? error.status : 500;\n}\nfunction get_message(error) {\n  return error instanceof SvelteKitError ? error.text : \"Internal Error\";\n}\nfunction method_not_allowed(mod, method) {\n  return text(`${method} method not allowed`, {\n    status: 405,\n    headers: {\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: allowed_methods(mod).join(\", \")\n    }\n  });\n}\nfunction allowed_methods(mod) {\n  const allowed = ENDPOINT_METHODS.filter((method) => method in mod);\n  if (\"GET\" in mod || \"HEAD\" in mod)\n    allowed.push(\"HEAD\");\n  return allowed;\n}\nfunction static_error_page(options2, status, message) {\n  let page = options2.templates.error({ status, message });\n  return text(page, {\n    headers: { \"content-type\": \"text/html; charset=utf-8\" },\n    status\n  });\n}\nasync function handle_fatal_error(event, options2, error) {\n  error = error instanceof HttpError ? error : coalesce_to_error(error);\n  const status = get_status(error);\n  const body2 = await handle_error_and_jsonify(event, options2, error);\n  const type = negotiate(event.request.headers.get(\"accept\") || \"text/html\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  if (event.isDataRequest || type === \"application/json\") {\n    return json(body2, {\n      status\n    });\n  }\n  return static_error_page(options2, status, body2.message);\n}\nasync function handle_error_and_jsonify(event, options2, error) {\n  if (error instanceof HttpError) {\n    return error.body;\n  }\n  const status = get_status(error);\n  const message = get_message(error);\n  return await options2.hooks.handleError({ error, event, status, message }) ?? { message };\n}\nfunction redirect_response(status, location) {\n  const response = new Response(void 0, {\n    status,\n    headers: { location }\n  });\n  return response;\n}\nfunction clarify_devalue_error(event, error) {\n  if (error.path) {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not serializable: ${error.message} (data${error.path})`;\n  }\n  if (error.path === \"\") {\n    return `Data returned from \\`load\\` while rendering ${event.route.id} is not a plain object`;\n  }\n  return error.message;\n}\nfunction stringify_uses(node) {\n  const uses = [];\n  if (node.uses && node.uses.dependencies.size > 0) {\n    uses.push(`\"dependencies\":${JSON.stringify(Array.from(node.uses.dependencies))}`);\n  }\n  if (node.uses && node.uses.search_params.size > 0) {\n    uses.push(`\"search_params\":${JSON.stringify(Array.from(node.uses.search_params))}`);\n  }\n  if (node.uses && node.uses.params.size > 0) {\n    uses.push(`\"params\":${JSON.stringify(Array.from(node.uses.params))}`);\n  }\n  if (node.uses?.parent)\n    uses.push('\"parent\":1');\n  if (node.uses?.route)\n    uses.push('\"route\":1');\n  if (node.uses?.url)\n    uses.push('\"url\":1');\n  return `\"uses\":{${uses.join(\",\")}}`;\n}\nasync function render_endpoint(event, mod, state) {\n  const method = (\n    /** @type {import('types').HttpMethod} */\n    event.request.method\n  );\n  let handler = mod[method] || mod.fallback;\n  if (method === \"HEAD\" && mod.GET && !mod.HEAD) {\n    handler = mod.GET;\n  }\n  if (!handler) {\n    return method_not_allowed(mod, method);\n  }\n  const prerender = mod.prerender ?? state.prerender_default;\n  if (prerender && (mod.POST || mod.PATCH || mod.PUT || mod.DELETE)) {\n    throw new Error(\"Cannot prerender endpoints that have mutative methods\");\n  }\n  if (state.prerendering && !prerender) {\n    if (state.depth > 0) {\n      throw new Error(`${event.route.id} is not prerenderable`);\n    } else {\n      return new Response(void 0, { status: 204 });\n    }\n  }\n  try {\n    let response = await handler(\n      /** @type {import('@sveltejs/kit').RequestEvent<Record<string, any>>} */\n      event\n    );\n    if (!(response instanceof Response)) {\n      throw new Error(\n        `Invalid response from route ${event.url.pathname}: handler should return a Response object`\n      );\n    }\n    if (state.prerendering) {\n      response = new Response(response.body, {\n        status: response.status,\n        statusText: response.statusText,\n        headers: new Headers(response.headers)\n      });\n      response.headers.set(\"x-sveltekit-prerender\", String(prerender));\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return new Response(void 0, {\n        status: e.status,\n        headers: { location: e.location }\n      });\n    }\n    throw e;\n  }\n}\nfunction is_endpoint_request(event) {\n  const { method, headers: headers2 } = event.request;\n  if (ENDPOINT_METHODS.includes(method) && !PAGE_METHODS.includes(method)) {\n    return true;\n  }\n  if (method === \"POST\" && headers2.get(\"x-sveltekit-action\") === \"true\")\n    return false;\n  const accept = event.request.headers.get(\"accept\") ?? \"*/*\";\n  return negotiate(accept, [\"*\", \"text/html\"]) !== \"text/html\";\n}\nfunction compact(arr) {\n  return arr.filter(\n    /** @returns {val is NonNullable<T>} */\n    (val) => val != null\n  );\n}\nfunction is_action_json_request(event) {\n  const accept = negotiate(event.request.headers.get(\"accept\") ?? \"*/*\", [\n    \"application/json\",\n    \"text/html\"\n  ]);\n  return accept === \"application/json\" && event.request.method === \"POST\";\n}\nasync function handle_action_json_request(event, options2, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    const no_actions_error = new SvelteKitError(\n      405,\n      \"Method Not Allowed\",\n      \"POST method not allowed. No actions exist for this page\"\n    );\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, options2, no_actions_error)\n      },\n      {\n        status: no_actions_error.status,\n        headers: {\n          // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n          // \"The server must generate an Allow header field in a 405 status code response\"\n          allow: \"GET\"\n        }\n      }\n    );\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, actions);\n    if (false)\n      ;\n    if (data instanceof ActionFailure) {\n      return action_json({\n        type: \"failure\",\n        status: data.status,\n        // @ts-expect-error we assign a string to what is supposed to be an object. That's ok\n        // because we don't use the object outside, and this way we have better code navigation\n        // through knowing where the related interface is used.\n        data: stringify_action_response(\n          data.data,\n          /** @type {string} */\n          event.route.id\n        )\n      });\n    } else {\n      return action_json({\n        type: \"success\",\n        status: data ? 200 : 204,\n        // @ts-expect-error see comment above\n        data: stringify_action_response(\n          data,\n          /** @type {string} */\n          event.route.id\n        )\n      });\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return action_json_redirect(err);\n    }\n    return action_json(\n      {\n        type: \"error\",\n        error: await handle_error_and_jsonify(event, options2, check_incorrect_fail_use(err))\n      },\n      {\n        status: get_status(err)\n      }\n    );\n  }\n}\nfunction check_incorrect_fail_use(error) {\n  return error instanceof ActionFailure ? new Error('Cannot \"throw fail()\". Use \"return fail()\"') : error;\n}\nfunction action_json_redirect(redirect) {\n  return action_json({\n    type: \"redirect\",\n    status: redirect.status,\n    location: redirect.location\n  });\n}\nfunction action_json(data, init2) {\n  return json(data, init2);\n}\nfunction is_action_request(event) {\n  return event.request.method === \"POST\";\n}\nasync function handle_action_request(event, server) {\n  const actions = server?.actions;\n  if (!actions) {\n    event.setHeaders({\n      // https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/405\n      // \"The server must generate an Allow header field in a 405 status code response\"\n      allow: \"GET\"\n    });\n    return {\n      type: \"error\",\n      error: new SvelteKitError(\n        405,\n        \"Method Not Allowed\",\n        \"POST method not allowed. No actions exist for this page\"\n      )\n    };\n  }\n  check_named_default_separate(actions);\n  try {\n    const data = await call_action(event, actions);\n    if (false)\n      ;\n    if (data instanceof ActionFailure) {\n      return {\n        type: \"failure\",\n        status: data.status,\n        data: data.data\n      };\n    } else {\n      return {\n        type: \"success\",\n        status: 200,\n        // @ts-expect-error this will be removed upon serialization, so `undefined` is the same as omission\n        data\n      };\n    }\n  } catch (e) {\n    const err = normalize_error(e);\n    if (err instanceof Redirect) {\n      return {\n        type: \"redirect\",\n        status: err.status,\n        location: err.location\n      };\n    }\n    return {\n      type: \"error\",\n      error: check_incorrect_fail_use(err)\n    };\n  }\n}\nfunction check_named_default_separate(actions) {\n  if (actions.default && Object.keys(actions).length > 1) {\n    throw new Error(\n      \"When using named actions, the default action cannot be used. See the docs for more info: https://kit.svelte.dev/docs/form-actions#named-actions\"\n    );\n  }\n}\nasync function call_action(event, actions) {\n  const url = new URL(event.request.url);\n  let name = \"default\";\n  for (const param of url.searchParams) {\n    if (param[0].startsWith(\"/\")) {\n      name = param[0].slice(1);\n      if (name === \"default\") {\n        throw new Error('Cannot use reserved action name \"default\"');\n      }\n      break;\n    }\n  }\n  const action = actions[name];\n  if (!action) {\n    throw new SvelteKitError(404, \"Not Found\", `No action with name '${name}' found`);\n  }\n  if (!is_form_content_type(event.request)) {\n    throw new SvelteKitError(\n      415,\n      \"Unsupported Media Type\",\n      `Form actions expect form-encoded data \u2014 received ${event.request.headers.get(\n        \"content-type\"\n      )}`\n    );\n  }\n  return action(event);\n}\nfunction validate_action_return(data) {\n  if (data instanceof Redirect) {\n    throw new Error(\"Cannot `return redirect(...)` \u2014 use `redirect(...)` instead\");\n  }\n  if (data instanceof HttpError) {\n    throw new Error(\"Cannot `return error(...)` \u2014 use `error(...)` or `return fail(...)` instead\");\n  }\n}\nfunction uneval_action_response(data, route_id) {\n  return try_deserialize(data, devalue.uneval, route_id);\n}\nfunction stringify_action_response(data, route_id) {\n  return try_deserialize(data, devalue.stringify, route_id);\n}\nfunction try_deserialize(data, fn, route_id) {\n  try {\n    return fn(data);\n  } catch (e) {\n    const error = (\n      /** @type {any} */\n      e\n    );\n    if (\"path\" in error) {\n      let message = `Data returned from action inside ${route_id} is not serializable: ${error.message}`;\n      if (error.path !== \"\")\n        message += ` (data.${error.path})`;\n      throw new Error(message);\n    }\n    throw error;\n  }\n}\nconst INVALIDATED_PARAM = \"x-sveltekit-invalidated\";\nconst TRAILING_SLASH_PARAM = \"x-sveltekit-trailing-slash\";\nfunction b64_encode(buffer) {\n  if (globalThis.Buffer) {\n    return Buffer.from(buffer).toString(\"base64\");\n  }\n  const little_endian = new Uint8Array(new Uint16Array([1]).buffer)[0] > 0;\n  return btoa(\n    new TextDecoder(little_endian ? \"utf-16le\" : \"utf-16be\").decode(\n      new Uint16Array(new Uint8Array(buffer))\n    )\n  );\n}\nasync function load_server_data({ event, state, node, parent }) {\n  if (!node?.server)\n    return null;\n  let is_tracking = true;\n  const uses = {\n    dependencies: /* @__PURE__ */ new Set(),\n    params: /* @__PURE__ */ new Set(),\n    parent: false,\n    route: false,\n    url: false,\n    search_params: /* @__PURE__ */ new Set()\n  };\n  const url = make_trackable(\n    event.url,\n    () => {\n      if (is_tracking) {\n        uses.url = true;\n      }\n    },\n    (param) => {\n      if (is_tracking) {\n        uses.search_params.add(param);\n      }\n    }\n  );\n  if (state.prerendering) {\n    disable_search(url);\n  }\n  const result = await node.server.load?.call(null, {\n    ...event,\n    fetch: (info, init2) => {\n      new URL(info instanceof Request ? info.url : info, event.url);\n      return event.fetch(info, init2);\n    },\n    /** @param {string[]} deps */\n    depends: (...deps) => {\n      for (const dep of deps) {\n        const { href } = new URL(dep, event.url);\n        uses.dependencies.add(href);\n      }\n    },\n    params: new Proxy(event.params, {\n      get: (target, key2) => {\n        if (is_tracking) {\n          uses.params.add(key2);\n        }\n        return target[\n          /** @type {string} */\n          key2\n        ];\n      }\n    }),\n    parent: async () => {\n      if (is_tracking) {\n        uses.parent = true;\n      }\n      return parent();\n    },\n    route: new Proxy(event.route, {\n      get: (target, key2) => {\n        if (is_tracking) {\n          uses.route = true;\n        }\n        return target[\n          /** @type {'id'} */\n          key2\n        ];\n      }\n    }),\n    url,\n    untrack(fn) {\n      is_tracking = false;\n      try {\n        return fn();\n      } finally {\n        is_tracking = true;\n      }\n    }\n  });\n  return {\n    type: \"data\",\n    data: result ?? null,\n    uses,\n    slash: node.server.trailingSlash\n  };\n}\nasync function load_data({\n  event,\n  fetched,\n  node,\n  parent,\n  server_data_promise,\n  state,\n  resolve_opts,\n  csr\n}) {\n  const server_data_node = await server_data_promise;\n  if (!node?.universal?.load) {\n    return server_data_node?.data ?? null;\n  }\n  const result = await node.universal.load.call(null, {\n    url: event.url,\n    params: event.params,\n    data: server_data_node?.data ?? null,\n    route: event.route,\n    fetch: create_universal_fetch(event, state, fetched, csr, resolve_opts),\n    setHeaders: event.setHeaders,\n    depends: () => {\n    },\n    parent,\n    untrack: (fn) => fn()\n  });\n  return result ?? null;\n}\nfunction create_universal_fetch(event, state, fetched, csr, resolve_opts) {\n  const universal_fetch = async (input, init2) => {\n    const cloned_body = input instanceof Request && input.body ? input.clone().body : null;\n    const cloned_headers = input instanceof Request && [...input.headers].length ? new Headers(input.headers) : init2?.headers;\n    let response = await event.fetch(input, init2);\n    const url = new URL(input instanceof Request ? input.url : input, event.url);\n    const same_origin = url.origin === event.url.origin;\n    let dependency;\n    if (same_origin) {\n      if (state.prerendering) {\n        dependency = { response, body: null };\n        state.prerendering.dependencies.set(url.pathname, dependency);\n      }\n    } else {\n      const mode = input instanceof Request ? input.mode : init2?.mode ?? \"cors\";\n      if (mode === \"no-cors\") {\n        response = new Response(\"\", {\n          status: response.status,\n          statusText: response.statusText,\n          headers: response.headers\n        });\n      } else {\n        const acao = response.headers.get(\"access-control-allow-origin\");\n        if (!acao || acao !== event.url.origin && acao !== \"*\") {\n          throw new Error(\n            `CORS error: ${acao ? \"Incorrect\" : \"No\"} 'Access-Control-Allow-Origin' header is present on the requested resource`\n          );\n        }\n      }\n    }\n    const proxy = new Proxy(response, {\n      get(response2, key2, _receiver) {\n        async function push_fetched(body2, is_b64) {\n          const status_number = Number(response2.status);\n          if (isNaN(status_number)) {\n            throw new Error(\n              `response.status is not a number. value: \"${response2.status}\" type: ${typeof response2.status}`\n            );\n          }\n          fetched.push({\n            url: same_origin ? url.href.slice(event.url.origin.length) : url.href,\n            method: event.request.method,\n            request_body: (\n              /** @type {string | ArrayBufferView | undefined} */\n              input instanceof Request && cloned_body ? await stream_to_string(cloned_body) : init2?.body\n            ),\n            request_headers: cloned_headers,\n            response_body: body2,\n            response: response2,\n            is_b64\n          });\n        }\n        if (key2 === \"arrayBuffer\") {\n          return async () => {\n            const buffer = await response2.arrayBuffer();\n            if (dependency) {\n              dependency.body = new Uint8Array(buffer);\n            }\n            if (buffer instanceof ArrayBuffer) {\n              await push_fetched(b64_encode(buffer), true);\n            }\n            return buffer;\n          };\n        }\n        async function text2() {\n          const body2 = await response2.text();\n          if (!body2 || typeof body2 === \"string\") {\n            await push_fetched(body2, false);\n          }\n          if (dependency) {\n            dependency.body = body2;\n          }\n          return body2;\n        }\n        if (key2 === \"text\") {\n          return text2;\n        }\n        if (key2 === \"json\") {\n          return async () => {\n            return JSON.parse(await text2());\n          };\n        }\n        return Reflect.get(response2, key2, response2);\n      }\n    });\n    if (csr) {\n      const get = response.headers.get;\n      response.headers.get = (key2) => {\n        const lower = key2.toLowerCase();\n        const value = get.call(response.headers, lower);\n        if (value && !lower.startsWith(\"x-sveltekit-\")) {\n          const included = resolve_opts.filterSerializedResponseHeaders(lower, value);\n          if (!included) {\n            throw new Error(\n              `Failed to get response header \"${lower}\" \u2014 it must be included by the \\`filterSerializedResponseHeaders\\` option: https://kit.svelte.dev/docs/hooks#server-hooks-handle (at ${event.route.id})`\n            );\n          }\n        }\n        return value;\n      };\n    }\n    return proxy;\n  };\n  return (input, init2) => {\n    const response = universal_fetch(input, init2);\n    response.catch(() => {\n    });\n    return response;\n  };\n}\nasync function stream_to_string(stream) {\n  let result = \"\";\n  const reader = stream.getReader();\n  const decoder = new TextDecoder();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    result += decoder.decode(value);\n  }\n  return result;\n}\nfunction hash(...values) {\n  let hash2 = 5381;\n  for (const value of values) {\n    if (typeof value === \"string\") {\n      let i = value.length;\n      while (i)\n        hash2 = hash2 * 33 ^ value.charCodeAt(--i);\n    } else if (ArrayBuffer.isView(value)) {\n      const buffer = new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n      let i = buffer.length;\n      while (i)\n        hash2 = hash2 * 33 ^ buffer[--i];\n    } else {\n      throw new TypeError(\"value must be a string or TypedArray\");\n    }\n  }\n  return (hash2 >>> 0).toString(36);\n}\nconst escape_html_attr_dict = {\n  \"&\": \"&amp;\",\n  '\"': \"&quot;\"\n};\nconst escape_html_attr_regex = new RegExp(\n  // special characters\n  `[${Object.keys(escape_html_attr_dict).join(\"\")}]|[\\\\ud800-\\\\udbff](?![\\\\udc00-\\\\udfff])|[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]|[\\\\udc00-\\\\udfff]`,\n  \"g\"\n);\nfunction escape_html_attr(str) {\n  const escaped_str = str.replace(escape_html_attr_regex, (match) => {\n    if (match.length === 2) {\n      return match;\n    }\n    return escape_html_attr_dict[match] ?? `&#${match.charCodeAt(0)};`;\n  });\n  return `\"${escaped_str}\"`;\n}\nconst replacements = {\n  \"<\": \"\\\\u003C\",\n  \"\\u2028\": \"\\\\u2028\",\n  \"\\u2029\": \"\\\\u2029\"\n};\nconst pattern = new RegExp(`[${Object.keys(replacements).join(\"\")}]`, \"g\");\nfunction serialize_data(fetched, filter, prerendering2 = false) {\n  const headers2 = {};\n  let cache_control = null;\n  let age = null;\n  let varyAny = false;\n  for (const [key2, value] of fetched.response.headers) {\n    if (filter(key2, value)) {\n      headers2[key2] = value;\n    }\n    if (key2 === \"cache-control\")\n      cache_control = value;\n    else if (key2 === \"age\")\n      age = value;\n    else if (key2 === \"vary\" && value.trim() === \"*\")\n      varyAny = true;\n  }\n  const payload = {\n    status: fetched.response.status,\n    statusText: fetched.response.statusText,\n    headers: headers2,\n    body: fetched.response_body\n  };\n  const safe_payload = JSON.stringify(payload).replace(pattern, (match) => replacements[match]);\n  const attrs = [\n    'type=\"application/json\"',\n    \"data-sveltekit-fetched\",\n    `data-url=${escape_html_attr(fetched.url)}`\n  ];\n  if (fetched.is_b64) {\n    attrs.push(\"data-b64\");\n  }\n  if (fetched.request_headers || fetched.request_body) {\n    const values = [];\n    if (fetched.request_headers) {\n      values.push([...new Headers(fetched.request_headers)].join(\",\"));\n    }\n    if (fetched.request_body) {\n      values.push(fetched.request_body);\n    }\n    attrs.push(`data-hash=\"${hash(...values)}\"`);\n  }\n  if (!prerendering2 && fetched.method === \"GET\" && cache_control && !varyAny) {\n    const match = /s-maxage=(\\d+)/g.exec(cache_control) ?? /max-age=(\\d+)/g.exec(cache_control);\n    if (match) {\n      const ttl = +match[1] - +(age ?? \"0\");\n      attrs.push(`data-ttl=\"${ttl}\"`);\n    }\n  }\n  return `<script ${attrs.join(\" \")}>${safe_payload}<\\/script>`;\n}\nconst s = JSON.stringify;\nconst encoder$2 = new TextEncoder();\nfunction sha256(data) {\n  if (!key[0])\n    precompute();\n  const out = init.slice(0);\n  const array2 = encode(data);\n  for (let i = 0; i < array2.length; i += 16) {\n    const w = array2.subarray(i, i + 16);\n    let tmp;\n    let a;\n    let b;\n    let out0 = out[0];\n    let out1 = out[1];\n    let out2 = out[2];\n    let out3 = out[3];\n    let out4 = out[4];\n    let out5 = out[5];\n    let out6 = out[6];\n    let out7 = out[7];\n    for (let i2 = 0; i2 < 64; i2++) {\n      if (i2 < 16) {\n        tmp = w[i2];\n      } else {\n        a = w[i2 + 1 & 15];\n        b = w[i2 + 14 & 15];\n        tmp = w[i2 & 15] = (a >>> 7 ^ a >>> 18 ^ a >>> 3 ^ a << 25 ^ a << 14) + (b >>> 17 ^ b >>> 19 ^ b >>> 10 ^ b << 15 ^ b << 13) + w[i2 & 15] + w[i2 + 9 & 15] | 0;\n      }\n      tmp = tmp + out7 + (out4 >>> 6 ^ out4 >>> 11 ^ out4 >>> 25 ^ out4 << 26 ^ out4 << 21 ^ out4 << 7) + (out6 ^ out4 & (out5 ^ out6)) + key[i2];\n      out7 = out6;\n      out6 = out5;\n      out5 = out4;\n      out4 = out3 + tmp | 0;\n      out3 = out2;\n      out2 = out1;\n      out1 = out0;\n      out0 = tmp + (out1 & out2 ^ out3 & (out1 ^ out2)) + (out1 >>> 2 ^ out1 >>> 13 ^ out1 >>> 22 ^ out1 << 30 ^ out1 << 19 ^ out1 << 10) | 0;\n    }\n    out[0] = out[0] + out0 | 0;\n    out[1] = out[1] + out1 | 0;\n    out[2] = out[2] + out2 | 0;\n    out[3] = out[3] + out3 | 0;\n    out[4] = out[4] + out4 | 0;\n    out[5] = out[5] + out5 | 0;\n    out[6] = out[6] + out6 | 0;\n    out[7] = out[7] + out7 | 0;\n  }\n  const bytes = new Uint8Array(out.buffer);\n  reverse_endianness(bytes);\n  return base64(bytes);\n}\nconst init = new Uint32Array(8);\nconst key = new Uint32Array(64);\nfunction precompute() {\n  function frac(x) {\n    return (x - Math.floor(x)) * 4294967296;\n  }\n  let prime = 2;\n  for (let i = 0; i < 64; prime++) {\n    let is_prime = true;\n    for (let factor = 2; factor * factor <= prime; factor++) {\n      if (prime % factor === 0) {\n        is_prime = false;\n        break;\n      }\n    }\n    if (is_prime) {\n      if (i < 8) {\n        init[i] = frac(prime ** (1 / 2));\n      }\n      key[i] = frac(prime ** (1 / 3));\n      i++;\n    }\n  }\n}\nfunction reverse_endianness(bytes) {\n  for (let i = 0; i < bytes.length; i += 4) {\n    const a = bytes[i + 0];\n    const b = bytes[i + 1];\n    const c = bytes[i + 2];\n    const d = bytes[i + 3];\n    bytes[i + 0] = d;\n    bytes[i + 1] = c;\n    bytes[i + 2] = b;\n    bytes[i + 3] = a;\n  }\n}\nfunction encode(str) {\n  const encoded = encoder$2.encode(str);\n  const length = encoded.length * 8;\n  const size = 512 * Math.ceil((length + 65) / 512);\n  const bytes = new Uint8Array(size / 8);\n  bytes.set(encoded);\n  bytes[encoded.length] = 128;\n  reverse_endianness(bytes);\n  const words = new Uint32Array(bytes.buffer);\n  words[words.length - 2] = Math.floor(length / 4294967296);\n  words[words.length - 1] = length;\n  return words;\n}\nconst chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");\nfunction base64(bytes) {\n  const l = bytes.length;\n  let result = \"\";\n  let i;\n  for (i = 2; i < l; i += 3) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4 | bytes[i - 1] >> 4];\n    result += chars[(bytes[i - 1] & 15) << 2 | bytes[i] >> 6];\n    result += chars[bytes[i] & 63];\n  }\n  if (i === l + 1) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4];\n    result += \"==\";\n  }\n  if (i === l) {\n    result += chars[bytes[i - 2] >> 2];\n    result += chars[(bytes[i - 2] & 3) << 4 | bytes[i - 1] >> 4];\n    result += chars[(bytes[i - 1] & 15) << 2];\n    result += \"=\";\n  }\n  return result;\n}\nconst array = new Uint8Array(16);\nfunction generate_nonce() {\n  crypto.getRandomValues(array);\n  return base64(array);\n}\nconst quoted = /* @__PURE__ */ new Set([\n  \"self\",\n  \"unsafe-eval\",\n  \"unsafe-hashes\",\n  \"unsafe-inline\",\n  \"none\",\n  \"strict-dynamic\",\n  \"report-sample\",\n  \"wasm-unsafe-eval\",\n  \"script\"\n]);\nconst crypto_pattern = /^(nonce|sha\\d\\d\\d)-/;\nclass BaseProvider {\n  /** @type {boolean} */\n  #use_hashes;\n  /** @type {boolean} */\n  #script_needs_csp;\n  /** @type {boolean} */\n  #style_needs_csp;\n  /** @type {import('types').CspDirectives} */\n  #directives;\n  /** @type {import('types').Csp.Source[]} */\n  #script_src;\n  /** @type {import('types').Csp.Source[]} */\n  #script_src_elem;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src_attr;\n  /** @type {import('types').Csp.Source[]} */\n  #style_src_elem;\n  /** @type {string} */\n  #nonce;\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    this.#use_hashes = use_hashes;\n    this.#directives = directives;\n    const d = this.#directives;\n    this.#script_src = [];\n    this.#script_src_elem = [];\n    this.#style_src = [];\n    this.#style_src_attr = [];\n    this.#style_src_elem = [];\n    const effective_script_src = d[\"script-src\"] || d[\"default-src\"];\n    const script_src_elem = d[\"script-src-elem\"];\n    const effective_style_src = d[\"style-src\"] || d[\"default-src\"];\n    const style_src_attr = d[\"style-src-attr\"];\n    const style_src_elem = d[\"style-src-elem\"];\n    this.#script_needs_csp = !!effective_script_src && effective_script_src.filter((value) => value !== \"unsafe-inline\").length > 0 || !!script_src_elem && script_src_elem.filter((value) => value !== \"unsafe-inline\").length > 0;\n    this.#style_needs_csp = !!effective_style_src && effective_style_src.filter((value) => value !== \"unsafe-inline\").length > 0 || !!style_src_attr && style_src_attr.filter((value) => value !== \"unsafe-inline\").length > 0 || !!style_src_elem && style_src_elem.filter((value) => value !== \"unsafe-inline\").length > 0;\n    this.script_needs_nonce = this.#script_needs_csp && !this.#use_hashes;\n    this.style_needs_nonce = this.#style_needs_csp && !this.#use_hashes;\n    this.#nonce = nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    if (this.#script_needs_csp) {\n      const d = this.#directives;\n      if (this.#use_hashes) {\n        const hash2 = sha256(content);\n        this.#script_src.push(`sha256-${hash2}`);\n        if (d[\"script-src-elem\"]?.length) {\n          this.#script_src_elem.push(`sha256-${hash2}`);\n        }\n      } else {\n        if (this.#script_src.length === 0) {\n          this.#script_src.push(`nonce-${this.#nonce}`);\n        }\n        if (d[\"script-src-elem\"]?.length) {\n          this.#script_src_elem.push(`nonce-${this.#nonce}`);\n        }\n      }\n    }\n  }\n  /** @param {string} content */\n  add_style(content) {\n    if (this.#style_needs_csp) {\n      const empty_comment_hash = \"9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=\";\n      const d = this.#directives;\n      if (this.#use_hashes) {\n        const hash2 = sha256(content);\n        this.#style_src.push(`sha256-${hash2}`);\n        if (d[\"style-src-attr\"]?.length) {\n          this.#style_src_attr.push(`sha256-${hash2}`);\n        }\n        if (d[\"style-src-elem\"]?.length) {\n          if (hash2 !== empty_comment_hash && !d[\"style-src-elem\"].includes(`sha256-${empty_comment_hash}`)) {\n            this.#style_src_elem.push(`sha256-${empty_comment_hash}`);\n          }\n          this.#style_src_elem.push(`sha256-${hash2}`);\n        }\n      } else {\n        if (this.#style_src.length === 0 && !d[\"style-src\"]?.includes(\"unsafe-inline\")) {\n          this.#style_src.push(`nonce-${this.#nonce}`);\n        }\n        if (d[\"style-src-attr\"]?.length) {\n          this.#style_src_attr.push(`nonce-${this.#nonce}`);\n        }\n        if (d[\"style-src-elem\"]?.length) {\n          if (!d[\"style-src-elem\"].includes(`sha256-${empty_comment_hash}`)) {\n            this.#style_src_elem.push(`sha256-${empty_comment_hash}`);\n          }\n          this.#style_src_elem.push(`nonce-${this.#nonce}`);\n        }\n      }\n    }\n  }\n  /**\n   * @param {boolean} [is_meta]\n   */\n  get_header(is_meta = false) {\n    const header = [];\n    const directives = { ...this.#directives };\n    if (this.#style_src.length > 0) {\n      directives[\"style-src\"] = [\n        ...directives[\"style-src\"] || directives[\"default-src\"] || [],\n        ...this.#style_src\n      ];\n    }\n    if (this.#style_src_attr.length > 0) {\n      directives[\"style-src-attr\"] = [\n        ...directives[\"style-src-attr\"] || [],\n        ...this.#style_src_attr\n      ];\n    }\n    if (this.#style_src_elem.length > 0) {\n      directives[\"style-src-elem\"] = [\n        ...directives[\"style-src-elem\"] || [],\n        ...this.#style_src_elem\n      ];\n    }\n    if (this.#script_src.length > 0) {\n      directives[\"script-src\"] = [\n        ...directives[\"script-src\"] || directives[\"default-src\"] || [],\n        ...this.#script_src\n      ];\n    }\n    if (this.#script_src_elem.length > 0) {\n      directives[\"script-src-elem\"] = [\n        ...directives[\"script-src-elem\"] || [],\n        ...this.#script_src_elem\n      ];\n    }\n    for (const key2 in directives) {\n      if (is_meta && (key2 === \"frame-ancestors\" || key2 === \"report-uri\" || key2 === \"sandbox\")) {\n        continue;\n      }\n      const value = (\n        /** @type {string[] | true} */\n        directives[key2]\n      );\n      if (!value)\n        continue;\n      const directive = [key2];\n      if (Array.isArray(value)) {\n        value.forEach((value2) => {\n          if (quoted.has(value2) || crypto_pattern.test(value2)) {\n            directive.push(`'${value2}'`);\n          } else {\n            directive.push(value2);\n          }\n        });\n      }\n      header.push(directive.join(\" \"));\n    }\n    return header.join(\"; \");\n  }\n}\nclass CspProvider extends BaseProvider {\n  get_meta() {\n    const content = this.get_header(true);\n    if (!content) {\n      return;\n    }\n    return `<meta http-equiv=\"content-security-policy\" content=${escape_html_attr(content)}>`;\n  }\n}\nclass CspReportOnlyProvider extends BaseProvider {\n  /**\n   * @param {boolean} use_hashes\n   * @param {import('types').CspDirectives} directives\n   * @param {string} nonce\n   */\n  constructor(use_hashes, directives, nonce) {\n    super(use_hashes, directives, nonce);\n    if (Object.values(directives).filter((v) => !!v).length > 0) {\n      const has_report_to = directives[\"report-to\"]?.length ?? 0 > 0;\n      const has_report_uri = directives[\"report-uri\"]?.length ?? 0 > 0;\n      if (!has_report_to && !has_report_uri) {\n        throw Error(\n          \"`content-security-policy-report-only` must be specified with either the `report-to` or `report-uri` directives, or both\"\n        );\n      }\n    }\n  }\n}\nclass Csp {\n  /** @readonly */\n  nonce = generate_nonce();\n  /** @type {CspProvider} */\n  csp_provider;\n  /** @type {CspReportOnlyProvider} */\n  report_only_provider;\n  /**\n   * @param {import('./types.js').CspConfig} config\n   * @param {import('./types.js').CspOpts} opts\n   */\n  constructor({ mode, directives, reportOnly }, { prerender }) {\n    const use_hashes = mode === \"hash\" || mode === \"auto\" && prerender;\n    this.csp_provider = new CspProvider(use_hashes, directives, this.nonce);\n    this.report_only_provider = new CspReportOnlyProvider(use_hashes, reportOnly, this.nonce);\n  }\n  get script_needs_nonce() {\n    return this.csp_provider.script_needs_nonce || this.report_only_provider.script_needs_nonce;\n  }\n  get style_needs_nonce() {\n    return this.csp_provider.style_needs_nonce || this.report_only_provider.style_needs_nonce;\n  }\n  /** @param {string} content */\n  add_script(content) {\n    this.csp_provider.add_script(content);\n    this.report_only_provider.add_script(content);\n  }\n  /** @param {string} content */\n  add_style(content) {\n    this.csp_provider.add_style(content);\n    this.report_only_provider.add_style(content);\n  }\n}\nfunction defer() {\n  let fulfil;\n  let reject;\n  const promise = new Promise((f, r) => {\n    fulfil = f;\n    reject = r;\n  });\n  return { promise, fulfil, reject };\n}\nfunction create_async_iterator() {\n  const deferred = [defer()];\n  return {\n    iterator: {\n      [Symbol.asyncIterator]() {\n        return {\n          next: async () => {\n            const next = await deferred[0].promise;\n            if (!next.done)\n              deferred.shift();\n            return next;\n          }\n        };\n      }\n    },\n    push: (value) => {\n      deferred[deferred.length - 1].fulfil({\n        value,\n        done: false\n      });\n      deferred.push(defer());\n    },\n    done: () => {\n      deferred[deferred.length - 1].fulfil({ done: true });\n    }\n  };\n}\nconst updated = {\n  ...readable(false),\n  check: () => false\n};\nconst encoder$1 = new TextEncoder();\nasync function render_response({\n  branch,\n  fetched,\n  options: options2,\n  manifest,\n  state,\n  page_config,\n  status,\n  error = null,\n  event,\n  resolve_opts,\n  action_result\n}) {\n  if (state.prerendering) {\n    if (options2.csp.mode === \"nonce\") {\n      throw new Error('Cannot use prerendering if config.kit.csp.mode === \"nonce\"');\n    }\n    if (options2.app_template_contains_nonce) {\n      throw new Error(\"Cannot use prerendering if page template contains %sveltekit.nonce%\");\n    }\n  }\n  const { client } = manifest._;\n  const modulepreloads = new Set(client.imports);\n  const stylesheets = new Set(client.stylesheets);\n  const fonts = new Set(client.fonts);\n  const link_header_preloads = /* @__PURE__ */ new Set();\n  const inline_styles = /* @__PURE__ */ new Map();\n  let rendered;\n  const form_value = action_result?.type === \"success\" || action_result?.type === \"failure\" ? action_result.data ?? null : null;\n  let base$1 = base;\n  let assets$1 = assets;\n  let base_expression = s(base);\n  if (!state.prerendering?.fallback) {\n    const segments = event.url.pathname.slice(base.length).split(\"/\").slice(2);\n    base$1 = segments.map(() => \"..\").join(\"/\") || \".\";\n    base_expression = `new URL(${s(base$1)}, location).pathname.slice(0, -1)`;\n    if (!assets || assets[0] === \"/\" && assets !== SVELTE_KIT_ASSETS) {\n      assets$1 = base$1;\n    }\n  }\n  if (page_config.ssr) {\n    const props = {\n      stores: {\n        page: writable(null),\n        navigating: writable(null),\n        updated\n      },\n      constructors: await Promise.all(branch.map(({ node }) => node.component())),\n      form: form_value\n    };\n    let data2 = {};\n    for (let i = 0; i < branch.length; i += 1) {\n      data2 = { ...data2, ...branch[i].data };\n      props[`data_${i}`] = data2;\n    }\n    props.page = {\n      error,\n      params: (\n        /** @type {Record<string, any>} */\n        event.params\n      ),\n      route: event.route,\n      status,\n      url: event.url,\n      data: data2,\n      form: form_value,\n      state: {}\n    };\n    override({ base: base$1, assets: assets$1 });\n    {\n      try {\n        rendered = options2.root.render(props);\n      } finally {\n        reset();\n      }\n    }\n    for (const { node } of branch) {\n      for (const url of node.imports)\n        modulepreloads.add(url);\n      for (const url of node.stylesheets)\n        stylesheets.add(url);\n      for (const url of node.fonts)\n        fonts.add(url);\n      if (node.inline_styles) {\n        Object.entries(await node.inline_styles()).forEach(([k, v]) => inline_styles.set(k, v));\n      }\n    }\n  } else {\n    rendered = { head: \"\", html: \"\", css: { code: \"\", map: null } };\n  }\n  let head = \"\";\n  let body2 = rendered.html;\n  const csp = new Csp(options2.csp, {\n    prerender: !!state.prerendering\n  });\n  const prefixed = (path) => {\n    if (path.startsWith(\"/\")) {\n      return base + path;\n    }\n    return `${assets$1}/${path}`;\n  };\n  if (inline_styles.size > 0) {\n    const content = Array.from(inline_styles.values()).join(\"\\n\");\n    const attributes = [];\n    if (csp.style_needs_nonce)\n      attributes.push(` nonce=\"${csp.nonce}\"`);\n    csp.add_style(content);\n    head += `\n\t<style${attributes.join(\"\")}>${content}</style>`;\n  }\n  for (const dep of stylesheets) {\n    const path = prefixed(dep);\n    const attributes = ['rel=\"stylesheet\"'];\n    if (inline_styles.has(dep)) {\n      attributes.push(\"disabled\", 'media=\"(max-width: 0)\"');\n    } else {\n      if (resolve_opts.preload({ type: \"css\", path })) {\n        const preload_atts = ['rel=\"preload\"', 'as=\"style\"'];\n        link_header_preloads.add(`<${encodeURI(path)}>; ${preload_atts.join(\";\")}; nopush`);\n      }\n    }\n    head += `\n\t\t<link href=\"${path}\" ${attributes.join(\" \")}>`;\n  }\n  for (const dep of fonts) {\n    const path = prefixed(dep);\n    if (resolve_opts.preload({ type: \"font\", path })) {\n      const ext = dep.slice(dep.lastIndexOf(\".\") + 1);\n      const attributes = [\n        'rel=\"preload\"',\n        'as=\"font\"',\n        `type=\"font/${ext}\"`,\n        `href=\"${path}\"`,\n        \"crossorigin\"\n      ];\n      head += `\n\t\t<link ${attributes.join(\" \")}>`;\n    }\n  }\n  const global = `__sveltekit_${options2.version_hash}`;\n  const { data, chunks } = get_data(\n    event,\n    options2,\n    branch.map((b) => b.server_data),\n    global\n  );\n  if (page_config.ssr && page_config.csr) {\n    body2 += `\n\t\t\t${fetched.map(\n      (item) => serialize_data(item, resolve_opts.filterSerializedResponseHeaders, !!state.prerendering)\n    ).join(\"\\n\t\t\t\")}`;\n  }\n  if (page_config.csr) {\n    if (client.uses_env_dynamic_public && state.prerendering) {\n      modulepreloads.add(`${options2.app_dir}/env.js`);\n    }\n    const included_modulepreloads = Array.from(modulepreloads, (dep) => prefixed(dep)).filter(\n      (path) => resolve_opts.preload({ type: \"js\", path })\n    );\n    for (const path of included_modulepreloads) {\n      link_header_preloads.add(`<${encodeURI(path)}>; rel=\"modulepreload\"; nopush`);\n      if (options2.preload_strategy !== \"modulepreload\") {\n        head += `\n\t\t<link rel=\"preload\" as=\"script\" crossorigin=\"anonymous\" href=\"${path}\">`;\n      } else if (state.prerendering) {\n        head += `\n\t\t<link rel=\"modulepreload\" href=\"${path}\">`;\n      }\n    }\n    const blocks = [];\n    const load_env_eagerly = client.uses_env_dynamic_public && state.prerendering;\n    const properties = [`base: ${base_expression}`];\n    if (assets) {\n      properties.push(`assets: ${s(assets)}`);\n    }\n    if (client.uses_env_dynamic_public) {\n      properties.push(`env: ${load_env_eagerly ? \"null\" : s(public_env)}`);\n    }\n    if (chunks) {\n      blocks.push(\"const deferred = new Map();\");\n      properties.push(`defer: (id) => new Promise((fulfil, reject) => {\n\t\t\t\t\t\t\tdeferred.set(id, { fulfil, reject });\n\t\t\t\t\t\t})`);\n      properties.push(`resolve: ({ id, data, error }) => {\n\t\t\t\t\t\t\tconst { fulfil, reject } = deferred.get(id);\n\t\t\t\t\t\t\tdeferred.delete(id);\n\n\t\t\t\t\t\t\tif (error) reject(error);\n\t\t\t\t\t\t\telse fulfil(data);\n\t\t\t\t\t\t}`);\n    }\n    blocks.push(`${global} = {\n\t\t\t\t\t\t${properties.join(\",\\n\t\t\t\t\t\t\")}\n\t\t\t\t\t};`);\n    const args = [\"app\", \"element\"];\n    blocks.push(\"const element = document.currentScript.parentElement;\");\n    if (page_config.ssr) {\n      const serialized = { form: \"null\", error: \"null\" };\n      blocks.push(`const data = ${data};`);\n      if (form_value) {\n        serialized.form = uneval_action_response(\n          form_value,\n          /** @type {string} */\n          event.route.id\n        );\n      }\n      if (error) {\n        serialized.error = devalue.uneval(error);\n      }\n      const hydrate = [\n        `node_ids: [${branch.map(({ node }) => node.index).join(\", \")}]`,\n        \"data\",\n        `form: ${serialized.form}`,\n        `error: ${serialized.error}`\n      ];\n      if (status !== 200) {\n        hydrate.push(`status: ${status}`);\n      }\n      if (options2.embedded) {\n        hydrate.push(`params: ${devalue.uneval(event.params)}`, `route: ${s(event.route)}`);\n      }\n      const indent = \"\t\".repeat(load_env_eagerly ? 7 : 6);\n      args.push(`{\n${indent}\t${hydrate.join(`,\n${indent}\t`)}\n${indent}}`);\n    }\n    if (load_env_eagerly) {\n      blocks.push(`import(${s(`${base$1}/${options2.app_dir}/env.js`)}).then(({ env }) => {\n\t\t\t\t\t\t${global}.env = env;\n\n\t\t\t\t\t\tPromise.all([\n\t\t\t\t\t\t\timport(${s(prefixed(client.start))}),\n\t\t\t\t\t\t\timport(${s(prefixed(client.app))})\n\t\t\t\t\t\t]).then(([kit, app]) => {\n\t\t\t\t\t\t\tkit.start(${args.join(\", \")});\n\t\t\t\t\t\t});\n\t\t\t\t\t});`);\n    } else {\n      blocks.push(`Promise.all([\n\t\t\t\t\t\timport(${s(prefixed(client.start))}),\n\t\t\t\t\t\timport(${s(prefixed(client.app))})\n\t\t\t\t\t]).then(([kit, app]) => {\n\t\t\t\t\t\tkit.start(${args.join(\", \")});\n\t\t\t\t\t});`);\n    }\n    if (options2.service_worker) {\n      const opts = \"\";\n      blocks.push(`if ('serviceWorker' in navigator) {\n\t\t\t\t\t\taddEventListener('load', function () {\n\t\t\t\t\t\t\tnavigator.serviceWorker.register('${prefixed(\"service-worker.js\")}'${opts});\n\t\t\t\t\t\t});\n\t\t\t\t\t}`);\n    }\n    const init_app = `\n\t\t\t\t{\n\t\t\t\t\t${blocks.join(\"\\n\\n\t\t\t\t\t\")}\n\t\t\t\t}\n\t\t\t`;\n    csp.add_script(init_app);\n    body2 += `\n\t\t\t<script${csp.script_needs_nonce ? ` nonce=\"${csp.nonce}\"` : \"\"}>${init_app}<\\/script>\n\t\t`;\n  }\n  const headers2 = new Headers({\n    \"x-sveltekit-page\": \"true\",\n    \"content-type\": \"text/html\"\n  });\n  if (state.prerendering) {\n    const http_equiv = [];\n    const csp_headers = csp.csp_provider.get_meta();\n    if (csp_headers) {\n      http_equiv.push(csp_headers);\n    }\n    if (state.prerendering.cache) {\n      http_equiv.push(`<meta http-equiv=\"cache-control\" content=\"${state.prerendering.cache}\">`);\n    }\n    if (http_equiv.length > 0) {\n      head = http_equiv.join(\"\\n\") + head;\n    }\n  } else {\n    const csp_header = csp.csp_provider.get_header();\n    if (csp_header) {\n      headers2.set(\"content-security-policy\", csp_header);\n    }\n    const report_only_header = csp.report_only_provider.get_header();\n    if (report_only_header) {\n      headers2.set(\"content-security-policy-report-only\", report_only_header);\n    }\n    if (link_header_preloads.size) {\n      headers2.set(\"link\", Array.from(link_header_preloads).join(\", \"));\n    }\n  }\n  head += rendered.head;\n  const html = options2.templates.app({\n    head,\n    body: body2,\n    assets: assets$1,\n    nonce: (\n      /** @type {string} */\n      csp.nonce\n    ),\n    env: safe_public_env\n  });\n  const transformed = await resolve_opts.transformPageChunk({\n    html,\n    done: true\n  }) || \"\";\n  if (!chunks) {\n    headers2.set(\"etag\", `\"${hash(transformed)}\"`);\n  }\n  return !chunks ? text(transformed, {\n    status,\n    headers: headers2\n  }) : new Response(\n    new ReadableStream({\n      async start(controller) {\n        controller.enqueue(encoder$1.encode(transformed + \"\\n\"));\n        for await (const chunk of chunks) {\n          controller.enqueue(encoder$1.encode(chunk));\n        }\n        controller.close();\n      },\n      type: \"bytes\"\n    }),\n    {\n      headers: {\n        \"content-type\": \"text/html\"\n      }\n    }\n  );\n}\nfunction get_data(event, options2, nodes, global) {\n  let promise_id = 1;\n  let count = 0;\n  const { iterator, push, done } = create_async_iterator();\n  function replacer(thing) {\n    if (typeof thing?.then === \"function\") {\n      const id = promise_id++;\n      count += 1;\n      thing.then(\n        /** @param {any} data */\n        (data) => ({ data })\n      ).catch(\n        /** @param {any} error */\n        async (error) => ({\n          error: await handle_error_and_jsonify(event, options2, error)\n        })\n      ).then(\n        /**\n         * @param {{data: any; error: any}} result\n         */\n        async ({ data, error }) => {\n          count -= 1;\n          let str;\n          try {\n            str = devalue.uneval({ id, data, error }, replacer);\n          } catch (e) {\n            error = await handle_error_and_jsonify(\n              event,\n              options2,\n              new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n            );\n            data = void 0;\n            str = devalue.uneval({ id, data, error }, replacer);\n          }\n          push(`<script>${global}.resolve(${str})<\\/script>\n`);\n          if (count === 0)\n            done();\n        }\n      );\n      return `${global}.defer(${id})`;\n    }\n  }\n  try {\n    const strings = nodes.map((node) => {\n      if (!node)\n        return \"null\";\n      return `{\"type\":\"data\",\"data\":${devalue.uneval(node.data, replacer)},${stringify_uses(node)}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n    });\n    return {\n      data: `[${strings.join(\",\")}]`,\n      chunks: count > 0 ? iterator : null\n    };\n  } catch (e) {\n    throw new Error(clarify_devalue_error(\n      event,\n      /** @type {any} */\n      e\n    ));\n  }\n}\nfunction get_option(nodes, option) {\n  return nodes.reduce(\n    (value, node) => {\n      return (\n        /** @type {Value} TypeScript's too dumb to understand this */\n        node?.universal?.[option] ?? node?.server?.[option] ?? value\n      );\n    },\n    /** @type {Value | undefined} */\n    void 0\n  );\n}\nasync function respond_with_error({\n  event,\n  options: options2,\n  manifest,\n  state,\n  status,\n  error,\n  resolve_opts\n}) {\n  if (event.request.headers.get(\"x-sveltekit-error\")) {\n    return static_error_page(\n      options2,\n      status,\n      /** @type {Error} */\n      error.message\n    );\n  }\n  const fetched = [];\n  try {\n    const branch = [];\n    const default_layout = await manifest._.nodes[0]();\n    const ssr = get_option([default_layout], \"ssr\") ?? true;\n    const csr = get_option([default_layout], \"csr\") ?? true;\n    if (ssr) {\n      state.error = true;\n      const server_data_promise = load_server_data({\n        event,\n        state,\n        node: default_layout,\n        parent: async () => ({})\n      });\n      const server_data = await server_data_promise;\n      const data = await load_data({\n        event,\n        fetched,\n        node: default_layout,\n        parent: async () => ({}),\n        resolve_opts,\n        server_data_promise,\n        state,\n        csr\n      });\n      branch.push(\n        {\n          node: default_layout,\n          server_data,\n          data\n        },\n        {\n          node: await manifest._.nodes[1](),\n          // 1 is always the root error\n          data: null,\n          server_data: null\n        }\n      );\n    }\n    return await render_response({\n      options: options2,\n      manifest,\n      state,\n      page_config: {\n        ssr,\n        csr\n      },\n      status,\n      error: await handle_error_and_jsonify(event, options2, error),\n      branch,\n      fetched,\n      event,\n      resolve_opts\n    });\n  } catch (e) {\n    if (e instanceof Redirect) {\n      return redirect_response(e.status, e.location);\n    }\n    return static_error_page(\n      options2,\n      get_status(e),\n      (await handle_error_and_jsonify(event, options2, e)).message\n    );\n  }\n}\nfunction once(fn) {\n  let done = false;\n  let result;\n  return () => {\n    if (done)\n      return result;\n    done = true;\n    return result = fn();\n  };\n}\nconst encoder = new TextEncoder();\nasync function render_data(event, route, options2, manifest, state, invalidated_data_nodes, trailing_slash) {\n  if (!route.page) {\n    return new Response(void 0, {\n      status: 404\n    });\n  }\n  try {\n    const node_ids = [...route.page.layouts, route.page.leaf];\n    const invalidated = invalidated_data_nodes ?? node_ids.map(() => true);\n    let aborted = false;\n    const url = new URL(event.url);\n    url.pathname = normalize_path(url.pathname, trailing_slash);\n    const new_event = { ...event, url };\n    const functions = node_ids.map((n, i) => {\n      return once(async () => {\n        try {\n          if (aborted) {\n            return (\n              /** @type {import('types').ServerDataSkippedNode} */\n              {\n                type: \"skip\"\n              }\n            );\n          }\n          const node = n == void 0 ? n : await manifest._.nodes[n]();\n          return load_server_data({\n            event: new_event,\n            state,\n            node,\n            parent: async () => {\n              const data2 = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = (\n                  /** @type {import('types').ServerDataNode | null} */\n                  await functions[j]()\n                );\n                if (parent) {\n                  Object.assign(data2, parent.data);\n                }\n              }\n              return data2;\n            }\n          });\n        } catch (e) {\n          aborted = true;\n          throw e;\n        }\n      });\n    });\n    const promises = functions.map(async (fn, i) => {\n      if (!invalidated[i]) {\n        return (\n          /** @type {import('types').ServerDataSkippedNode} */\n          {\n            type: \"skip\"\n          }\n        );\n      }\n      return fn();\n    });\n    let length = promises.length;\n    const nodes = await Promise.all(\n      promises.map(\n        (p, i) => p.catch(async (error) => {\n          if (error instanceof Redirect) {\n            throw error;\n          }\n          length = Math.min(length, i + 1);\n          return (\n            /** @type {import('types').ServerErrorNode} */\n            {\n              type: \"error\",\n              error: await handle_error_and_jsonify(event, options2, error),\n              status: error instanceof HttpError || error instanceof SvelteKitError ? error.status : void 0\n            }\n          );\n        })\n      )\n    );\n    const { data, chunks } = get_data_json(event, options2, nodes);\n    if (!chunks) {\n      return json_response(data);\n    }\n    return new Response(\n      new ReadableStream({\n        async start(controller) {\n          controller.enqueue(encoder.encode(data));\n          for await (const chunk of chunks) {\n            controller.enqueue(encoder.encode(chunk));\n          }\n          controller.close();\n        },\n        type: \"bytes\"\n      }),\n      {\n        headers: {\n          // we use a proprietary content type to prevent buffering.\n          // the `text` prefix makes it inspectable\n          \"content-type\": \"text/sveltekit-data\",\n          \"cache-control\": \"private, no-store\"\n        }\n      }\n    );\n  } catch (e) {\n    const error = normalize_error(e);\n    if (error instanceof Redirect) {\n      return redirect_json_response(error);\n    } else {\n      return json_response(await handle_error_and_jsonify(event, options2, error), 500);\n    }\n  }\n}\nfunction json_response(json2, status = 200) {\n  return text(typeof json2 === \"string\" ? json2 : JSON.stringify(json2), {\n    status,\n    headers: {\n      \"content-type\": \"application/json\",\n      \"cache-control\": \"private, no-store\"\n    }\n  });\n}\nfunction redirect_json_response(redirect) {\n  return json_response({\n    type: \"redirect\",\n    location: redirect.location\n  });\n}\nfunction get_data_json(event, options2, nodes) {\n  let promise_id = 1;\n  let count = 0;\n  const { iterator, push, done } = create_async_iterator();\n  const reducers = {\n    /** @param {any} thing */\n    Promise: (thing) => {\n      if (typeof thing?.then === \"function\") {\n        const id = promise_id++;\n        count += 1;\n        let key2 = \"data\";\n        thing.catch(\n          /** @param {any} e */\n          async (e) => {\n            key2 = \"error\";\n            return handle_error_and_jsonify(\n              event,\n              options2,\n              /** @type {any} */\n              e\n            );\n          }\n        ).then(\n          /** @param {any} value */\n          async (value) => {\n            let str;\n            try {\n              str = devalue.stringify(value, reducers);\n            } catch (e) {\n              const error = await handle_error_and_jsonify(\n                event,\n                options2,\n                new Error(`Failed to serialize promise while rendering ${event.route.id}`)\n              );\n              key2 = \"error\";\n              str = devalue.stringify(error, reducers);\n            }\n            count -= 1;\n            push(`{\"type\":\"chunk\",\"id\":${id},\"${key2}\":${str}}\n`);\n            if (count === 0)\n              done();\n          }\n        );\n        return id;\n      }\n    }\n  };\n  try {\n    const strings = nodes.map((node) => {\n      if (!node)\n        return \"null\";\n      if (node.type === \"error\" || node.type === \"skip\") {\n        return JSON.stringify(node);\n      }\n      return `{\"type\":\"data\",\"data\":${devalue.stringify(node.data, reducers)},${stringify_uses(\n        node\n      )}${node.slash ? `,\"slash\":${JSON.stringify(node.slash)}` : \"\"}}`;\n    });\n    return {\n      data: `{\"type\":\"data\",\"nodes\":[${strings.join(\",\")}]}\n`,\n      chunks: count > 0 ? iterator : null\n    };\n  } catch (e) {\n    throw new Error(clarify_devalue_error(\n      event,\n      /** @type {any} */\n      e\n    ));\n  }\n}\nfunction load_page_nodes(page, manifest) {\n  return Promise.all([\n    // we use == here rather than === because [undefined] serializes as \"[null]\"\n    ...page.layouts.map((n) => n == void 0 ? n : manifest._.nodes[n]()),\n    manifest._.nodes[page.leaf]()\n  ]);\n}\nconst MAX_DEPTH = 10;\nasync function render_page(event, page, options2, manifest, state, resolve_opts) {\n  if (state.depth > MAX_DEPTH) {\n    return text(`Not found: ${event.url.pathname}`, {\n      status: 404\n      // TODO in some cases this should be 500. not sure how to differentiate\n    });\n  }\n  if (is_action_json_request(event)) {\n    const node = await manifest._.nodes[page.leaf]();\n    return handle_action_json_request(event, options2, node?.server);\n  }\n  try {\n    const nodes = await load_page_nodes(page, manifest);\n    const leaf_node = (\n      /** @type {import('types').SSRNode} */\n      nodes.at(-1)\n    );\n    let status = 200;\n    let action_result = void 0;\n    if (is_action_request(event)) {\n      action_result = await handle_action_request(event, leaf_node.server);\n      if (action_result?.type === \"redirect\") {\n        return redirect_response(action_result.status, action_result.location);\n      }\n      if (action_result?.type === \"error\") {\n        status = get_status(action_result.error);\n      }\n      if (action_result?.type === \"failure\") {\n        status = action_result.status;\n      }\n    }\n    const should_prerender_data = nodes.some((node) => node?.server?.load);\n    const data_pathname = add_data_suffix(event.url.pathname);\n    const should_prerender = get_option(nodes, \"prerender\") ?? false;\n    if (should_prerender) {\n      const mod = leaf_node.server;\n      if (mod?.actions) {\n        throw new Error(\"Cannot prerender pages with actions\");\n      }\n    } else if (state.prerendering) {\n      return new Response(void 0, {\n        status: 204\n      });\n    }\n    state.prerender_default = should_prerender;\n    const fetched = [];\n    if (get_option(nodes, \"ssr\") === false && !(state.prerendering && should_prerender_data)) {\n      return await render_response({\n        branch: [],\n        fetched,\n        page_config: {\n          ssr: false,\n          csr: get_option(nodes, \"csr\") ?? true\n        },\n        status,\n        error: null,\n        event,\n        options: options2,\n        manifest,\n        state,\n        resolve_opts\n      });\n    }\n    const branch = [];\n    let load_error = null;\n    const server_promises = nodes.map((node, i) => {\n      if (load_error) {\n        throw load_error;\n      }\n      return Promise.resolve().then(async () => {\n        try {\n          if (node === leaf_node && action_result?.type === \"error\") {\n            throw action_result.error;\n          }\n          return await load_server_data({\n            event,\n            state,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                const parent = await server_promises[j];\n                if (parent)\n                  Object.assign(data, await parent.data);\n              }\n              return data;\n            }\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    const csr = get_option(nodes, \"csr\") ?? true;\n    const load_promises = nodes.map((node, i) => {\n      if (load_error)\n        throw load_error;\n      return Promise.resolve().then(async () => {\n        try {\n          return await load_data({\n            event,\n            fetched,\n            node,\n            parent: async () => {\n              const data = {};\n              for (let j = 0; j < i; j += 1) {\n                Object.assign(data, await load_promises[j]);\n              }\n              return data;\n            },\n            resolve_opts,\n            server_data_promise: server_promises[i],\n            state,\n            csr\n          });\n        } catch (e) {\n          load_error = /** @type {Error} */\n          e;\n          throw load_error;\n        }\n      });\n    });\n    for (const p of server_promises)\n      p.catch(() => {\n      });\n    for (const p of load_promises)\n      p.catch(() => {\n      });\n    for (let i = 0; i < nodes.length; i += 1) {\n      const node = nodes[i];\n      if (node) {\n        try {\n          const server_data = await server_promises[i];\n          const data = await load_promises[i];\n          branch.push({ node, server_data, data });\n        } catch (e) {\n          const err = normalize_error(e);\n          if (err instanceof Redirect) {\n            if (state.prerendering && should_prerender_data) {\n              const body2 = JSON.stringify({\n                type: \"redirect\",\n                location: err.location\n              });\n              state.prerendering.dependencies.set(data_pathname, {\n                response: text(body2),\n                body: body2\n              });\n            }\n            return redirect_response(err.status, err.location);\n          }\n          const status2 = get_status(err);\n          const error = await handle_error_and_jsonify(event, options2, err);\n          while (i--) {\n            if (page.errors[i]) {\n              const index = (\n                /** @type {number} */\n                page.errors[i]\n              );\n              const node2 = await manifest._.nodes[index]();\n              let j = i;\n              while (!branch[j])\n                j -= 1;\n              return await render_response({\n                event,\n                options: options2,\n                manifest,\n                state,\n                resolve_opts,\n                page_config: { ssr: true, csr: true },\n                status: status2,\n                error,\n                branch: compact(branch.slice(0, j + 1)).concat({\n                  node: node2,\n                  data: null,\n                  server_data: null\n                }),\n                fetched\n              });\n            }\n          }\n          return static_error_page(options2, status2, error.message);\n        }\n      } else {\n        branch.push(null);\n      }\n    }\n    if (state.prerendering && should_prerender_data) {\n      let { data, chunks } = get_data_json(\n        event,\n        options2,\n        branch.map((node) => node?.server_data)\n      );\n      if (chunks) {\n        for await (const chunk of chunks) {\n          data += chunk;\n        }\n      }\n      state.prerendering.dependencies.set(data_pathname, {\n        response: text(data),\n        body: data\n      });\n    }\n    const ssr = get_option(nodes, \"ssr\") ?? true;\n    return await render_response({\n      event,\n      options: options2,\n      manifest,\n      state,\n      resolve_opts,\n      page_config: {\n        csr: get_option(nodes, \"csr\") ?? true,\n        ssr\n      },\n      status,\n      error: null,\n      branch: ssr === false ? [] : compact(branch),\n      action_result,\n      fetched\n    });\n  } catch (e) {\n    return await respond_with_error({\n      event,\n      options: options2,\n      manifest,\n      state,\n      status: 500,\n      error: e,\n      resolve_opts\n    });\n  }\n}\nfunction exec(match, params, matchers) {\n  const result = {};\n  const values = match.slice(1);\n  const values_needing_match = values.filter((value) => value !== void 0);\n  let buffered = 0;\n  for (let i = 0; i < params.length; i += 1) {\n    const param = params[i];\n    let value = values[i - buffered];\n    if (param.chained && param.rest && buffered) {\n      value = values.slice(i - buffered, i + 1).filter((s2) => s2).join(\"/\");\n      buffered = 0;\n    }\n    if (value === void 0) {\n      if (param.rest)\n        result[param.name] = \"\";\n      continue;\n    }\n    if (!param.matcher || matchers[param.matcher](value)) {\n      result[param.name] = value;\n      const next_param = params[i + 1];\n      const next_value = values[i + 1];\n      if (next_param && !next_param.rest && next_param.optional && next_value && param.chained) {\n        buffered = 0;\n      }\n      if (!next_param && !next_value && Object.keys(result).length === values_needing_match.length) {\n        buffered = 0;\n      }\n      continue;\n    }\n    if (param.optional && param.chained) {\n      buffered++;\n      continue;\n    }\n    return;\n  }\n  if (buffered)\n    return;\n  return result;\n}\nfunction validate_options(options2) {\n  if (options2?.path === void 0) {\n    throw new Error(\"You must specify a `path` when setting, deleting or serializing cookies\");\n  }\n}\nfunction get_cookies(request, url, trailing_slash) {\n  const header = request.headers.get(\"cookie\") ?? \"\";\n  const initial_cookies = parse(header, { decode: (value) => value });\n  const normalized_url = normalize_path(url.pathname, trailing_slash);\n  const new_cookies = {};\n  const defaults = {\n    httpOnly: true,\n    sameSite: \"lax\",\n    secure: url.hostname === \"localhost\" && url.protocol === \"http:\" ? false : true\n  };\n  const cookies = {\n    // The JSDoc param annotations appearing below for get, set and delete\n    // are necessary to expose the `cookie` library types to\n    // typescript users. `@type {import('@sveltejs/kit').Cookies}` above is not\n    // sufficient to do so.\n    /**\n     * @param {string} name\n     * @param {import('cookie').CookieParseOptions} opts\n     */\n    get(name, opts) {\n      const c = new_cookies[name];\n      if (c && domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n        return c.value;\n      }\n      const decoder = opts?.decode || decodeURIComponent;\n      const req_cookies = parse(header, { decode: decoder });\n      const cookie = req_cookies[name];\n      return cookie;\n    },\n    /**\n     * @param {import('cookie').CookieParseOptions} opts\n     */\n    getAll(opts) {\n      const decoder = opts?.decode || decodeURIComponent;\n      const cookies2 = parse(header, { decode: decoder });\n      for (const c of Object.values(new_cookies)) {\n        if (domain_matches(url.hostname, c.options.domain) && path_matches(url.pathname, c.options.path)) {\n          cookies2[c.name] = c.value;\n        }\n      }\n      return Object.entries(cookies2).map(([name, value]) => ({ name, value }));\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     * @param {import('./page/types.js').Cookie['options']} options\n     */\n    set(name, value, options2) {\n      validate_options(options2);\n      set_internal(name, value, { ...defaults, ...options2 });\n    },\n    /**\n     * @param {string} name\n     *  @param {import('./page/types.js').Cookie['options']} options\n     */\n    delete(name, options2) {\n      validate_options(options2);\n      cookies.set(name, \"\", { ...options2, maxAge: 0 });\n    },\n    /**\n     * @param {string} name\n     * @param {string} value\n     *  @param {import('./page/types.js').Cookie['options']} options\n     */\n    serialize(name, value, options2) {\n      validate_options(options2);\n      let path = options2.path;\n      if (!options2.domain || options2.domain === url.hostname) {\n        path = resolve(normalized_url, path);\n      }\n      return serialize(name, value, { ...defaults, ...options2, path });\n    }\n  };\n  function get_cookie_header(destination, header2) {\n    const combined_cookies = {\n      // cookies sent by the user agent have lowest precedence\n      ...initial_cookies\n    };\n    for (const key2 in new_cookies) {\n      const cookie = new_cookies[key2];\n      if (!domain_matches(destination.hostname, cookie.options.domain))\n        continue;\n      if (!path_matches(destination.pathname, cookie.options.path))\n        continue;\n      const encoder2 = cookie.options.encode || encodeURIComponent;\n      combined_cookies[cookie.name] = encoder2(cookie.value);\n    }\n    if (header2) {\n      const parsed = parse(header2, { decode: (value) => value });\n      for (const name in parsed) {\n        combined_cookies[name] = parsed[name];\n      }\n    }\n    return Object.entries(combined_cookies).map(([name, value]) => `${name}=${value}`).join(\"; \");\n  }\n  function set_internal(name, value, options2) {\n    let path = options2.path;\n    if (!options2.domain || options2.domain === url.hostname) {\n      path = resolve(normalized_url, path);\n    }\n    new_cookies[name] = { name, value, options: { ...options2, path } };\n  }\n  return { cookies, new_cookies, get_cookie_header, set_internal };\n}\nfunction domain_matches(hostname, constraint) {\n  if (!constraint)\n    return true;\n  const normalized = constraint[0] === \".\" ? constraint.slice(1) : constraint;\n  if (hostname === normalized)\n    return true;\n  return hostname.endsWith(\".\" + normalized);\n}\nfunction path_matches(path, constraint) {\n  if (!constraint)\n    return true;\n  const normalized = constraint.endsWith(\"/\") ? constraint.slice(0, -1) : constraint;\n  if (path === normalized)\n    return true;\n  return path.startsWith(normalized + \"/\");\n}\nfunction add_cookies_to_headers(headers2, cookies) {\n  for (const new_cookie of cookies) {\n    const { name, value, options: options2 } = new_cookie;\n    headers2.append(\"set-cookie\", serialize(name, value, options2));\n    if (options2.path.endsWith(\".html\")) {\n      const path = add_data_suffix(options2.path);\n      headers2.append(\"set-cookie\", serialize(name, value, { ...options2, path }));\n    }\n  }\n}\nfunction create_fetch({ event, options: options2, manifest, state, get_cookie_header, set_internal }) {\n  const server_fetch = async (info, init2) => {\n    const original_request = normalize_fetch_input(info, init2, event.url);\n    let mode = (info instanceof Request ? info.mode : init2?.mode) ?? \"cors\";\n    let credentials = (info instanceof Request ? info.credentials : init2?.credentials) ?? \"same-origin\";\n    return options2.hooks.handleFetch({\n      event,\n      request: original_request,\n      fetch: async (info2, init3) => {\n        const request = normalize_fetch_input(info2, init3, event.url);\n        const url = new URL(request.url);\n        if (!request.headers.has(\"origin\")) {\n          request.headers.set(\"origin\", event.url.origin);\n        }\n        if (info2 !== original_request) {\n          mode = (info2 instanceof Request ? info2.mode : init3?.mode) ?? \"cors\";\n          credentials = (info2 instanceof Request ? info2.credentials : init3?.credentials) ?? \"same-origin\";\n        }\n        if ((request.method === \"GET\" || request.method === \"HEAD\") && (mode === \"no-cors\" && url.origin !== event.url.origin || url.origin === event.url.origin)) {\n          request.headers.delete(\"origin\");\n        }\n        if (url.origin !== event.url.origin) {\n          if (`.${url.hostname}`.endsWith(`.${event.url.hostname}`) && credentials !== \"omit\") {\n            const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n            if (cookie)\n              request.headers.set(\"cookie\", cookie);\n          }\n          return fetch(request);\n        }\n        const prefix = assets || base;\n        const decoded = decodeURIComponent(url.pathname);\n        const filename = (decoded.startsWith(prefix) ? decoded.slice(prefix.length) : decoded).slice(1);\n        const filename_html = `${filename}/index.html`;\n        const is_asset = manifest.assets.has(filename);\n        const is_asset_html = manifest.assets.has(filename_html);\n        if (is_asset || is_asset_html) {\n          const file = is_asset ? filename : filename_html;\n          if (state.read) {\n            const type = is_asset ? manifest.mimeTypes[filename.slice(filename.lastIndexOf(\".\"))] : \"text/html\";\n            return new Response(state.read(file), {\n              headers: type ? { \"content-type\": type } : {}\n            });\n          }\n          return await fetch(request);\n        }\n        if (credentials !== \"omit\") {\n          const cookie = get_cookie_header(url, request.headers.get(\"cookie\"));\n          if (cookie) {\n            request.headers.set(\"cookie\", cookie);\n          }\n          const authorization = event.request.headers.get(\"authorization\");\n          if (authorization && !request.headers.has(\"authorization\")) {\n            request.headers.set(\"authorization\", authorization);\n          }\n        }\n        if (!request.headers.has(\"accept\")) {\n          request.headers.set(\"accept\", \"*/*\");\n        }\n        if (!request.headers.has(\"accept-language\")) {\n          request.headers.set(\n            \"accept-language\",\n            /** @type {string} */\n            event.request.headers.get(\"accept-language\")\n          );\n        }\n        const response = await respond(request, options2, manifest, {\n          ...state,\n          depth: state.depth + 1\n        });\n        const set_cookie = response.headers.get(\"set-cookie\");\n        if (set_cookie) {\n          for (const str of set_cookie_parser.splitCookiesString(set_cookie)) {\n            const { name, value, ...options3 } = set_cookie_parser.parseString(str);\n            const path = options3.path ?? (url.pathname.split(\"/\").slice(0, -1).join(\"/\") || \"/\");\n            set_internal(name, value, {\n              path,\n              .../** @type {import('cookie').CookieSerializeOptions} */\n              options3\n            });\n          }\n        }\n        return response;\n      }\n    });\n  };\n  return (input, init2) => {\n    const response = server_fetch(input, init2);\n    response.catch(() => {\n    });\n    return response;\n  };\n}\nfunction normalize_fetch_input(info, init2, url) {\n  if (info instanceof Request) {\n    return info;\n  }\n  return new Request(typeof info === \"string\" ? new URL(info, url) : info, init2);\n}\nlet body;\nlet etag;\nlet headers;\nfunction get_public_env(request) {\n  body ??= `export const env=${JSON.stringify(public_env)}`;\n  etag ??= `W/${Date.now()}`;\n  headers ??= new Headers({\n    \"content-type\": \"application/javascript; charset=utf-8\",\n    etag\n  });\n  if (request.headers.get(\"if-none-match\") === etag) {\n    return new Response(void 0, { status: 304, headers });\n  }\n  return new Response(body, { headers });\n}\nfunction get_page_config(nodes) {\n  let current = {};\n  for (const node of nodes) {\n    if (!node?.universal?.config && !node?.server?.config)\n      continue;\n    current = {\n      ...current,\n      ...node?.universal?.config,\n      ...node?.server?.config\n    };\n  }\n  return Object.keys(current).length ? current : void 0;\n}\nconst default_transform = ({ html }) => html;\nconst default_filter = () => false;\nconst default_preload = ({ type }) => type === \"js\" || type === \"css\";\nconst page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"POST\"]);\nconst allowed_page_methods = /* @__PURE__ */ new Set([\"GET\", \"HEAD\", \"OPTIONS\"]);\nasync function respond(request, options2, manifest, state) {\n  const url = new URL(request.url);\n  if (options2.csrf_check_origin) {\n    const forbidden = is_form_content_type(request) && (request.method === \"POST\" || request.method === \"PUT\" || request.method === \"PATCH\" || request.method === \"DELETE\") && request.headers.get(\"origin\") !== url.origin;\n    if (forbidden) {\n      const csrf_error = new HttpError(\n        403,\n        `Cross-site ${request.method} form submissions are forbidden`\n      );\n      if (request.headers.get(\"accept\") === \"application/json\") {\n        return json(csrf_error.body, { status: csrf_error.status });\n      }\n      return text(csrf_error.body.message, { status: csrf_error.status });\n    }\n  }\n  let rerouted_path;\n  try {\n    rerouted_path = options2.hooks.reroute({ url: new URL(url) }) ?? url.pathname;\n  } catch (e) {\n    return text(\"Internal Server Error\", {\n      status: 500\n    });\n  }\n  let decoded;\n  try {\n    decoded = decode_pathname(rerouted_path);\n  } catch {\n    return text(\"Malformed URI\", { status: 400 });\n  }\n  let route = null;\n  let params = {};\n  if (base && !state.prerendering?.fallback) {\n    if (!decoded.startsWith(base)) {\n      return text(\"Not found\", { status: 404 });\n    }\n    decoded = decoded.slice(base.length) || \"/\";\n  }\n  if (decoded === `/${options2.app_dir}/env.js`) {\n    return get_public_env(request);\n  }\n  if (decoded.startsWith(`/${options2.app_dir}`)) {\n    return text(\"Not found\", { status: 404 });\n  }\n  const is_data_request = has_data_suffix(decoded);\n  let invalidated_data_nodes;\n  if (is_data_request) {\n    decoded = strip_data_suffix(decoded) || \"/\";\n    url.pathname = strip_data_suffix(url.pathname) + (url.searchParams.get(TRAILING_SLASH_PARAM) === \"1\" ? \"/\" : \"\") || \"/\";\n    url.searchParams.delete(TRAILING_SLASH_PARAM);\n    invalidated_data_nodes = url.searchParams.get(INVALIDATED_PARAM)?.split(\"\").map((node) => node === \"1\");\n    url.searchParams.delete(INVALIDATED_PARAM);\n  }\n  if (!state.prerendering?.fallback) {\n    const matchers = await manifest._.matchers();\n    for (const candidate of manifest._.routes) {\n      const match = candidate.pattern.exec(decoded);\n      if (!match)\n        continue;\n      const matched = exec(match, candidate.params, matchers);\n      if (matched) {\n        route = candidate;\n        params = decode_params(matched);\n        break;\n      }\n    }\n  }\n  let trailing_slash = void 0;\n  const headers2 = {};\n  let cookies_to_add = {};\n  const event = {\n    // @ts-expect-error `cookies` and `fetch` need to be created after the `event` itself\n    cookies: null,\n    // @ts-expect-error\n    fetch: null,\n    getClientAddress: state.getClientAddress || (() => {\n      throw new Error(\n        `${\"@sveltejs/adapter-vercel\"} does not specify getClientAddress. Please raise an issue`\n      );\n    }),\n    locals: {},\n    params,\n    platform: state.platform,\n    request,\n    route: { id: route?.id ?? null },\n    setHeaders: (new_headers) => {\n      for (const key2 in new_headers) {\n        const lower = key2.toLowerCase();\n        const value = new_headers[key2];\n        if (lower === \"set-cookie\") {\n          throw new Error(\n            \"Use `event.cookies.set(name, value, options)` instead of `event.setHeaders` to set cookies\"\n          );\n        } else if (lower in headers2) {\n          throw new Error(`\"${key2}\" header is already set`);\n        } else {\n          headers2[lower] = value;\n          if (state.prerendering && lower === \"cache-control\") {\n            state.prerendering.cache = /** @type {string} */\n            value;\n          }\n        }\n      }\n    },\n    url,\n    isDataRequest: is_data_request,\n    isSubRequest: state.depth > 0\n  };\n  let resolve_opts = {\n    transformPageChunk: default_transform,\n    filterSerializedResponseHeaders: default_filter,\n    preload: default_preload\n  };\n  try {\n    if (route) {\n      if (url.pathname === base || url.pathname === base + \"/\") {\n        trailing_slash = \"always\";\n      } else if (route.page) {\n        const nodes = await load_page_nodes(route.page, manifest);\n        if (DEV)\n          ;\n        trailing_slash = get_option(nodes, \"trailingSlash\");\n      } else if (route.endpoint) {\n        const node = await route.endpoint();\n        trailing_slash = node.trailingSlash;\n        if (DEV)\n          ;\n      }\n      if (!is_data_request) {\n        const normalized = normalize_path(url.pathname, trailing_slash ?? \"never\");\n        if (normalized !== url.pathname && !state.prerendering?.fallback) {\n          return new Response(void 0, {\n            status: 308,\n            headers: {\n              \"x-sveltekit-normalize\": \"1\",\n              location: (\n                // ensure paths starting with '//' are not treated as protocol-relative\n                (normalized.startsWith(\"//\") ? url.origin + normalized : normalized) + (url.search === \"?\" ? \"\" : url.search)\n              )\n            }\n          });\n        }\n      }\n      if (state.before_handle || state.emulator?.platform) {\n        let config = {};\n        let prerender = false;\n        if (route.endpoint) {\n          const node = await route.endpoint();\n          config = node.config ?? config;\n          prerender = node.prerender ?? prerender;\n        } else if (route.page) {\n          const nodes = await load_page_nodes(route.page, manifest);\n          config = get_page_config(nodes) ?? config;\n          prerender = get_option(nodes, \"prerender\") ?? false;\n        }\n        if (state.before_handle) {\n          state.before_handle(event, config, prerender);\n        }\n        if (state.emulator?.platform) {\n          event.platform = await state.emulator.platform({ config, prerender });\n        }\n      }\n    }\n    const { cookies, new_cookies, get_cookie_header, set_internal } = get_cookies(\n      request,\n      url,\n      trailing_slash ?? \"never\"\n    );\n    cookies_to_add = new_cookies;\n    event.cookies = cookies;\n    event.fetch = create_fetch({\n      event,\n      options: options2,\n      manifest,\n      state,\n      get_cookie_header,\n      set_internal\n    });\n    if (state.prerendering && !state.prerendering.fallback)\n      disable_search(url);\n    const response = await options2.hooks.handle({\n      event,\n      resolve: (event2, opts) => resolve2(event2, opts).then((response2) => {\n        for (const key2 in headers2) {\n          const value = headers2[key2];\n          response2.headers.set(\n            key2,\n            /** @type {string} */\n            value\n          );\n        }\n        add_cookies_to_headers(response2.headers, Object.values(cookies_to_add));\n        if (state.prerendering && event2.route.id !== null) {\n          response2.headers.set(\"x-sveltekit-routeid\", encodeURI(event2.route.id));\n        }\n        return response2;\n      })\n    });\n    if (response.status === 200 && response.headers.has(\"etag\")) {\n      let if_none_match_value = request.headers.get(\"if-none-match\");\n      if (if_none_match_value?.startsWith('W/\"')) {\n        if_none_match_value = if_none_match_value.substring(2);\n      }\n      const etag2 = (\n        /** @type {string} */\n        response.headers.get(\"etag\")\n      );\n      if (if_none_match_value === etag2) {\n        const headers22 = new Headers({ etag: etag2 });\n        for (const key2 of [\n          \"cache-control\",\n          \"content-location\",\n          \"date\",\n          \"expires\",\n          \"vary\",\n          \"set-cookie\"\n        ]) {\n          const value = response.headers.get(key2);\n          if (value)\n            headers22.set(key2, value);\n        }\n        return new Response(void 0, {\n          status: 304,\n          headers: headers22\n        });\n      }\n    }\n    if (is_data_request && response.status >= 300 && response.status <= 308) {\n      const location = response.headers.get(\"location\");\n      if (location) {\n        return redirect_json_response(new Redirect(\n          /** @type {any} */\n          response.status,\n          location\n        ));\n      }\n    }\n    return response;\n  } catch (e) {\n    if (e instanceof Redirect) {\n      const response = is_data_request ? redirect_json_response(e) : route?.page && is_action_json_request(event) ? action_json_redirect(e) : redirect_response(e.status, e.location);\n      add_cookies_to_headers(response.headers, Object.values(cookies_to_add));\n      return response;\n    }\n    return await handle_fatal_error(event, options2, e);\n  }\n  async function resolve2(event2, opts) {\n    try {\n      if (opts) {\n        resolve_opts = {\n          transformPageChunk: opts.transformPageChunk || default_transform,\n          filterSerializedResponseHeaders: opts.filterSerializedResponseHeaders || default_filter,\n          preload: opts.preload || default_preload\n        };\n      }\n      if (state.prerendering?.fallback) {\n        return await render_response({\n          event: event2,\n          options: options2,\n          manifest,\n          state,\n          page_config: { ssr: false, csr: true },\n          status: 200,\n          error: null,\n          branch: [],\n          fetched: [],\n          resolve_opts\n        });\n      }\n      if (route) {\n        const method = (\n          /** @type {import('types').HttpMethod} */\n          event2.request.method\n        );\n        let response;\n        if (is_data_request) {\n          response = await render_data(\n            event2,\n            route,\n            options2,\n            manifest,\n            state,\n            invalidated_data_nodes,\n            trailing_slash ?? \"never\"\n          );\n        } else if (route.endpoint && (!route.page || is_endpoint_request(event2))) {\n          response = await render_endpoint(event2, await route.endpoint(), state);\n        } else if (route.page) {\n          if (page_methods.has(method)) {\n            response = await render_page(event2, route.page, options2, manifest, state, resolve_opts);\n          } else {\n            const allowed_methods2 = new Set(allowed_page_methods);\n            const node = await manifest._.nodes[route.page.leaf]();\n            if (node?.server?.actions) {\n              allowed_methods2.add(\"POST\");\n            }\n            if (method === \"OPTIONS\") {\n              response = new Response(null, {\n                status: 204,\n                headers: {\n                  allow: Array.from(allowed_methods2.values()).join(\", \")\n                }\n              });\n            } else {\n              const mod = [...allowed_methods2].reduce(\n                (acc, curr) => {\n                  acc[curr] = true;\n                  return acc;\n                },\n                /** @type {Record<string, any>} */\n                {}\n              );\n              response = method_not_allowed(mod, method);\n            }\n          }\n        } else {\n          throw new Error(\"This should never happen\");\n        }\n        if (request.method === \"GET\" && route.page && route.endpoint) {\n          const vary = response.headers.get(\"vary\")?.split(\",\")?.map((v) => v.trim().toLowerCase());\n          if (!(vary?.includes(\"accept\") || vary?.includes(\"*\"))) {\n            response = new Response(response.body, {\n              status: response.status,\n              statusText: response.statusText,\n              headers: new Headers(response.headers)\n            });\n            response.headers.append(\"Vary\", \"Accept\");\n          }\n        }\n        return response;\n      }\n      if (state.error && event2.isSubRequest) {\n        return await fetch(request, {\n          headers: {\n            \"x-sveltekit-error\": \"true\"\n          }\n        });\n      }\n      if (state.error) {\n        return text(\"Internal Server Error\", {\n          status: 500\n        });\n      }\n      if (state.depth === 0) {\n        return await respond_with_error({\n          event: event2,\n          options: options2,\n          manifest,\n          state,\n          status: 404,\n          error: new SvelteKitError(404, \"Not Found\", `Not found: ${event2.url.pathname}`),\n          resolve_opts\n        });\n      }\n      if (state.prerendering) {\n        return text(\"not found\", { status: 404 });\n      }\n      return await fetch(request);\n    } catch (e) {\n      return await handle_fatal_error(event2, options2, e);\n    } finally {\n      event2.cookies.set = () => {\n        throw new Error(\"Cannot use `cookies.set(...)` after the response has been generated\");\n      };\n      event2.setHeaders = () => {\n        throw new Error(\"Cannot use `setHeaders(...)` after the response has been generated\");\n      };\n    }\n  }\n}\nfunction filter_private_env(env, { public_prefix, private_prefix }) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(private_prefix) && (public_prefix === \"\" || !k.startsWith(public_prefix))\n    )\n  );\n}\nfunction filter_public_env(env, { public_prefix, private_prefix }) {\n  return Object.fromEntries(\n    Object.entries(env).filter(\n      ([k]) => k.startsWith(public_prefix) && (private_prefix === \"\" || !k.startsWith(private_prefix))\n    )\n  );\n}\nconst prerender_env_handler = {\n  get({ type }, prop) {\n    throw new Error(\n      `Cannot read values from $env/dynamic/${type} while prerendering (attempted to read env.${prop.toString()}). Use $env/static/${type} instead`\n    );\n  }\n};\nclass Server {\n  /** @type {import('types').SSROptions} */\n  #options;\n  /** @type {import('@sveltejs/kit').SSRManifest} */\n  #manifest;\n  /** @param {import('@sveltejs/kit').SSRManifest} manifest */\n  constructor(manifest) {\n    this.#options = options;\n    this.#manifest = manifest;\n  }\n  /**\n   * @param {{\n   *   env: Record<string, string>;\n   *   read?: (file: string) => ReadableStream;\n   * }} opts\n   */\n  async init({ env, read }) {\n    const prefixes = {\n      public_prefix: this.#options.env_public_prefix,\n      private_prefix: this.#options.env_private_prefix\n    };\n    const private_env = filter_private_env(env, prefixes);\n    const public_env2 = filter_public_env(env, prefixes);\n    set_private_env(\n      prerendering ? new Proxy({ type: \"private\" }, prerender_env_handler) : private_env\n    );\n    set_public_env(\n      prerendering ? new Proxy({ type: \"public\" }, prerender_env_handler) : public_env2\n    );\n    set_safe_public_env(public_env2);\n    if (!this.#options.hooks) {\n      try {\n        const module = await get_hooks();\n        this.#options.hooks = {\n          handle: module.handle || (({ event, resolve: resolve2 }) => resolve2(event)),\n          handleError: module.handleError || (({ error }) => console.error(error)),\n          handleFetch: module.handleFetch || (({ request, fetch: fetch2 }) => fetch2(request)),\n          reroute: module.reroute || (() => {\n          })\n        };\n      } catch (error) {\n        {\n          throw error;\n        }\n      }\n    }\n  }\n  /**\n   * @param {Request} request\n   * @param {import('types').RequestOptions} options\n   */\n  async respond(request, options2) {\n    return respond(request, this.#options, this.#manifest, {\n      ...options2,\n      error: false,\n      depth: 0\n    });\n  }\n}\nexport {\n  Server\n};\n", "export const manifest = (() => {\nfunction __memo(fn) {\n\tlet value;\n\treturn () => value ??= (value = fn());\n}\n\nreturn {\n\tappDir: \"_app\",\n\tappPath: \"_app\",\n\tassets: new Set([\"favicon.png\"]),\n\tmimeTypes: {\".png\":\"image/png\"},\n\t_: {\n\t\tclient: {\"start\":\"_app/immutable/entry/start.Cn_Ok_CH.js\",\"app\":\"_app/immutable/entry/app.Brjo8-fZ.js\",\"imports\":[\"_app/immutable/entry/start.Cn_Ok_CH.js\",\"_app/immutable/chunks/entry.b-SNwMmc.js\",\"_app/immutable/chunks/scheduler.Rzn6huuy.js\",\"_app/immutable/entry/app.Brjo8-fZ.js\",\"_app/immutable/chunks/scheduler.Rzn6huuy.js\",\"_app/immutable/chunks/index.D6xxGKKq.js\"],\"stylesheets\":[],\"fonts\":[],\"uses_env_dynamic_public\":false},\n\t\tnodes: [\n\t\t\t__memo(() => import('../../output/server/nodes/0.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/1.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/2.js')),\n\t\t\t__memo(() => import('../../output/server/nodes/3.js'))\n\t\t],\n\t\troutes: [\n\t\t\t{\n\t\t\t\tid: \"/\",\n\t\t\t\tpattern: /^\\/$/,\n\t\t\t\tparams: [],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 2 },\n\t\t\t\tendpoint: null\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"/update/[todoid]\",\n\t\t\t\tpattern: /^\\/update\\/([^/]+?)\\/?$/,\n\t\t\t\tparams: [{\"name\":\"todoid\",\"optional\":false,\"rest\":false,\"chained\":false}],\n\t\t\t\tpage: { layouts: [0,], errors: [1,], leaf: 3 },\n\t\t\t\tendpoint: null\n\t\t\t}\n\t\t],\n\t\tmatchers: async () => {\n\t\t\t\n\t\t\treturn {  };\n\t\t},\n\t\tserver_assets: {}\n\t}\n}\n})();\n", "import { Server } from '../../output/server/index.js';\nimport { manifest } from './manifest.js';\n\nconst server = new Server(manifest);\nconst initialized = server.init({\n\tenv: /** @type {Record<string, string>} */ (process.env)\n});\n\n/**\n * @param {Request} request\n * @param {import('../index.js').RequestContext} context\n */\nexport default async (request, context) => {\n\tawait initialized;\n\treturn server.respond(request, {\n\t\tgetClientAddress() {\n\t\t\treturn /** @type {string} */ (request.headers.get('x-forwarded-for'));\n\t\t},\n\t\tplatform: {\n\t\t\tcontext\n\t\t}\n\t});\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAM;AAAN;AAAA;AAAA,IAAM,MAAM;AAAA;AAAA;;;ACAZ,SAAS,OAAO;AAChB;AACA,SAAS,IAAI,IAAI;AACf,SAAO,GAAG;AACZ;AACA,SAAS,eAAe;AACtB,SAAuB,uBAAO,OAAO,IAAI;AAC3C;AACA,SAAS,QAAQ,KAAK;AACpB,MAAI,QAAQ,GAAG;AACjB;AACA,SAAS,eAAeA,IAAGC,IAAG;AAC5B,SAAOD,MAAKA,KAAIC,MAAKA,KAAID,OAAMC,MAAKD,MAAK,OAAOA,OAAM,YAAY,OAAOA,OAAM;AACjF;AACA,SAAS,UAAU,UAAU,WAAW;AACtC,MAAI,SAAS,MAAM;AACjB,eAAWE,aAAY,WAAW;AAChC,MAAAA,UAAS,MAAM;AAAA,IACjB;AACA,WAAO;AAAA,EACT;AACA,QAAM,QAAQ,MAAM,UAAU,GAAG,SAAS;AAC1C,SAAO,MAAM,cAAc,MAAM,MAAM,YAAY,IAAI;AACzD;AAEA,SAAS,sBAAsBC,YAAW;AACxC,sBAAoBA;AACtB;AACA,SAAS,wBAAwB;AAC/B,MAAI,CAAC;AACH,UAAM,IAAI,MAAM,kDAAkD;AACpE,SAAO;AACT;AACA,SAAS,WAAWC,MAAK,SAAS;AAChC,wBAAsB,EAAE,GAAG,QAAQ,IAAIA,MAAK,OAAO;AACnD,SAAO;AACT;AACA,SAAS,WAAWA,MAAK;AACvB,SAAO,sBAAsB,EAAE,GAAG,QAAQ,IAAIA,IAAG;AACnD;AACA,SAAS,kBAAkB,wBAAwB;AACjD,SAAO,wBAAwB,WAAW,SAAS,yBAAyB,MAAM,KAAK,sBAAsB;AAC/G;AAGA,SAAS,OAAO,OAAO,UAAU,OAAO;AACtC,QAAM,MAAM,OAAO,KAAK;AACxB,QAAMC,WAAU,UAAU,aAAa;AACvC,EAAAA,SAAQ,YAAY;AACpB,MAAIC,WAAU;AACd,MAAI,OAAO;AACX,SAAOD,SAAQ,KAAK,GAAG,GAAG;AACxB,UAAME,KAAIF,SAAQ,YAAY;AAC9B,UAAM,KAAK,IAAIE,EAAC;AAChB,IAAAD,YAAW,IAAI,UAAU,MAAMC,EAAC,KAAK,OAAO,MAAM,UAAU,OAAO,MAAM,WAAW;AACpF,WAAOA,KAAI;AAAA,EACb;AACA,SAAOD,WAAU,IAAI,UAAU,IAAI;AACrC;AACA,SAAS,KAAK,OAAO,IAAI;AACvB,UAAQ,kBAAkB,KAAK;AAC/B,MAAI,MAAM;AACV,WAASC,KAAI,GAAGA,KAAI,MAAM,QAAQA,MAAK,GAAG;AACxC,WAAO,GAAG,MAAMA,EAAC,GAAGA,EAAC;AAAA,EACvB;AACA,SAAO;AACT;AAIA,SAAS,mBAAmBJ,YAAW,MAAM;AAC3C,MAAI,CAACA,cAAa,CAACA,WAAU,UAAU;AACrC,QAAI,SAAS;AACX,cAAQ;AACV,UAAM,IAAI;AAAA,MACR,IAAI,IAAI,qMAAqM,IAAI;AAAA,IACnN;AAAA,EACF;AACA,SAAOA;AACT;AAEA,SAAS,qBAAqB,IAAI;AAChC,WAAS,SAAS,QAAQ,OAAO,UAAU,OAAO,SAAS;AACzD,UAAM,mBAAmB;AACzB,UAAM,KAAK;AAAA,MACT;AAAA,MACA,SAAS,IAAI,IAAI,YAAY,mBAAmB,iBAAiB,GAAG,UAAU,CAAC,EAAE;AAAA;AAAA,MAEjF,UAAU,CAAC;AAAA,MACX,eAAe,CAAC;AAAA,MAChB,cAAc,CAAC;AAAA,MACf,WAAW,aAAa;AAAA,IAC1B;AACA,0BAAsB,EAAE,GAAG,CAAC;AAC5B,UAAM,OAAO,GAAG,QAAQ,OAAO,UAAU,KAAK;AAC9C,0BAAsB,gBAAgB;AACtC,WAAO;AAAA,EACT;AACA,SAAO;AAAA,IACL,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,UAA0B,oBAAI,IAAI,EAAE,IAAI,CAAC,MAAM;AAClF,mBAAa,CAAC;AACd,YAAM,SAAS,EAAE,OAAO,IAAI,MAAM,IAAI,KAAqB,oBAAI,IAAI,EAAE;AACrE,YAAM,OAAO,SAAS,QAAQ,OAAO,CAAC,GAAG,SAAS,OAAO;AACzD,cAAQ,UAAU;AAClB,aAAO;AAAA,QACL;AAAA,QACA,KAAK;AAAA,UACH,MAAM,MAAM,KAAK,OAAO,GAAG,EAAE,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE,KAAK,IAAI;AAAA,UAC7D,KAAK;AAAA;AAAA,QAEP;AAAA,QACA,MAAM,OAAO,QAAQ,OAAO;AAAA,MAC9B;AAAA,IACF;AAAA,IACA;AAAA,EACF;AACF;AACA,SAAS,cAAc,MAAM,OAAO,SAAS;AAC3C,MAAI,SAAS,QAAQ,WAAW,CAAC;AAC/B,WAAO;AACT,QAAM,aAAa,WAAW,UAAU,OAAO,KAAK,KAAK,OAAO,OAAO,IAAI,CAAC;AAC5E,SAAO,IAAI,IAAI,GAAG,UAAU;AAC9B;AA1HA,IAwBI,mBAmBE,YACA,eAuBA,mBAaF;AAhFJ;AAAA;AA2CA,IAAM,aAAa;AACnB,IAAM,gBAAgB;AAuBtB,IAAM,oBAAoB;AAAA,MACxB,UAAU,MAAM;AAAA,IAClB;AAAA;AAAA;;;AC3BO,SAAS,eAAe,kBAAkB;AAC7C,QAAM,eAAe,mBAAmB,cAAc;AACtD,SAAO;AAAA;AAAA,IAEH,cAAc;AAAA,MACV,MAAM,GAAG,YAAY;AAAA,MACrB,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,MACZ;AAAA,IACJ;AAAA,IACA,aAAa;AAAA,MACT,MAAM,GAAG,YAAY;AAAA,MACrB,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,MACZ;AAAA,IACJ;AAAA,IACA,WAAW;AAAA;AAAA;AAAA,MAGP,MAAM,GAAG,mBAAmB,YAAY,EAAE;AAAA,MAC1C,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,MACZ;AAAA,IACJ;AAAA,IACA,kBAAkB;AAAA,MACd,MAAM,GAAG,YAAY;AAAA,MACrB,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ,KAAK;AAAA;AAAA,MACjB;AAAA,IACJ;AAAA,IACA,OAAO;AAAA,MACH,MAAM,GAAG,YAAY;AAAA,MACrB,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ,KAAK;AAAA;AAAA,MACjB;AAAA,IACJ;AAAA,IACA,OAAO;AAAA,MACH,MAAM,GAAG,YAAY;AAAA,MACrB,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,MACZ;AAAA,IACJ;AAAA,IACA,mBAAmB;AAAA,MACf,MAAM,GAAG,YAAY;AAAA,MACrB,SAAS;AAAA,QACL,UAAU;AAAA,QACV,UAAU;AAAA,QACV,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,QAAQ,KAAK;AAAA;AAAA,MACjB;AAAA,IACJ;AAAA,EACJ;AACJ;AAnHA,IAAI,wBAMA,wBAKA,yBAAyB,sBAAsB,sBAAsB,sBAAsB,qBAAqB,qBAiB9G,qBAEA,6BACA,YAqFO;AApHb;AAAA;AAAA,IAAI,yBAAkE,SAAU,UAAUK,QAAO,OAAO,MAAMC,IAAG;AAC7G,UAAI,SAAS;AAAK,cAAM,IAAI,UAAU,gCAAgC;AACtE,UAAI,SAAS,OAAO,CAACA;AAAG,cAAM,IAAI,UAAU,+CAA+C;AAC3F,UAAI,OAAOD,WAAU,aAAa,aAAaA,UAAS,CAACC,KAAI,CAACD,OAAM,IAAI,QAAQ;AAAG,cAAM,IAAI,UAAU,yEAAyE;AAChL,aAAQ,SAAS,MAAMC,GAAE,KAAK,UAAU,KAAK,IAAIA,KAAIA,GAAE,QAAQ,QAAQD,OAAM,IAAI,UAAU,KAAK,GAAI;AAAA,IACxG;AACA,IAAI,yBAAkE,SAAU,UAAUA,QAAO,MAAMC,IAAG;AACtG,UAAI,SAAS,OAAO,CAACA;AAAG,cAAM,IAAI,UAAU,+CAA+C;AAC3F,UAAI,OAAOD,WAAU,aAAa,aAAaA,UAAS,CAACC,KAAI,CAACD,OAAM,IAAI,QAAQ;AAAG,cAAM,IAAI,UAAU,0EAA0E;AACjL,aAAO,SAAS,MAAMC,KAAI,SAAS,MAAMA,GAAE,KAAK,QAAQ,IAAIA,KAAIA,GAAE,QAAQD,OAAM,IAAI,QAAQ;AAAA,IAChG;AAkBA,IAAM,sBAAsB;AAE5B,IAAM,8BAA8B;AACpC,IAAM,aAAa,sBAAsB;AAqFlC,IAAM,eAAN,MAAmB;AAAA,MACtB,YAAY,QAAQ,SAASE,SAAQ;AACjC,gCAAwB,IAAI,IAAI;AAChC,6BAAqB,IAAI,MAAM,CAAC,CAAC;AACjC,6BAAqB,IAAI,MAAM,MAAM;AACrC,6BAAqB,IAAI,MAAM,MAAM;AACrC,+BAAuB,MAAM,sBAAsBA,SAAQ,GAAG;AAC9D,+BAAuB,MAAM,sBAAsB,QAAQ,GAAG;AAC9D,YAAI,CAAC;AACD;AACJ,cAAM,EAAE,MAAM,oBAAoB,IAAI;AACtC,mBAAW,CAAC,MAAM,KAAK,KAAK,OAAO,QAAQ,OAAO,GAAG;AACjD,cAAI,CAAC,KAAK,WAAW,mBAAmB,KAAK,CAAC;AAC1C;AACJ,iCAAuB,MAAM,sBAAsB,GAAG,EAAE,IAAI,IAAI;AAAA,QACpE;AAAA,MACJ;AAAA;AAAA;AAAA;AAAA;AAAA,MAKA,IAAI,QAAQ;AAER,cAAM,aAAa,OAAO,KAAK,uBAAuB,MAAM,sBAAsB,GAAG,CAAC,EAAE,KAAK,CAACC,IAAGC,OAAM;AACnG,gBAAM,UAAU,SAASD,GAAE,MAAM,GAAG,EAAE,IAAI,KAAK,GAAG;AAClD,gBAAM,UAAU,SAASC,GAAE,MAAM,GAAG,EAAE,IAAI,KAAK,GAAG;AAClD,iBAAO,UAAU;AAAA,QACrB,CAAC;AAED,eAAO,WAAW,IAAI,CAACC,SAAQ,uBAAuB,MAAM,sBAAsB,GAAG,EAAEA,IAAG,CAAC,EAAE,KAAK,EAAE;AAAA,MACxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA,MAAM,OAAOC,UAAS;AAElB,cAAM,UAAU,uBAAuB,MAAM,yBAAyB,KAAK,mBAAmB,EAAE,KAAK,IAAI;AAEzG,cAAM,UAAU,uBAAuB,MAAM,yBAAyB,KAAK,mBAAmB,EAAE,KAAK,MAAM;AAAA,UACvG,MAAM,uBAAuB,MAAM,sBAAsB,GAAG,EAAE;AAAA,UAC9D;AAAA,UACA,SAAS,EAAE,GAAG,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,SAAS,GAAGA,SAAQ;AAAA,QAC9F,CAAC;AAED,mBAAW,SAAS,SAAS;AACzB,kBAAQ,MAAM,IAAI,IAAI;AAAA,QAC1B;AACA,eAAO,OAAO,OAAO,OAAO;AAAA,MAChC;AAAA;AAAA,MAEA,QAAQ;AACJ,eAAO,OAAO,OAAO,uBAAuB,MAAM,yBAAyB,KAAK,mBAAmB,EAAE,KAAK,IAAI,CAAC;AAAA,MACnH;AAAA,IACJ;AACA,2BAAuB,oBAAI,QAAQ,GAAG,uBAAuB,oBAAI,QAAQ,GAAG,uBAAuB,oBAAI,QAAQ,GAAG,0BAA0B,oBAAI,QAAQ,GAAG,sBAAsB,SAASC,qBAAoB,QAAQ;AAClN,YAAM,aAAa,KAAK,KAAK,OAAO,MAAM,SAAS,UAAU;AAC7D,UAAI,eAAe,GAAG;AAClB,+BAAuB,MAAM,sBAAsB,GAAG,EAAE,OAAO,IAAI,IAAI,OAAO;AAC9E,eAAO,CAAC,MAAM;AAAA,MAClB;AACA,YAAM,UAAU,CAAC;AACjB,eAASC,KAAI,GAAGA,KAAI,YAAYA,MAAK;AACjC,cAAM,OAAO,GAAG,OAAO,IAAI,IAAIA,EAAC;AAChC,cAAM,QAAQ,OAAO,MAAM,OAAOA,KAAI,YAAY,UAAU;AAC5D,gBAAQ,KAAK,EAAE,GAAG,QAAQ,MAAM,MAAM,CAAC;AACvC,+BAAuB,MAAM,sBAAsB,GAAG,EAAE,IAAI,IAAI;AAAA,MACpE;AACA,6BAAuB,MAAM,sBAAsB,GAAG,EAAE,MAAM,2BAA2B;AAAA,QACrF,SAAS,kCAAkC,mBAAmB;AAAA,QAC9D,iBAAiB;AAAA,QACjB,WAAW,OAAO,MAAM;AAAA,QACxB,QAAQ,QAAQ,IAAI,CAACC,OAAMA,GAAE,MAAM,SAAS,2BAA2B;AAAA,MAC3E,CAAC;AACD,aAAO;AAAA,IACX,GAAG,sBAAsB,SAASC,uBAAsB;AACpD,YAAM,gBAAgB,CAAC;AACvB,iBAAW,QAAQ,uBAAuB,MAAM,sBAAsB,GAAG,GAAG;AACxE,eAAO,uBAAuB,MAAM,sBAAsB,GAAG,IAAI,IAAI;AACrE,sBAAc,IAAI,IAAI;AAAA,UAClB;AAAA,UACA,OAAO;AAAA,UACP,SAAS,EAAE,GAAG,uBAAuB,MAAM,sBAAsB,GAAG,EAAE,SAAS,QAAQ,EAAE;AAAA,QAC7F;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA;AAAA;;;AC4LO,SAAS,cAAc,OAAO;AACjC,MAAI,iBAAiB;AACjB,WAAO,aAAa,IAAI,MAAM,IAAI;AACtC,SAAO;AACX;AA3YA,IAKa,WA0BA,aAgBA,cAOA,cA0CA,oBAWA,eAWA,YAaA,oBASA,mBAwBA,kBASA,cAcA,iBAUA,gBAUA,uBASA,kBAgBA,eAeA,uBASA,oBAQA,wBAUA,mBAkBA,kBAaA,kBAaA,cAQA,eAQA,qBAIA,iBAcA,eAQA,cAaA,aAGP,cAwBO,wBAQA,6BAMA,2BASA,kBAMA;AA7ab;AAAA;AAKO,IAAM,YAAN,cAAwB,MAAM;AAAA,MACjC,YAAYC,UAAS,cAAc;AAC/B,YAAIA,oBAAmB,OAAO;AAC1B,gBAAM,QAAW;AAAA,YACb,OAAO,EAAE,KAAKA,UAAS,GAAGA,SAAQ,OAAO,GAAG,aAAa;AAAA,UAC7D,CAAC;AAAA,QACL,WACS,OAAOA,aAAY,UAAU;AAClC,cAAI,wBAAwB,OAAO;AAC/B,2BAAe,EAAE,KAAK,cAAc,GAAG,aAAa,MAAM;AAAA,UAC9D;AACA,gBAAMA,UAAS,YAAY;AAAA,QAC/B,OACK;AACD,gBAAM,QAAWA,QAAO;AAAA,QAC5B;AACA,aAAK,OAAO,KAAK,YAAY;AAE7B,aAAK,OAAO,KAAK,YAAY,QAAQ;AAErC,aAAK,OAAO,KAAK,YAAY,QAAQ;AACrC,cAAM,oBAAoB,MAAM,KAAK,WAAW;AAChD,cAAM,MAAM,6BAA6B,KAAK,KAAK,YAAY,CAAC;AAChE,aAAK,WAAW,GAAG,KAAK,UAAU,OAAO,EAAE,gBAAgB,GAAG;AAAA,MAClE;AAAA,IACJ;AACO,IAAM,cAAN,cAA0B,UAAU;AAAA,IAC3C;AACA,gBAAY,OAAO;AAcZ,IAAM,eAAN,cAA2B,UAAU;AAAA,IAC5C;AACA,iBAAa,OAAO;AAKb,IAAM,eAAN,cAA2B,UAAU;AAAA,IAC5C;AACA,iBAAa,OAAO;AAwCb,IAAM,qBAAN,cAAiC,UAAU;AAAA,IAClD;AACA,uBAAmB,OAAO;AASnB,IAAM,gBAAN,cAA4B,UAAU;AAAA,IAC7C;AACA,kBAAc,OAAO;AASd,IAAM,aAAN,cAAyB,UAAU;AAAA,IAC1C;AACA,eAAW,OAAO;AAWX,IAAM,qBAAN,cAAiC,UAAU;AAAA,IAClD;AACA,uBAAmB,OAAO;AAOnB,IAAM,oBAAN,cAAgC,YAAY;AAAA,MAC/C,cAAc;AACV,cAAM,GAAG,SAAS;AAYlB,aAAK,OAAO;AAAA,MAChB;AAAA,IACJ;AACA,sBAAkB,OAAO;AAOlB,IAAM,mBAAN,cAA+B,UAAU;AAAA,IAChD;AACA,qBAAiB,OAAO;AAOjB,IAAM,eAAN,cAA2B,UAAU;AAAA,IAC5C;AACA,iBAAa,OAAO;AAYb,IAAM,kBAAN,cAA8B,UAAU;AAAA,IAC/C;AACA,oBAAgB,OAAO;AAQhB,IAAM,iBAAN,cAA6B,UAAU;AAAA,IAC9C;AACA,mBAAe,OAAO;AAQf,IAAM,wBAAN,cAAoC,UAAU;AAAA,IACrD;AACA,0BAAsB,OAAO;AAOtB,IAAM,mBAAN,cAA+B,UAAU;AAAA,IAChD;AACA,qBAAiB,OAAO;AAcjB,IAAM,gBAAN,cAA4B,UAAU;AAAA,IAC7C;AACA,kBAAc,OAAO;AAad,IAAM,wBAAN,cAAoC,YAAY;AAAA,IACvD;AACA,0BAAsB,OAAO;AAOtB,IAAM,qBAAN,cAAiC,YAAY;AAAA,IACpD;AACA,uBAAmB,OAAO;AAMnB,IAAM,yBAAN,cAAqC,UAAU;AAAA,IACtD;AACA,2BAAuB,OAAO;AAQvB,IAAM,oBAAN,cAAgC,UAAU;AAAA,IACjD;AACA,sBAAkB,OAAO;AAgBlB,IAAM,mBAAN,cAA+B,YAAY;AAAA,IAClD;AACA,qBAAiB,OAAO;AAWjB,IAAM,mBAAN,cAA+B,YAAY;AAAA,IAClD;AACA,qBAAiB,OAAO;AAWjB,IAAM,eAAN,cAA2B,UAAU;AAAA,IAC5C;AACA,iBAAa,OAAO;AAMb,IAAM,gBAAN,cAA4B,UAAU;AAAA,IAC7C;AACA,kBAAc,OAAO;AAMd,IAAM,sBAAN,cAAkC,UAAU;AAAA,IACnD;AACA,wBAAoB,OAAO;AAEpB,IAAM,kBAAN,cAA8B,UAAU;AAAA,IAC/C;AACA,oBAAgB,OAAO;AAYhB,IAAM,gBAAN,cAA4B,UAAU;AAAA,IAC7C;AACA,kBAAc,OAAO;AAMd,IAAM,eAAN,cAA2B,UAAU;AAAA,IAC5C;AACA,iBAAa,OAAO;AAWb,IAAM,cAAN,cAA0B,YAAY;AAAA,IAC7C;AACA,gBAAY,OAAO;AACnB,IAAM,eAAe,oBAAI,IAAI;AAAA,MACzB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAC;AAeM,IAAM,yBAAN,cAAqC,UAAU;AAAA,IACtD;AACA,2BAAuB,OAAO;AAMvB,IAAM,8BAAN,cAA0C,UAAU;AAAA,IAC3D;AACA,gCAA4B,OAAO;AAI5B,IAAM,4BAAN,cAAwC,UAAU;AAAA,IACzD;AACA,8BAA0B,OAAO;AAO1B,IAAM,mBAAN,cAA+B,YAAY;AAAA,IAClD;AACA,qBAAiB,OAAO;AAIjB,IAAM,gCAAN,cAA4C,UAAU;AAAA,IAC7D;AACA,kCAA8B,OAAO;AAAA;AAAA;;;AC5arC,SAAS,eAAe,KAAK,SAAS;AAClC,MAAI;AACA,WAAO,WAAW,KAAK,IAAI,IAAI,KAAK,IAAI,WAAW,GAAG,IAAI,UAAU,MAAS,EAAE,QAAQ;AAAA,EAC3F,QACM;AACF,WAAO;AAAA,EACX;AACJ;AACA,SAAS,eAAe,SAAS;AAC7B,SAAO,uBAAuB,KAAK,OAAO;AAC9C;AAqCO,SAAS,aAAa,SAASC,UAAS;AAC3C,QAAM,EAAE,IAAI,IAAI;AAChB,QAAM,WAAW,CAAC;AAClB,MAAI,CAAC,UAAUA,SAAQ;AACnB,aAAS,KAAK,eAAe;AACjC,MAAI,CAACA,SAAQ,WAAW;AACpB,WAAO,IAAI,cAAc,kCAAkC,QAAQ,GAAG,EAAE;AAAA,EAC5E;AACA,MAAI,CAACA,SAAQ,QAAQ;AACjB,WAAO,IAAI,cAAc,2BAA2B;AAAA,EACxD;AACA,QAAM,mBAAmB,QAAQ,OAAO;AACxC,MAAI,oBAAoB,CAAC,eAAe,kBAAkB,IAAI,MAAM,GAAG;AACnE,WAAO,IAAI,mBAAmB,mCAAmC,gBAAgB,EAAE;AAAA,EACvF;AACA,QAAM,EAAE,aAAa,mBAAmB,IAAI,eAAeA,SAAQ,oBAAoB,IAAI,aAAa,QAAQ;AAChH,QAAM,oBAAoB,QAAQ,UAAUA,SAAQ,SAAS,aAAa,QAAQ,mBAAmB,IAAI;AACzG,MAAI,qBAAqB,CAAC,eAAe,mBAAmB,IAAI,MAAM,GAAG;AACrE,WAAO,IAAI,mBAAmB,mCAAmC,iBAAiB,EAAE;AAAA,EACxF;AAEA,MAAI,2BAA2B;AAC/B,aAAWC,MAAKD,SAAQ,WAAW;AAC/B,UAAM,WAAW,OAAOC,OAAM,aAAaA,GAAE,IAAIA;AACjD,SAAK,SAAS,SAAS,WAAW,SAAS,SAAS,WAChD,EAAE,SAAS,UAAU,SAAS,SAAS,SAAS;AAChD,YAAM,EAAE,eAAeC,IAAG,OAAOC,IAAG,UAAUC,GAAE,IAAI;AACpD,UAAIC;AACJ,UAAI,OAAOH,OAAM,YAAY,CAACA,IAAG;AAC7B,QAAAG,OAAM;AAAA,eACD,OAAOF,OAAM,YAAY,CAACA,IAAG;AAClC,QAAAE,OAAM;AAAA,eACD,OAAOD,OAAM,YAAY,CAACA,IAAG;AAClC,QAAAC,OAAM;AACV,UAAIA,MAAK;AACL,eAAO,IAAI,iBAAiB,aAAa,SAAS,EAAE,sCAAsCA,IAAG,uDAAuD;AAAA,MACxJ;AAAA,IACJ;AACA,QAAI,SAAS,SAAS;AAClB,uBAAiB;AAAA,aACZ,SAAS,SAAS;AACvB,iBAAW;AAAA,aACN,SAAS,SAAS,YAAY;AACnC,oBAAc;AAEd,UAAI,SAAS,gCAAgC,CAAC,eAAe,SAAS,4BAA4B,GAAG;AACjG,eAAO,IAAI,UAAU,gCAAgC,SAAS,EAAE,oCAAoC,SAAS,4BAA4B,kCAAkC;AAAA,MAC/K;AACA,UAAI,SAAS,qBAAqB;AAE9B,YAAI,0BAA0B;AAC1B,iBAAO,IAAI,uBAAuB,+HAA+H;AAAA,QACrK;AACA,mCAA2B;AAE3B,cAAM,uBAAuB,OAAO,OAAO,SAAS,UAAU,EAAE,KAAK,CAACC,OAAMA,GAAE,gBAAgBA,GAAE,aAAa,SAAS,EAAE,QAAQ,UAAU,IAAI,EAAE;AAChJ,YAAI,CAAC,sBAAsB;AACvB,iBAAO,IAAI,4BAA4B,aAAa,SAAS,EAAE,kHAAkH;AAAA,QACrL;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACA,MAAI,gBAAgB;AAChB,UAAM,aAAaN,SAAQ,SAAS,aAAa;AACjD,UAAM,kBAAkB,CAACA,SAAQ,UAAU,KAAK,CAACC,QAAO,OAAOA,OAAM,aAAaA,GAAE,IAAIA,IAAG,SAAS,aAAa;AACjH,QAAI,cAAc,iBAAiB;AAC/B,aAAO,IAAI,oBAAoB,uEAAuE;AAAA,IAC1G;AACA,UAAM,yBAAyBD,SAAQ,UAAU,KAAK,CAACC,OAAM;AACzD,YAAM,WAAW,OAAOA,OAAM,aAAaA,GAAE,IAAIA;AACjD,aAAO,SAAS,SAAS,iBAAiB,CAAC,SAAS;AAAA,IACxD,CAAC;AACD,QAAI,wBAAwB;AACxB,aAAO,IAAI,iBAAiB,+EAA+E;AAAA,IAC/G;AAAA,EACJ;AACA,QAAM,EAAE,SAAS,SAAAM,SAAQ,IAAIP;AAC7B,MAAI,kBAAkB,CAAC;AACvB,MAAI,YAAYO,UAAS,aAAa,cAAe,CAACA,UAAS,YAAY,SAAU;AACjF,QAAI,UAAU;AACV,UAAI,CAAC;AACD,eAAO,IAAI,eAAe,kCAAkC;AAChE,sBAAgB,KAAK,GAAG,YAAY;AAAA,IACxC,OACK;AACD,UAAI,CAAC;AACD,eAAO,IAAI,eAAe,uCAAuC;AACrE,sBAAgB,KAAK,GAAG,cAAc;AAAA,IAC1C;AAAA,EACJ;AACA,MAAI,aAAa;AAEb,QAAIP,SAAQ,cAAc,gBAAgB;AACtC,eAAS,KAAK,uBAAuB;AAAA,IACzC,OACK;AACD,aAAO,IAAI,8BAA8B,gHAAgH;AAAA,IAC7J;AACA,QAAI,CAAC;AACD,aAAO,IAAI,eAAe,+BAA+B;AAC7D,oBAAgB,KAAK,GAAG,eAAe;AAAA,EAC3C;AACA,MAAI,SAAS;AACT,UAAM,UAAU,gBAAgB,OAAO,CAACQ,OAAM,EAAEA,MAAK,QAAQ;AAC7D,QAAI,QAAQ,QAAQ;AAChB,aAAO,IAAI,sBAAsB,0CAA0C,QAAQ,KAAK,IAAI,CAAC,EAAE;AAAA,IACnG;AAAA,EACJ;AACA,MAAI,CAAC;AACD,aAAS;AACb,SAAO;AACX;AAjKA,IAEI,QAYA,gBACA,UACA,aACE,cAKA,gBAYA;AAlCN;AAAA;AAAA;AACA;AACA,IAAI,SAAS;AAYb,IAAI,iBAAiB;AACrB,IAAI,WAAW;AACf,IAAI,cAAc;AAClB,IAAM,eAAe;AAAA,MACjB;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AACA,IAAM,iBAAiB;AAAA,MACnB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AACA,IAAM,kBAAkB;AAAA,MACpB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAAA;AAAA;;;AC3CA,IAAM,WASC;AATP;AAAA;AAAA,IAAM,YAAY,MAAM;AACpB,UAAI,OAAO,eAAe;AACtB,eAAO;AACX,UAAI,OAAO,SAAS;AAChB,eAAO;AACX,UAAI,OAAO,WAAW;AAClB,eAAO;AACX,YAAM,IAAI,MAAM,gCAAgC;AAAA,IACpD;AACA,IAAO,eAAQ,OAAOC,SAAQ,KAAK,MAAM,MAAM,WAAW;AACtD,YAAM,EAAE,QAAQ,EAAE,OAAO,EAAG,IAAI,UAAU;AAC1C,aAAO,IAAI,WAAW,MAAM,OAAO,WAAW;AAAA,QAC1C,MAAM;AAAA,QACN,MAAM,OAAOA,QAAO,OAAO,CAAC,CAAC;AAAA,QAC7B;AAAA,QACA;AAAA,MACJ,GAAG,MAAM,OAAO,UAAU,OAAO,KAAK,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,UAAU,CAAC,CAAC;AAAA,IACtF;AAAA;AAAA;;;AChBA,SAAS,gBAAgBC,SAAQ;AAC7B,UAAQA,SAAQ;AAAA,IACZ,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACD,aAAOA;AAAA,IACX;AACI,YAAM,IAAI,UAAU,4BAA4B;AAAA,EACxD;AACJ;AACA,SAAS,oBAAoB,OAAO,OAAO;AACvC,MAAI,OAAO,UAAU;AACjB,WAAO,IAAI,YAAY,EAAE,OAAO,KAAK;AACzC,MAAI,EAAE,iBAAiB;AACnB,UAAM,IAAI,UAAU,IAAI,KAAK,kDAAkD;AACnF,SAAO;AACX;AACA,SAAS,aAAa,OAAO;AACzB,QAAM,MAAM,oBAAoB,OAAO,KAAK;AAC5C,MAAI,CAAC,IAAI;AACL,UAAM,IAAI,UAAU,2CAA2C;AACnE,SAAO;AACX;AACA,SAAS,cAAc,OAAO;AAC1B,QAAM,OAAO,oBAAoB,OAAO,MAAM;AAC9C,MAAI,KAAK,aAAa,MAAM;AACxB,UAAM,UAAU,8CAA8C;AAAA,EAClE;AACA,SAAO;AACX;AACA,SAAS,gBAAgB,OAAOA,SAAQ;AACpC,MAAI,OAAO,UAAU,YAAY,CAAC,OAAO,UAAU,KAAK,KAAK,QAAQ,GAAG;AACpE,UAAM,IAAI,UAAU,qCAAqC;AAAA,EAC7D;AACA,QAAM,UAAU,SAASA,QAAO,OAAO,CAAC,GAAG,EAAE,KAAK,KAAK;AACvD,MAAI,QAAQ,MAAM,SAAS;AACvB,UAAM,IAAI,UAAU,oBAAoB;AAAA,EAC5C;AACA,SAAO;AACX;AACA,eAAe,KAAKA,SAAQ,KAAK,MAAM,MAAM,QAAQ;AACjD,SAAO,aAAO,gBAAgBA,OAAM,GAAG,aAAa,GAAG,GAAG,oBAAoB,MAAM,MAAM,GAAG,cAAc,IAAI,GAAG,gBAAgB,QAAQA,OAAM,CAAC;AACrJ;AA5CA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IAAO,mBACM;AADb;AAAA;AAAA,IAAO,oBAAQ;AACR,IAAM,cAAc,CAACC,SAAQA,gBAAe;AAAA;AAAA;;;ACDnD,IACM,QAIC;AALP;AAAA;AAAA;AACA,IAAM,SAAS,OAAO,WAAW,SAAS;AACtC,YAAM,eAAe,OAAO,UAAU,MAAM,EAAE,CAAC;AAC/C,aAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,OAAO,cAAc,IAAI,CAAC;AAAA,IACxE;AACA,IAAO,iBAAQ;AAAA;AAAA;;;ACDR,SAAS,UAAU,SAAS;AAC/B,QAAM,OAAO,QAAQ,OAAO,CAAC,KAAK,EAAE,OAAO,MAAM,MAAM,QAAQ,CAAC;AAChE,QAAMC,OAAM,IAAI,WAAW,IAAI;AAC/B,MAAIC,KAAI;AACR,aAAW,UAAU,SAAS;AAC1B,IAAAD,KAAI,IAAI,QAAQC,EAAC;AACjB,IAAAA,MAAK,OAAO;AAAA,EAChB;AACA,SAAOD;AACX;AACO,SAAS,IAAIE,MAAK,UAAU;AAC/B,SAAO,OAAO,QAAQ,OAAOA,IAAG,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,GAAG,QAAQ;AACpE;AACA,SAAS,cAAcF,MAAK,OAAO,QAAQ;AACvC,MAAI,QAAQ,KAAK,SAAS,WAAW;AACjC,UAAM,IAAI,WAAW,6BAA6B,YAAY,CAAC,cAAc,KAAK,EAAE;AAAA,EACxF;AACA,EAAAA,KAAI,IAAI,CAAC,UAAU,IAAI,UAAU,IAAI,UAAU,GAAG,QAAQ,GAAI,GAAG,MAAM;AAC3E;AACO,SAAS,SAAS,OAAO;AAC5B,QAAM,OAAO,KAAK,MAAM,QAAQ,SAAS;AACzC,QAAM,MAAM,QAAQ;AACpB,QAAMA,OAAM,IAAI,WAAW,CAAC;AAC5B,gBAAcA,MAAK,MAAM,CAAC;AAC1B,gBAAcA,MAAK,KAAK,CAAC;AACzB,SAAOA;AACX;AACO,SAAS,SAAS,OAAO;AAC5B,QAAMA,OAAM,IAAI,WAAW,CAAC;AAC5B,gBAAcA,MAAK,KAAK;AACxB,SAAOA;AACX;AACO,SAAS,eAAe,OAAO;AAClC,SAAO,OAAO,SAAS,MAAM,MAAM,GAAG,KAAK;AAC/C;AACA,eAAsB,UAAU,QAAQ,MAAM,OAAO;AACjD,QAAM,aAAa,KAAK,MAAM,QAAQ,KAAK,EAAE;AAC7C,QAAM,MAAM,IAAI,WAAW,aAAa,EAAE;AAC1C,WAAS,OAAO,GAAG,OAAO,YAAY,QAAQ;AAC1C,UAAMA,OAAM,IAAI,WAAW,IAAI,OAAO,SAAS,MAAM,MAAM;AAC3D,IAAAA,KAAI,IAAI,SAAS,OAAO,CAAC,CAAC;AAC1B,IAAAA,KAAI,IAAI,QAAQ,CAAC;AACjB,IAAAA,KAAI,IAAI,OAAO,IAAI,OAAO,MAAM;AAChC,QAAI,IAAI,MAAM,eAAO,UAAUA,IAAG,GAAG,OAAO,EAAE;AAAA,EAClD;AACA,SAAO,IAAI,MAAM,GAAG,QAAQ,CAAC;AACjC;AAlDA,IACa,SACA,SACP;AAHN;AAAA;AAAA;AACO,IAAM,UAAU,IAAI,YAAY;AAChC,IAAM,UAAU,IAAI,YAAY;AACvC,IAAM,YAAY,KAAK;AAAA;AAAA;;;ACHvB,IACa,cAYA,QAGA,cAQA;AAxBb;AAAA;AAAA;AACO,IAAM,eAAe,CAAC,UAAU;AACnC,UAAI,YAAY;AAChB,UAAI,OAAO,cAAc,UAAU;AAC/B,oBAAY,QAAQ,OAAO,SAAS;AAAA,MACxC;AACA,YAAMG,cAAa;AACnB,YAAM,MAAM,CAAC;AACb,eAASC,KAAI,GAAGA,KAAI,UAAU,QAAQA,MAAKD,aAAY;AACnD,YAAI,KAAK,OAAO,aAAa,MAAM,MAAM,UAAU,SAASC,IAAGA,KAAID,WAAU,CAAC,CAAC;AAAA,MACnF;AACA,aAAO,KAAK,IAAI,KAAK,EAAE,CAAC;AAAA,IAC5B;AACO,IAAM,SAAS,CAAC,UAAU;AAC7B,aAAO,aAAa,KAAK,EAAE,QAAQ,MAAM,EAAE,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG;AAAA,IACvF;AACO,IAAM,eAAe,CAAC,YAAY;AACrC,YAAM,SAAS,KAAK,OAAO;AAC3B,YAAM,QAAQ,IAAI,WAAW,OAAO,MAAM;AAC1C,eAASC,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK;AACpC,cAAMA,EAAC,IAAI,OAAO,WAAWA,EAAC;AAAA,MAClC;AACA,aAAO;AAAA,IACX;AACO,IAAM,SAAS,CAAC,UAAU;AAC7B,UAAI,UAAU;AACd,UAAI,mBAAmB,YAAY;AAC/B,kBAAU,QAAQ,OAAO,OAAO;AAAA,MACpC;AACA,gBAAU,QAAQ,QAAQ,MAAM,GAAG,EAAE,QAAQ,MAAM,GAAG,EAAE,QAAQ,OAAO,EAAE;AACzE,UAAI;AACA,eAAO,aAAa,OAAO;AAAA,MAC/B,QACM;AACF,cAAM,IAAI,UAAU,mDAAmD;AAAA,MAC3E;AAAA,IACJ;AAAA;AAAA;;;ACpCA,IAAa,WAWA,0BAWA,YAWA,mBASA,kBASA,qBAUA,YAkBA,YASA;AAxFb,IAAAC,eAAA;AAAA;AAAO,IAAM,YAAN,cAAwB,MAAM;AAAA,MACjC,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,MACA,YAAYC,UAAS;AACjB,cAAMA,QAAO;AACb,aAAK,OAAO;AACZ,aAAK,OAAO,KAAK,YAAY;AAC7B,cAAM,oBAAoB,MAAM,KAAK,WAAW;AAAA,MACpD;AAAA,IACJ;AACO,IAAM,2BAAN,cAAuC,UAAU;AAAA,MACpD,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,MACA,YAAYA,UAAS,QAAQ,eAAe,SAAS,eAAe;AAChE,cAAMA,QAAO;AACb,aAAK,OAAO;AACZ,aAAK,QAAQ;AACb,aAAK,SAAS;AAAA,MAClB;AAAA,IACJ;AACO,IAAM,aAAN,cAAyB,UAAU;AAAA,MACtC,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,MACA,YAAYA,UAAS,QAAQ,eAAe,SAAS,eAAe;AAChE,cAAMA,QAAO;AACb,aAAK,OAAO;AACZ,aAAK,QAAQ;AACb,aAAK,SAAS;AAAA,MAClB;AAAA,IACJ;AACO,IAAM,oBAAN,cAAgC,UAAU;AAAA,MAC7C,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,OAAO;AAAA,MAChB;AAAA,MACA,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,IACJ;AACO,IAAM,mBAAN,cAA+B,UAAU;AAAA,MAC5C,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,OAAO;AAAA,MAChB;AAAA,MACA,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,IACJ;AACO,IAAM,sBAAN,cAAkC,UAAU;AAAA,MAC/C,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,OAAO;AACZ,aAAK,UAAU;AAAA,MACnB;AAAA,MACA,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,IACJ;AACO,IAAM,aAAN,cAAyB,UAAU;AAAA,MACtC,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,OAAO;AAAA,MAChB;AAAA,MACA,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,IACJ;AAUO,IAAM,aAAN,cAAyB,UAAU;AAAA,MACtC,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,OAAO;AAAA,MAChB;AAAA,MACA,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,IACJ;AACO,IAAM,aAAN,cAAyB,UAAU;AAAA,MACtC,cAAc;AACV,cAAM,GAAG,SAAS;AAClB,aAAK,OAAO;AAAA,MAChB;AAAA,MACA,WAAW,OAAO;AACd,eAAO;AAAA,MACX;AAAA,IACJ;AAAA;AAAA;;;AChGA,IACO;AADP;AAAA;AAAA;AACA,IAAO,iBAAQ,kBAAO,gBAAgB,KAAK,iBAAM;AAAA;AAAA;;;ACC1C,SAAS,UAAUC,MAAK;AAC3B,UAAQA,MAAK;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,iBAAiB,8BAA8BA,IAAG,EAAE;AAAA,EACtE;AACJ;AAlBA,IAmBO;AAnBP;AAAA;AAAA,IAAAC;AACA;AAkBA,IAAO,aAAQ,CAACD,SAAQ,eAAO,IAAI,WAAW,UAAUA,IAAG,KAAK,CAAC,CAAC;AAAA;AAAA;;;ACnBlE,IAEM,eAKC;AAPP;AAAA;AAAA,IAAAE;AACA;AACA,IAAM,gBAAgB,CAACC,MAAK,OAAO;AAC/B,UAAI,GAAG,UAAU,MAAM,UAAUA,IAAG,GAAG;AACnC,cAAM,IAAI,WAAW,sCAAsC;AAAA,MAC/D;AAAA,IACJ;AACA,IAAO,0BAAQ;AAAA;AAAA;;;ACPf,IACM,gBAMC;AAPP;AAAA;AAAA,IAAAC;AACA,IAAM,iBAAiB,CAAC,KAAK,aAAa;AACtC,YAAM,SAAS,IAAI,cAAc;AACjC,UAAI,WAAW,UAAU;AACrB,cAAM,IAAI,WAAW,mDAAmD,QAAQ,cAAc,MAAM,OAAO;AAAA,MAC/G;AAAA,IACJ;AACA,IAAO,2BAAQ;AAAA;AAAA;;;ACPf,IAAM,iBAkBC;AAlBP;AAAA;AAAA,IAAM,kBAAkB,CAACC,IAAGC,OAAM;AAC9B,UAAI,EAAED,cAAa,aAAa;AAC5B,cAAM,IAAI,UAAU,iCAAiC;AAAA,MACzD;AACA,UAAI,EAAEC,cAAa,aAAa;AAC5B,cAAM,IAAI,UAAU,kCAAkC;AAAA,MAC1D;AACA,UAAID,GAAE,WAAWC,GAAE,QAAQ;AACvB,cAAM,IAAI,UAAU,yCAAyC;AAAA,MACjE;AACA,YAAM,MAAMD,GAAE;AACd,UAAI,MAAM;AACV,UAAIE,KAAI;AACR,aAAO,EAAEA,KAAI,KAAK;AACd,eAAOF,GAAEE,EAAC,IAAID,GAAEC,EAAC;AAAA,MACrB;AACA,aAAO,QAAQ;AAAA,IACnB;AACA,IAAO,4BAAQ;AAAA;AAAA;;;AClBf,SAAS,SAAS,MAAM,OAAO,kBAAkB;AAC7C,SAAO,IAAI,UAAU,kDAAkD,IAAI,YAAY,IAAI,EAAE;AACjG;AACA,SAAS,YAAY,WAAW,MAAM;AAClC,SAAO,UAAU,SAAS;AAC9B;AACA,SAAS,cAAcC,OAAM;AACzB,SAAO,SAASA,MAAK,KAAK,MAAM,CAAC,GAAG,EAAE;AAC1C;AAaA,SAAS,WAAWC,MAAK,QAAQ;AAC7B,MAAI,OAAO,UAAU,CAAC,OAAO,KAAK,CAAC,aAAaA,KAAI,OAAO,SAAS,QAAQ,CAAC,GAAG;AAC5E,QAAI,MAAM;AACV,QAAI,OAAO,SAAS,GAAG;AACnB,YAAM,OAAO,OAAO,IAAI;AACxB,aAAO,UAAU,OAAO,KAAK,IAAI,CAAC,QAAQ,IAAI;AAAA,IAClD,WACS,OAAO,WAAW,GAAG;AAC1B,aAAO,UAAU,OAAO,CAAC,CAAC,OAAO,OAAO,CAAC,CAAC;AAAA,IAC9C,OACK;AACD,aAAO,GAAG,OAAO,CAAC,CAAC;AAAA,IACvB;AACA,UAAM,IAAI,UAAU,GAAG;AAAA,EAC3B;AACJ;AA0DO,SAAS,kBAAkBA,MAAKC,SAAQ,QAAQ;AACnD,UAAQA,MAAK;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,WAAW;AACZ,UAAI,CAAC,YAAYD,KAAI,WAAW,SAAS;AACrC,cAAM,SAAS,SAAS;AAC5B,YAAM,WAAW,SAASC,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AAC7C,YAAM,SAASD,KAAI,UAAU;AAC7B,UAAI,WAAW;AACX,cAAM,SAAS,UAAU,kBAAkB;AAC/C;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,UAAU;AACX,UAAI,CAAC,YAAYA,KAAI,WAAW,QAAQ;AACpC,cAAM,SAAS,QAAQ;AAC3B,YAAM,WAAW,SAASC,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AAC7C,YAAM,SAASD,KAAI,UAAU;AAC7B,UAAI,WAAW;AACX,cAAM,SAAS,UAAU,kBAAkB;AAC/C;AAAA,IACJ;AAAA,IACA,KAAK,QAAQ;AACT,cAAQA,KAAI,UAAU,MAAM;AAAA,QACxB,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD;AAAA,QACJ;AACI,gBAAM,SAAS,uBAAuB;AAAA,MAC9C;AACA;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACD,UAAI,CAAC,YAAYA,KAAI,WAAW,QAAQ;AACpC,cAAM,SAAS,QAAQ;AAC3B;AAAA,IACJ,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,gBAAgB;AACjB,UAAI,CAAC,YAAYA,KAAI,WAAW,UAAU;AACtC,cAAM,SAAS,UAAU;AAC7B,YAAM,WAAW,SAASC,KAAI,MAAM,CAAC,GAAG,EAAE,KAAK;AAC/C,YAAM,SAAS,cAAcD,KAAI,UAAU,IAAI;AAC/C,UAAI,WAAW;AACX,cAAM,SAAS,OAAO,QAAQ,IAAI,gBAAgB;AACtD;AAAA,IACJ;AAAA,IACA;AACI,YAAM,IAAI,UAAU,2CAA2C;AAAA,EACvE;AACA,aAAWA,MAAK,MAAM;AAC1B;AAvJA;AAAA;AAAA;AAAA;;;ACAA,SAAS,QAAQ,KAAK,WAAWE,QAAO;AACpC,MAAIA,OAAM,SAAS,GAAG;AAClB,UAAM,OAAOA,OAAM,IAAI;AACvB,WAAO,eAAeA,OAAM,KAAK,IAAI,CAAC,QAAQ,IAAI;AAAA,EACtD,WACSA,OAAM,WAAW,GAAG;AACzB,WAAO,eAAeA,OAAM,CAAC,CAAC,OAAOA,OAAM,CAAC,CAAC;AAAA,EACjD,OACK;AACD,WAAO,WAAWA,OAAM,CAAC,CAAC;AAAA,EAC9B;AACA,MAAI,UAAU,MAAM;AAChB,WAAO,aAAa,MAAM;AAAA,EAC9B,WACS,OAAO,WAAW,cAAc,OAAO,MAAM;AAClD,WAAO,sBAAsB,OAAO,IAAI;AAAA,EAC5C,WACS,OAAO,WAAW,YAAY,UAAU,MAAM;AACnD,QAAI,OAAO,aAAa,MAAM;AAC1B,aAAO,4BAA4B,OAAO,YAAY,IAAI;AAAA,IAC9D;AAAA,EACJ;AACA,SAAO;AACX;AAIO,SAAS,QAAQC,MAAK,WAAWD,QAAO;AAC3C,SAAO,QAAQ,eAAeC,IAAG,uBAAuB,QAAQ,GAAGD,MAAK;AAC5E;AA7BA,IAwBO;AAxBP;AAAA;AAwBA,IAAO,4BAAQ,CAAC,WAAWA,WAAU;AACjC,aAAO,QAAQ,gBAAgB,QAAQ,GAAGA,MAAK;AAAA,IACnD;AAAA;AAAA;;;AC1BA,IACO,qBAGM;AAJb;AAAA;AAAA;AACA,IAAO,sBAAQ,CAACE,SAAQ;AACpB,aAAO,YAAYA,IAAG;AAAA,IAC1B;AACO,IAAM,QAAQ,CAAC,WAAW;AAAA;AAAA;;;ACKjC,eAAe,WAAWC,MAAK,KAAK,YAAY,IAAI,KAAK,KAAK;AAC1D,MAAI,EAAE,eAAe,aAAa;AAC9B,UAAM,IAAI,UAAU,0BAAgB,KAAK,YAAY,CAAC;AAAA,EAC1D;AACA,QAAM,UAAU,SAASA,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AAC5C,QAAM,SAAS,MAAM,kBAAO,OAAO,UAAU,OAAO,IAAI,SAAS,WAAW,CAAC,GAAG,WAAW,OAAO,CAAC,SAAS,CAAC;AAC7G,QAAM,SAAS,MAAM,kBAAO,OAAO,UAAU,OAAO,IAAI,SAAS,GAAG,WAAW,CAAC,GAAG;AAAA,IAC/E,MAAM,OAAO,WAAW,CAAC;AAAA,IACzB,MAAM;AAAA,EACV,GAAG,OAAO,CAAC,MAAM,CAAC;AAClB,QAAM,UAAU,OAAO,KAAK,IAAI,YAAY,SAAS,IAAI,UAAU,CAAC,CAAC;AACrE,QAAM,cAAc,IAAI,YAAY,MAAM,kBAAO,OAAO,KAAK,QAAQ,QAAQ,OAAO,GAAG,MAAM,GAAG,WAAW,CAAC,CAAC;AAC7G,MAAI;AACJ,MAAI;AACA,qBAAiB,0BAAgB,KAAK,WAAW;AAAA,EACrD,QACM;AAAA,EACN;AACA,MAAI,CAAC,gBAAgB;AACjB,UAAM,IAAI,oBAAoB;AAAA,EAClC;AACA,MAAI;AACJ,MAAI;AACA,gBAAY,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ,EAAE,IAAI,MAAM,UAAU,GAAG,QAAQ,UAAU,CAAC;AAAA,EACvG,QACM;AAAA,EACN;AACA,MAAI,CAAC,WAAW;AACZ,UAAM,IAAI,oBAAoB;AAAA,EAClC;AACA,SAAO;AACX;AACA,eAAe,WAAWA,MAAK,KAAK,YAAY,IAAI,KAAK,KAAK;AAC1D,MAAI;AACJ,MAAI,eAAe,YAAY;AAC3B,aAAS,MAAM,kBAAO,OAAO,UAAU,OAAO,KAAK,WAAW,OAAO,CAAC,SAAS,CAAC;AAAA,EACpF,OACK;AACD,sBAAkB,KAAKA,MAAK,SAAS;AACrC,aAAS;AAAA,EACb;AACA,MAAI;AACA,WAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ;AAAA,MAC9C,gBAAgB;AAAA,MAChB;AAAA,MACA,MAAM;AAAA,MACN,WAAW;AAAA,IACf,GAAG,QAAQ,OAAO,YAAY,GAAG,CAAC,CAAC;AAAA,EACvC,QACM;AACF,UAAM,IAAI,oBAAoB;AAAA,EAClC;AACJ;AA7DA,IA8DM,SA4BC;AA1FP;AAAA;AAAA;AACA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AAsDA,IAAM,UAAU,OAAOD,MAAK,KAAK,YAAY,IAAI,KAAK,QAAQ;AAC1D,UAAI,CAAC,YAAY,GAAG,KAAK,EAAE,eAAe,aAAa;AACnD,cAAM,IAAI,UAAU,0BAAgB,KAAK,GAAG,OAAO,YAAY,CAAC;AAAA,MACpE;AACA,UAAI,CAAC,IAAI;AACL,cAAM,IAAI,WAAW,mCAAmC;AAAA,MAC5D;AACA,UAAI,CAAC,KAAK;AACN,cAAM,IAAI,WAAW,gCAAgC;AAAA,MACzD;AACA,8BAAcA,MAAK,EAAE;AACrB,cAAQA,MAAK;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,cAAI,eAAe;AACf,qCAAe,KAAK,SAASA,KAAI,MAAM,EAAE,GAAG,EAAE,CAAC;AACnD,iBAAO,WAAWA,MAAK,KAAK,YAAY,IAAI,KAAK,GAAG;AAAA,QACxD,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,cAAI,eAAe;AACf,qCAAe,KAAK,SAASA,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC;AACrD,iBAAO,WAAWA,MAAK,KAAK,YAAY,IAAI,KAAK,GAAG;AAAA,QACxD;AACI,gBAAM,IAAI,iBAAiB,8CAA8C;AAAA,MACjF;AAAA,IACJ;AACA,IAAO,kBAAQ;AAAA;AAAA;;;AC1Ff,IAAM,YAqBC;AArBP;AAAA;AAAA,IAAM,aAAa,IAAIE,aAAY;AAC/B,YAAM,UAAUA,SAAQ,OAAO,OAAO;AACtC,UAAI,QAAQ,WAAW,KAAK,QAAQ,WAAW,GAAG;AAC9C,eAAO;AAAA,MACX;AACA,UAAI;AACJ,iBAAW,UAAU,SAAS;AAC1B,cAAM,aAAa,OAAO,KAAK,MAAM;AACrC,YAAI,CAAC,OAAO,IAAI,SAAS,GAAG;AACxB,gBAAM,IAAI,IAAI,UAAU;AACxB;AAAA,QACJ;AACA,mBAAW,aAAa,YAAY;AAChC,cAAI,IAAI,IAAI,SAAS,GAAG;AACpB,mBAAO;AAAA,UACX;AACA,cAAI,IAAI,SAAS;AAAA,QACrB;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AACA,IAAO,sBAAQ;AAAA;AAAA;;;ACrBf,SAAS,aAAa,OAAO;AACzB,SAAO,OAAO,UAAU,YAAY,UAAU;AAClD;AACe,SAAR,SAA0B,OAAO;AACpC,MAAI,CAAC,aAAa,KAAK,KAAK,OAAO,UAAU,SAAS,KAAK,KAAK,MAAM,mBAAmB;AACrF,WAAO;AAAA,EACX;AACA,MAAI,OAAO,eAAe,KAAK,MAAM,MAAM;AACvC,WAAO;AAAA,EACX;AACA,MAAI,QAAQ;AACZ,SAAO,OAAO,eAAe,KAAK,MAAM,MAAM;AAC1C,YAAQ,OAAO,eAAe,KAAK;AAAA,EACvC;AACA,SAAO,OAAO,eAAe,KAAK,MAAM;AAC5C;AAfA;AAAA;AAAA;AAAA;;;ACAA,IAAM,gBAKC;AALP;AAAA;AAAA,IAAM,iBAAiB;AAAA,MACnB,EAAE,MAAM,WAAW,MAAM,OAAO;AAAA,MAChC;AAAA,MACA,CAAC,MAAM;AAAA,IACX;AACA,IAAO,gBAAQ;AAAA;AAAA;;;ACAf,SAAS,aAAaC,MAAKC,MAAK;AAC5B,MAAID,KAAI,UAAU,WAAW,SAASC,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE,GAAG;AACxD,UAAM,IAAI,UAAU,6BAA6BA,IAAG,EAAE;AAAA,EAC1D;AACJ;AACA,SAAS,aAAaD,MAAKC,MAAK,OAAO;AACnC,MAAI,YAAYD,IAAG,GAAG;AAClB,sBAAkBA,MAAKC,MAAK,KAAK;AACjC,WAAOD;AAAA,EACX;AACA,MAAIA,gBAAe,YAAY;AAC3B,WAAO,kBAAO,OAAO,UAAU,OAAOA,MAAK,UAAU,MAAM,CAAC,KAAK,CAAC;AAAA,EACtE;AACA,QAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,OAAO,YAAY,CAAC;AACpE;AAnBA,IAoBa,MAMA;AA1Bb;AAAA;AAAA;AACA;AACA;AACA;AACA;AAgBO,IAAM,OAAO,OAAOC,MAAKD,MAAK,QAAQ;AACzC,YAAM,YAAY,MAAM,aAAaA,MAAKC,MAAK,SAAS;AACxD,mBAAa,WAAWA,IAAG;AAC3B,YAAM,eAAe,MAAM,kBAAO,OAAO,UAAU,OAAO,KAAK,GAAG,aAAc;AAChF,aAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ,OAAO,cAAc,WAAW,QAAQ,CAAC;AAAA,IAC/F;AACO,IAAM,SAAS,OAAOA,MAAKD,MAAK,iBAAiB;AACpD,YAAM,YAAY,MAAM,aAAaA,MAAKC,MAAK,WAAW;AAC1D,mBAAa,WAAWA,IAAG;AAC3B,YAAM,eAAe,MAAM,kBAAO,OAAO,UAAU,OAAO,cAAc,WAAW,UAAU,GAAG,aAAc;AAC9G,aAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,UAAU,OAAO,YAAY,CAAC;AAAA,IAC5E;AAAA;AAAA;;;AC1BA,eAAsB,UAAU,WAAW,YAAY,WAAW,WAAW,MAAM,IAAI,WAAW,CAAC,GAAG,MAAM,IAAI,WAAW,CAAC,GAAG;AAC3H,MAAI,CAAC,YAAY,SAAS,GAAG;AACzB,UAAM,IAAI,UAAU,0BAAgB,WAAW,GAAG,KAAK,CAAC;AAAA,EAC5D;AACA,oBAAkB,WAAW,MAAM;AACnC,MAAI,CAAC,YAAY,UAAU,GAAG;AAC1B,UAAM,IAAI,UAAU,0BAAgB,YAAY,GAAG,KAAK,CAAC;AAAA,EAC7D;AACA,oBAAkB,YAAY,QAAQ,YAAY;AAClD,QAAM,QAAQ,OAAO,eAAe,QAAQ,OAAO,SAAS,CAAC,GAAG,eAAe,GAAG,GAAG,eAAe,GAAG,GAAG,SAAS,SAAS,CAAC;AAC7H,MAAI;AACJ,MAAI,UAAU,UAAU,SAAS,UAAU;AACvC,aAAS;AAAA,EACb,WACS,UAAU,UAAU,SAAS,QAAQ;AAC1C,aAAS;AAAA,EACb,OACK;AACD,aACI,KAAK,KAAK,SAAS,UAAU,UAAU,WAAW,OAAO,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK;AAAA,EAClF;AACA,QAAM,eAAe,IAAI,WAAW,MAAM,kBAAO,OAAO,WAAW;AAAA,IAC/D,MAAM,UAAU,UAAU;AAAA,IAC1B,QAAQ;AAAA,EACZ,GAAG,YAAY,MAAM,CAAC;AACtB,SAAO,UAAU,cAAc,WAAW,KAAK;AACnD;AACA,eAAsB,YAAYC,MAAK;AACnC,MAAI,CAAC,YAAYA,IAAG,GAAG;AACnB,UAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,KAAK,CAAC;AAAA,EACtD;AACA,SAAO,kBAAO,OAAO,YAAYA,KAAI,WAAW,MAAM,CAAC,YAAY,CAAC;AACxE;AACO,SAAS,YAAYA,MAAK;AAC7B,MAAI,CAAC,YAAYA,IAAG,GAAG;AACnB,UAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,KAAK,CAAC;AAAA,EACtD;AACA,SAAQ,CAAC,SAAS,SAAS,OAAO,EAAE,SAASA,KAAI,UAAU,UAAU,KACjEA,KAAI,UAAU,SAAS,YACvBA,KAAI,UAAU,SAAS;AAC/B;AA7CA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;ACHe,SAAR,SAA0BC,MAAK;AAClC,MAAI,EAAEA,gBAAe,eAAeA,KAAI,SAAS,GAAG;AAChD,UAAM,IAAI,WAAW,2CAA2C;AAAA,EACpE;AACJ;AALA;AAAA;AAAA,IAAAC;AAAA;AAAA;;;ACSA,SAASC,cAAaC,MAAKC,MAAK;AAC5B,MAAID,gBAAe,YAAY;AAC3B,WAAO,kBAAO,OAAO,UAAU,OAAOA,MAAK,UAAU,OAAO,CAAC,YAAY,CAAC;AAAA,EAC9E;AACA,MAAI,YAAYA,IAAG,GAAG;AAClB,sBAAkBA,MAAKC,MAAK,cAAc,WAAW;AACrD,WAAOD;AAAA,EACX;AACA,QAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,OAAO,YAAY,CAAC;AACpE;AACA,eAAeE,WAAUC,MAAKF,MAAK,KAAKD,MAAK;AACzC,WAASG,IAAG;AACZ,QAAM,OAAO,IAAWF,MAAKE,IAAG;AAChC,QAAM,SAAS,SAASF,KAAI,MAAM,IAAI,EAAE,GAAG,EAAE;AAC7C,QAAM,YAAY;AAAA,IACd,MAAM,OAAOA,KAAI,MAAM,GAAG,EAAE,CAAC;AAAA,IAC7B,YAAY;AAAA,IACZ,MAAM;AAAA,IACN;AAAA,EACJ;AACA,QAAM,UAAU;AAAA,IACZ,QAAQ;AAAA,IACR,MAAM;AAAA,EACV;AACA,QAAM,YAAY,MAAMF,cAAaC,MAAKC,IAAG;AAC7C,MAAI,UAAU,OAAO,SAAS,YAAY,GAAG;AACzC,WAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,WAAW,WAAW,WAAW,MAAM,CAAC;AAAA,EACtF;AACA,MAAI,UAAU,OAAO,SAAS,WAAW,GAAG;AACxC,WAAO,kBAAO,OAAO,UAAU,WAAW,WAAW,SAAS,OAAO,CAAC,WAAW,WAAW,CAAC;AAAA,EACjG;AACA,QAAM,IAAI,UAAU,8DAA8D;AACtF;AAzCA,IA0Ca,SAKAG;AA/Cb;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAkCO,IAAM,UAAU,OAAOH,MAAKD,MAAK,KAAK,MAAM,MAAMG,OAAM,eAAO,IAAI,WAAW,EAAE,CAAC,MAAM;AAC1F,YAAM,UAAU,MAAMD,WAAUC,MAAKF,MAAK,KAAKD,IAAG;AAClD,YAAM,eAAe,MAAM,KAAKC,KAAI,MAAM,EAAE,GAAG,SAAS,GAAG;AAC3D,aAAO,EAAE,cAAc,KAAK,KAAK,OAAUE,IAAG,EAAE;AAAA,IACpD;AACO,IAAMC,WAAU,OAAOH,MAAKD,MAAK,cAAc,KAAKG,SAAQ;AAC/D,YAAM,UAAU,MAAMD,WAAUC,MAAKF,MAAK,KAAKD,IAAG;AAClD,aAAO,OAAOC,KAAI,MAAM,EAAE,GAAG,SAAS,YAAY;AAAA,IACtD;AAAA;AAAA;;;ACjDe,SAAR,YAA6BI,MAAK;AACrC,UAAQA,MAAK;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,iBAAiB,OAAOA,IAAG,6DAA6D;AAAA,EAC1G;AACJ;AAXA;AAAA;AAAA,IAAAC;AAAA;AAAA;;;ACAA,IAAO;AAAP;AAAA;AAAA,IAAO,2BAAQ,CAACC,MAAKC,SAAQ;AACzB,UAAID,KAAI,WAAW,IAAI,KAAKA,KAAI,WAAW,IAAI,GAAG;AAC9C,cAAM,EAAE,cAAc,IAAIC,KAAI;AAC9B,YAAI,OAAO,kBAAkB,YAAY,gBAAgB,MAAM;AAC3D,gBAAM,IAAI,UAAU,GAAGD,IAAG,uDAAuD;AAAA,QACrF;AAAA,MACJ;AAAA,IACJ;AAAA;AAAA;;;ACPA,IAOaE,UAeAC;AAtBb;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMD,WAAU,OAAOE,MAAKC,MAAK,QAAQ;AAC5C,UAAI,CAAC,YAAYA,IAAG,GAAG;AACnB,cAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,KAAK,CAAC;AAAA,MACtD;AACA,wBAAkBA,MAAKD,MAAK,WAAW,SAAS;AAChD,+BAAeA,MAAKC,IAAG;AACvB,UAAIA,KAAI,OAAO,SAAS,SAAS,GAAG;AAChC,eAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ,YAAgBD,IAAG,GAAGC,MAAK,GAAG,CAAC;AAAA,MACrF;AACA,UAAIA,KAAI,OAAO,SAAS,SAAS,GAAG;AAChC,cAAM,eAAe,MAAM,kBAAO,OAAO,UAAU,OAAO,KAAK,GAAG,aAAc;AAChF,eAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ,OAAO,cAAcA,MAAK,YAAgBD,IAAG,CAAC,CAAC;AAAA,MACrG;AACA,YAAM,IAAI,UAAU,8EAA8E;AAAA,IACtG;AACO,IAAMD,WAAU,OAAOC,MAAKC,MAAK,iBAAiB;AACrD,UAAI,CAAC,YAAYA,IAAG,GAAG;AACnB,cAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,KAAK,CAAC;AAAA,MACtD;AACA,wBAAkBA,MAAKD,MAAK,WAAW,WAAW;AAClD,+BAAeA,MAAKC,IAAG;AACvB,UAAIA,KAAI,OAAO,SAAS,SAAS,GAAG;AAChC,eAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ,YAAgBD,IAAG,GAAGC,MAAK,YAAY,CAAC;AAAA,MAC9F;AACA,UAAIA,KAAI,OAAO,SAAS,WAAW,GAAG;AAClC,cAAM,eAAe,MAAM,kBAAO,OAAO,UAAU,OAAO,cAAcA,MAAK,YAAgBD,IAAG,GAAG,GAAG,aAAc;AACpH,eAAO,IAAI,WAAW,MAAM,kBAAO,OAAO,UAAU,OAAO,YAAY,CAAC;AAAA,MAC5E;AACA,YAAM,IAAI,UAAU,gFAAgF;AAAA,IACxG;AAAA;AAAA;;;AClCO,SAASE,WAAUC,MAAK;AAC3B,UAAQA,MAAK;AAAA,IACT,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AAAA,IACL,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,iBAAiB,8BAA8BA,IAAG,EAAE;AAAA,EACtE;AACJ;AAlBA,IAmBO;AAnBP;AAAA;AAAA,IAAAC;AACA;AAkBA,IAAO,cAAQ,CAACD,SAAQ,eAAO,IAAI,WAAWD,WAAUC,IAAG,KAAK,CAAC,CAAC;AAAA;AAAA;;;ACnBlE;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AACA,IAAAE;AACA;AAAA;AAAA;;;ACHA,SAAS,cAAc,KAAK;AACxB,MAAI;AACJ,MAAI;AACJ,UAAQ,IAAI,KAAK;AAAA,IACb,KAAK,OAAO;AACR,cAAQ,IAAI,KAAK;AAAA,QACb,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,sBAAY,EAAE,MAAM,WAAW,MAAM,OAAO,IAAI,IAAI,MAAM,EAAE,CAAC,GAAG;AAChE,sBAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ;AACxC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,sBAAY,EAAE,MAAM,qBAAqB,MAAM,OAAO,IAAI,IAAI,MAAM,EAAE,CAAC,GAAG;AAC1E,sBAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ;AACxC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,sBAAY;AAAA,YACR,MAAM;AAAA,YACN,MAAM,OAAO,SAAS,IAAI,IAAI,MAAM,EAAE,GAAG,EAAE,KAAK,CAAC;AAAA,UACrD;AACA,sBAAY,IAAI,IAAI,CAAC,WAAW,WAAW,IAAI,CAAC,WAAW,SAAS;AACpE;AAAA,QACJ;AACI,gBAAM,IAAI,iBAAiB,8DAA8D;AAAA,MACjG;AACA;AAAA,IACJ;AAAA,IACA,KAAK,MAAM;AACP,cAAQ,IAAI,KAAK;AAAA,QACb,KAAK;AACD,sBAAY,EAAE,MAAM,SAAS,YAAY,QAAQ;AACjD,sBAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ;AACxC;AAAA,QACJ,KAAK;AACD,sBAAY,EAAE,MAAM,SAAS,YAAY,QAAQ;AACjD,sBAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ;AACxC;AAAA,QACJ,KAAK;AACD,sBAAY,EAAE,MAAM,SAAS,YAAY,QAAQ;AACjD,sBAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ;AACxC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,sBAAY,EAAE,MAAM,QAAQ,YAAY,IAAI,IAAI;AAChD,sBAAY,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;AACtC;AAAA,QACJ;AACI,gBAAM,IAAI,iBAAiB,8DAA8D;AAAA,MACjG;AACA;AAAA,IACJ;AAAA,IACA,KAAK,OAAO;AACR,cAAQ,IAAI,KAAK;AAAA,QACb,KAAK;AACD,sBAAY,EAAE,MAAM,IAAI,IAAI;AAC5B,sBAAY,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,QAAQ;AACxC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,sBAAY,EAAE,MAAM,IAAI,IAAI;AAC5B,sBAAY,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC;AACtC;AAAA,QACJ;AACI,gBAAM,IAAI,iBAAiB,8DAA8D;AAAA,MACjG;AACA;AAAA,IACJ;AAAA,IACA;AACI,YAAM,IAAI,iBAAiB,6DAA6D;AAAA,EAChG;AACA,SAAO,EAAE,WAAW,UAAU;AAClC;AAnFA,IAoFM,OAeC;AAnGP;AAAA;AAAA;AACA,IAAAC;AAmFA,IAAM,QAAQ,OAAO,QAAQ;AACzB,UAAI,CAAC,IAAI,KAAK;AACV,cAAM,IAAI,UAAU,0DAA0D;AAAA,MAClF;AACA,YAAM,EAAE,WAAW,UAAU,IAAI,cAAc,GAAG;AAClD,YAAM,OAAO;AAAA,QACT;AAAA,QACA,IAAI,OAAO;AAAA,QACX,IAAI,WAAW;AAAA,MACnB;AACA,YAAM,UAAU,EAAE,GAAG,IAAI;AACzB,aAAO,QAAQ;AACf,aAAO,QAAQ;AACf,aAAO,kBAAO,OAAO,UAAU,OAAO,SAAS,GAAG,IAAI;AAAA,IAC1D;AACA,IAAO,qBAAQ;AAAA;AAAA;;;AC5Ef,eAAsB,UAAU,KAAKC,MAAK;AACtC,MAAI,CAAC,SAAS,GAAG,GAAG;AAChB,UAAM,IAAI,UAAU,uBAAuB;AAAA,EAC/C;AACA,EAAAA,SAAQA,OAAM,IAAI;AAClB,UAAQ,IAAI,KAAK;AAAA,IACb,KAAK;AACD,UAAI,OAAO,IAAI,MAAM,YAAY,CAAC,IAAI,GAAG;AACrC,cAAM,IAAI,UAAU,yCAAyC;AAAA,MACjE;AACA,aAAO,OAAgB,IAAI,CAAC;AAAA,IAChC,KAAK;AACD,UAAI,IAAI,QAAQ,QAAW;AACvB,cAAM,IAAI,iBAAiB,oEAAoE;AAAA,MACnG;AAAA,IACJ,KAAK;AAAA,IACL,KAAK;AACD,aAAO,mBAAY,EAAE,GAAG,KAAK,KAAAA,KAAI,CAAC;AAAA,IACtC;AACI,YAAM,IAAI,iBAAiB,8CAA8C;AAAA,EACjF;AACJ;AA5CA;AAAA;AAAA;AACA;AACA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACJA,IAEM,oBAUA,qBAoBA,cAYC;AA5CP;AAAA;AAAA;AACA;AACA,IAAM,qBAAqB,CAACC,MAAKC,SAAQ;AACrC,UAAIA,gBAAe;AACf;AACJ,UAAI,CAAC,oBAAUA,IAAG,GAAG;AACjB,cAAM,IAAI,UAAU,QAAgBD,MAAKC,MAAK,GAAG,OAAO,YAAY,CAAC;AAAA,MACzE;AACA,UAAIA,KAAI,SAAS,UAAU;AACvB,cAAM,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC,8DAA8D;AAAA,MAC3G;AAAA,IACJ;AACA,IAAM,sBAAsB,CAACD,MAAKC,MAAK,UAAU;AAC7C,UAAI,CAAC,oBAAUA,IAAG,GAAG;AACjB,cAAM,IAAI,UAAU,QAAgBD,MAAKC,MAAK,GAAG,KAAK,CAAC;AAAA,MAC3D;AACA,UAAIA,KAAI,SAAS,UAAU;AACvB,cAAM,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC,mEAAmE;AAAA,MAChH;AACA,UAAI,UAAU,UAAUA,KAAI,SAAS,UAAU;AAC3C,cAAM,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC,uEAAuE;AAAA,MACpH;AACA,UAAI,UAAU,aAAaA,KAAI,SAAS,UAAU;AAC9C,cAAM,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC,0EAA0E;AAAA,MACvH;AACA,UAAIA,KAAI,aAAa,UAAU,YAAYA,KAAI,SAAS,WAAW;AAC/D,cAAM,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC,wEAAwE;AAAA,MACrH;AACA,UAAIA,KAAI,aAAa,UAAU,aAAaA,KAAI,SAAS,WAAW;AAChE,cAAM,IAAI,UAAU,GAAG,MAAM,KAAK,MAAM,CAAC,yEAAyE;AAAA,MACtH;AAAA,IACJ;AACA,IAAM,eAAe,CAACD,MAAKC,MAAK,UAAU;AACtC,YAAM,YAAYD,KAAI,WAAW,IAAI,KACjCA,SAAQ,SACRA,KAAI,WAAW,OAAO,KACtB,qBAAqB,KAAKA,IAAG;AACjC,UAAI,WAAW;AACX,2BAAmBA,MAAKC,IAAG;AAAA,MAC/B,OACK;AACD,4BAAoBD,MAAKC,MAAK,KAAK;AAAA,MACvC;AAAA,IACJ;AACA,IAAO,yBAAQ;AAAA;AAAA;;;ACnCf,eAAe,WAAWC,MAAK,WAAW,KAAK,IAAI,KAAK;AACpD,MAAI,EAAE,eAAe,aAAa;AAC9B,UAAM,IAAI,UAAU,0BAAgB,KAAK,YAAY,CAAC;AAAA,EAC1D;AACA,QAAM,UAAU,SAASA,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AAC5C,QAAM,SAAS,MAAM,kBAAO,OAAO,UAAU,OAAO,IAAI,SAAS,WAAW,CAAC,GAAG,WAAW,OAAO,CAAC,SAAS,CAAC;AAC7G,QAAM,SAAS,MAAM,kBAAO,OAAO,UAAU,OAAO,IAAI,SAAS,GAAG,WAAW,CAAC,GAAG;AAAA,IAC/E,MAAM,OAAO,WAAW,CAAC;AAAA,IACzB,MAAM;AAAA,EACV,GAAG,OAAO,CAAC,MAAM,CAAC;AAClB,QAAM,aAAa,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ;AAAA,IAC1D;AAAA,IACA,MAAM;AAAA,EACV,GAAG,QAAQ,SAAS,CAAC;AACrB,QAAM,UAAU,OAAO,KAAK,IAAI,YAAY,SAAS,IAAI,UAAU,CAAC,CAAC;AACrE,QAAM,MAAM,IAAI,YAAY,MAAM,kBAAO,OAAO,KAAK,QAAQ,QAAQ,OAAO,GAAG,MAAM,GAAG,WAAW,CAAC,CAAC;AACrG,SAAO,EAAE,YAAY,KAAK,GAAG;AACjC;AACA,eAAe,WAAWA,MAAK,WAAW,KAAK,IAAI,KAAK;AACpD,MAAI;AACJ,MAAI,eAAe,YAAY;AAC3B,aAAS,MAAM,kBAAO,OAAO,UAAU,OAAO,KAAK,WAAW,OAAO,CAAC,SAAS,CAAC;AAAA,EACpF,OACK;AACD,sBAAkB,KAAKA,MAAK,SAAS;AACrC,aAAS;AAAA,EACb;AACA,QAAM,YAAY,IAAI,WAAW,MAAM,kBAAO,OAAO,QAAQ;AAAA,IACzD,gBAAgB;AAAA,IAChB;AAAA,IACA,MAAM;AAAA,IACN,WAAW;AAAA,EACf,GAAG,QAAQ,SAAS,CAAC;AACrB,QAAM,MAAM,UAAU,MAAM,GAAG;AAC/B,QAAM,aAAa,UAAU,MAAM,GAAG,GAAG;AACzC,SAAO,EAAE,YAAY,KAAK,GAAG;AACjC;AA7CA,IA8CMC,UA6BC;AA3EP;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AAsCA,IAAMD,WAAU,OAAOD,MAAK,WAAW,KAAK,IAAI,QAAQ;AACpD,UAAI,CAAC,YAAY,GAAG,KAAK,EAAE,eAAe,aAAa;AACnD,cAAM,IAAI,UAAU,0BAAgB,KAAK,GAAG,OAAO,YAAY,CAAC;AAAA,MACpE;AACA,UAAI,IAAI;AACJ,gCAAcA,MAAK,EAAE;AAAA,MACzB,OACK;AACD,aAAK,WAAWA,IAAG;AAAA,MACvB;AACA,cAAQA,MAAK;AAAA,QACT,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,cAAI,eAAe,YAAY;AAC3B,qCAAe,KAAK,SAASA,KAAI,MAAM,EAAE,GAAG,EAAE,CAAC;AAAA,UACnD;AACA,iBAAO,WAAWA,MAAK,WAAW,KAAK,IAAI,GAAG;AAAA,QAClD,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,cAAI,eAAe,YAAY;AAC3B,qCAAe,KAAK,SAASA,KAAI,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC;AAAA,UACrD;AACA,iBAAO,WAAWA,MAAK,WAAW,KAAK,IAAI,GAAG;AAAA,QAClD;AACI,gBAAM,IAAI,iBAAiB,8CAA8C;AAAA,MACjF;AAAA,IACJ;AACA,IAAO,kBAAQC;AAAA;AAAA;;;ACxEf,eAAsBE,MAAKC,MAAKC,MAAK,KAAK,IAAI;AAC1C,QAAM,eAAeD,KAAI,MAAM,GAAG,CAAC;AACnC,QAAM,UAAU,MAAM,gBAAQ,cAAc,KAAKC,MAAK,IAAI,IAAI,WAAW,CAAC,CAAC;AAC3E,SAAO;AAAA,IACH,cAAc,QAAQ;AAAA,IACtB,IAAI,OAAU,QAAQ,EAAE;AAAA,IACxB,KAAK,OAAU,QAAQ,GAAG;AAAA,EAC9B;AACJ;AACA,eAAsBC,QAAOF,MAAKC,MAAK,cAAc,IAAI,KAAK;AAC1D,QAAM,eAAeD,KAAI,MAAM,GAAG,CAAC;AACnC,SAAO,gBAAQ,cAAcC,MAAK,cAAc,IAAI,KAAK,IAAI,WAAW,CAAC,CAAC;AAC9E;AAfA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;;;ACSA,eAAe,qBAAqBE,MAAKC,MAAK,cAAc,YAAYC,UAAS;AAC7E,yBAAaF,MAAKC,MAAK,SAAS;AAChC,UAAQD,MAAK;AAAA,IACT,KAAK,OAAO;AACR,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,0CAA0C;AACnE,aAAOC;AAAA,IACX;AAAA,IACA,KAAK;AACD,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,0CAA0C;AAAA,IACvE,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,kBAAkB;AACnB,UAAI,CAAC,SAAS,WAAW,GAAG;AACxB,cAAM,IAAI,WAAW,6DAA6D;AACtF,UAAI,CAAM,YAAYA,IAAG;AACrB,cAAM,IAAI,iBAAiB,uFAAuF;AACtH,YAAM,MAAM,MAAM,UAAU,WAAW,KAAKD,IAAG;AAC/C,UAAI;AACJ,UAAI;AACJ,UAAI,WAAW,QAAQ,QAAW;AAC9B,YAAI,OAAO,WAAW,QAAQ;AAC1B,gBAAM,IAAI,WAAW,kDAAkD;AAC3E,YAAI;AACA,uBAAa,OAAU,WAAW,GAAG;AAAA,QACzC,QACM;AACF,gBAAM,IAAI,WAAW,oCAAoC;AAAA,QAC7D;AAAA,MACJ;AACA,UAAI,WAAW,QAAQ,QAAW;AAC9B,YAAI,OAAO,WAAW,QAAQ;AAC1B,gBAAM,IAAI,WAAW,kDAAkD;AAC3E,YAAI;AACA,uBAAa,OAAU,WAAW,GAAG;AAAA,QACzC,QACM;AACF,gBAAM,IAAI,WAAW,oCAAoC;AAAA,QAC7D;AAAA,MACJ;AACA,YAAM,eAAe,MAAW,UAAU,KAAKC,MAAKD,SAAQ,YAAY,WAAW,MAAMA,MAAKA,SAAQ,YAAYG,WAAU,WAAW,GAAG,IAAI,SAASH,KAAI,MAAM,IAAI,EAAE,GAAG,EAAE,GAAG,YAAY,UAAU;AACrM,UAAIA,SAAQ;AACR,eAAO;AACX,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,2BAA2B;AACpD,aAAO,OAAMA,KAAI,MAAM,EAAE,GAAG,cAAc,YAAY;AAAA,IAC1D;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,gBAAgB;AACjB,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,2BAA2B;AACpD,aAAOI,SAAMJ,MAAKC,MAAK,YAAY;AAAA,IACvC;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,sBAAsB;AACvB,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,2BAA2B;AACpD,UAAI,OAAO,WAAW,QAAQ;AAC1B,cAAM,IAAI,WAAW,oDAAoD;AAC7E,YAAM,WAAWC,UAAS,iBAAiB;AAC3C,UAAI,WAAW,MAAM;AACjB,cAAM,IAAI,WAAW,6DAA6D;AACtF,UAAI,OAAO,WAAW,QAAQ;AAC1B,cAAM,IAAI,WAAW,mDAAmD;AAC5E,UAAIG;AACJ,UAAI;AACA,QAAAA,OAAM,OAAU,WAAW,GAAG;AAAA,MAClC,QACM;AACF,cAAM,IAAI,WAAW,oCAAoC;AAAA,MAC7D;AACA,aAAOD,SAAQJ,MAAKC,MAAK,cAAc,WAAW,KAAKI,IAAG;AAAA,IAC9D;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,UAAU;AACX,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,2BAA2B;AACpD,aAAO,OAAML,MAAKC,MAAK,YAAY;AAAA,IACvC;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,aAAa;AACd,UAAI,iBAAiB;AACjB,cAAM,IAAI,WAAW,2BAA2B;AACpD,UAAI,OAAO,WAAW,OAAO;AACzB,cAAM,IAAI,WAAW,6DAA6D;AACtF,UAAI,OAAO,WAAW,QAAQ;AAC1B,cAAM,IAAI,WAAW,2DAA2D;AACpF,UAAI;AACJ,UAAI;AACA,aAAK,OAAU,WAAW,EAAE;AAAA,MAChC,QACM;AACF,cAAM,IAAI,WAAW,mCAAmC;AAAA,MAC5D;AACA,UAAI;AACJ,UAAI;AACA,cAAM,OAAU,WAAW,GAAG;AAAA,MAClC,QACM;AACF,cAAM,IAAI,WAAW,oCAAoC;AAAA,MAC7D;AACA,aAAOK,QAASN,MAAKC,MAAK,cAAc,IAAI,GAAG;AAAA,IACnD;AAAA,IACA,SAAS;AACL,YAAM,IAAI,iBAAiB,2DAA2D;AAAA,IAC1F;AAAA,EACJ;AACJ;AA7HA,IA8HO;AA9HP;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,IAAAM;AACA;AACA;AACA;AACA;AACA;AAoHA,IAAO,iCAAQ;AAAA;AAAA;;;AC7Hf,SAAS,aAAa,KAAK,mBAAmB,kBAAkB,iBAAiB,YAAY;AACzF,MAAI,WAAW,SAAS,UAAa,iBAAiB,SAAS,QAAW;AACtE,UAAM,IAAI,IAAI,gEAAgE;AAAA,EAClF;AACA,MAAI,CAAC,mBAAmB,gBAAgB,SAAS,QAAW;AACxD,WAAO,oBAAI,IAAI;AAAA,EACnB;AACA,MAAI,CAAC,MAAM,QAAQ,gBAAgB,IAAI,KACnC,gBAAgB,KAAK,WAAW,KAChC,gBAAgB,KAAK,KAAK,CAAC,UAAU,OAAO,UAAU,YAAY,MAAM,WAAW,CAAC,GAAG;AACvF,UAAM,IAAI,IAAI,uFAAuF;AAAA,EACzG;AACA,MAAI;AACJ,MAAI,qBAAqB,QAAW;AAChC,iBAAa,IAAI,IAAI,CAAC,GAAG,OAAO,QAAQ,gBAAgB,GAAG,GAAG,kBAAkB,QAAQ,CAAC,CAAC;AAAA,EAC9F,OACK;AACD,iBAAa;AAAA,EACjB;AACA,aAAW,aAAa,gBAAgB,MAAM;AAC1C,QAAI,CAAC,WAAW,IAAI,SAAS,GAAG;AAC5B,YAAM,IAAI,iBAAiB,+BAA+B,SAAS,qBAAqB;AAAA,IAC5F;AACA,QAAI,WAAW,SAAS,MAAM,QAAW;AACrC,YAAM,IAAI,IAAI,+BAA+B,SAAS,cAAc;AAAA,IACxE;AACA,QAAI,WAAW,IAAI,SAAS,KAAK,gBAAgB,SAAS,MAAM,QAAW;AACvE,YAAM,IAAI,IAAI,+BAA+B,SAAS,+BAA+B;AAAA,IACzF;AAAA,EACJ;AACA,SAAO,IAAI,IAAI,gBAAgB,IAAI;AACvC;AAhCA,IAiCO;AAjCP;AAAA;AAAA,IAAAC;AAiCA,IAAO,wBAAQ;AAAA;AAAA;;;ACjCf,IAAM,oBAUC;AAVP;AAAA;AAAA,IAAM,qBAAqB,CAAC,QAAQ,eAAe;AAC/C,UAAI,eAAe,WACd,CAAC,MAAM,QAAQ,UAAU,KAAK,WAAW,KAAK,CAACC,OAAM,OAAOA,OAAM,QAAQ,IAAI;AAC/E,cAAM,IAAI,UAAU,IAAI,MAAM,sCAAsC;AAAA,MACxE;AACA,UAAI,CAAC,YAAY;AACb,eAAO;AAAA,MACX;AACA,aAAO,IAAI,IAAI,UAAU;AAAA,IAC7B;AACA,IAAO,8BAAQ;AAAA;AAAA;;;ACAf,eAAsB,iBAAiB,KAAKC,MAAKC,UAAS;AACtD,MAAI,CAAC,SAAS,GAAG,GAAG;AAChB,UAAM,IAAI,WAAW,iCAAiC;AAAA,EAC1D;AACA,MAAI,IAAI,cAAc,UAAa,IAAI,WAAW,UAAa,IAAI,gBAAgB,QAAW;AAC1F,UAAM,IAAI,WAAW,qBAAqB;AAAA,EAC9C;AACA,MAAI,IAAI,OAAO,UAAa,OAAO,IAAI,OAAO,UAAU;AACpD,UAAM,IAAI,WAAW,0CAA0C;AAAA,EACnE;AACA,MAAI,OAAO,IAAI,eAAe,UAAU;AACpC,UAAM,IAAI,WAAW,0CAA0C;AAAA,EACnE;AACA,MAAI,IAAI,QAAQ,UAAa,OAAO,IAAI,QAAQ,UAAU;AACtD,UAAM,IAAI,WAAW,uCAAuC;AAAA,EAChE;AACA,MAAI,IAAI,cAAc,UAAa,OAAO,IAAI,cAAc,UAAU;AAClE,UAAM,IAAI,WAAW,qCAAqC;AAAA,EAC9D;AACA,MAAI,IAAI,kBAAkB,UAAa,OAAO,IAAI,kBAAkB,UAAU;AAC1E,UAAM,IAAI,WAAW,kCAAkC;AAAA,EAC3D;AACA,MAAI,IAAI,QAAQ,UAAa,OAAO,IAAI,QAAQ,UAAU;AACtD,UAAM,IAAI,WAAW,wBAAwB;AAAA,EACjD;AACA,MAAI,IAAI,WAAW,UAAa,CAAC,SAAS,IAAI,MAAM,GAAG;AACnD,UAAM,IAAI,WAAW,8CAA8C;AAAA,EACvE;AACA,MAAI,IAAI,gBAAgB,UAAa,CAAC,SAAS,IAAI,WAAW,GAAG;AAC7D,UAAM,IAAI,WAAW,qDAAqD;AAAA,EAC9E;AACA,MAAI;AACJ,MAAI,IAAI,WAAW;AACf,QAAI;AACA,YAAMC,mBAAkB,OAAU,IAAI,SAAS;AAC/C,mBAAa,KAAK,MAAM,QAAQ,OAAOA,gBAAe,CAAC;AAAA,IAC3D,QACM;AACF,YAAM,IAAI,WAAW,iCAAiC;AAAA,IAC1D;AAAA,EACJ;AACA,MAAI,CAAC,oBAAW,YAAY,IAAI,QAAQ,IAAI,WAAW,GAAG;AACtD,UAAM,IAAI,WAAW,kHAAkH;AAAA,EAC3I;AACA,QAAM,aAAa;AAAA,IACf,GAAG;AAAA,IACH,GAAG,IAAI;AAAA,IACP,GAAG,IAAI;AAAA,EACX;AACA,wBAAa,YAAY,oBAAI,IAAI,GAAGD,UAAS,MAAM,YAAY,UAAU;AACzE,MAAI,WAAW,QAAQ,QAAW;AAC9B,UAAM,IAAI,iBAAiB,sEAAsE;AAAA,EACrG;AACA,QAAM,EAAE,KAAAE,MAAK,KAAAC,KAAI,IAAI;AACrB,MAAI,OAAOD,SAAQ,YAAY,CAACA,MAAK;AACjC,UAAM,IAAI,WAAW,2CAA2C;AAAA,EACpE;AACA,MAAI,OAAOC,SAAQ,YAAY,CAACA,MAAK;AACjC,UAAM,IAAI,WAAW,sDAAsD;AAAA,EAC/E;AACA,QAAM,0BAA0BH,YAAW,4BAAmB,2BAA2BA,SAAQ,uBAAuB;AACxH,QAAM,8BAA8BA,YAChC,4BAAmB,+BAA+BA,SAAQ,2BAA2B;AACzF,MAAK,2BAA2B,CAAC,wBAAwB,IAAIE,IAAG,KAC3D,CAAC,2BAA2BA,KAAI,WAAW,OAAO,GAAI;AACvD,UAAM,IAAI,kBAAkB,sDAAsD;AAAA,EACtF;AACA,MAAI,+BAA+B,CAAC,4BAA4B,IAAIC,IAAG,GAAG;AACtE,UAAM,IAAI,kBAAkB,iEAAiE;AAAA,EACjG;AACA,MAAI;AACJ,MAAI,IAAI,kBAAkB,QAAW;AACjC,QAAI;AACA,qBAAe,OAAU,IAAI,aAAa;AAAA,IAC9C,QACM;AACF,YAAM,IAAI,WAAW,8CAA8C;AAAA,IACvE;AAAA,EACJ;AACA,MAAI,cAAc;AAClB,MAAI,OAAOJ,SAAQ,YAAY;AAC3B,IAAAA,OAAM,MAAMA,KAAI,YAAY,GAAG;AAC/B,kBAAc;AAAA,EAClB;AACA,MAAI;AACJ,MAAI;AACA,UAAM,MAAM,+BAAqBG,MAAKH,MAAK,cAAc,YAAYC,QAAO;AAAA,EAChF,SACO,KAAK;AACR,QAAI,eAAe,aAAa,eAAe,cAAc,eAAe,kBAAkB;AAC1F,YAAM;AAAA,IACV;AACA,UAAM,YAAYG,IAAG;AAAA,EACzB;AACA,MAAI;AACJ,MAAI;AACJ,MAAI,IAAI,OAAO,QAAW;AACtB,QAAI;AACA,WAAK,OAAU,IAAI,EAAE;AAAA,IACzB,QACM;AACF,YAAM,IAAI,WAAW,mCAAmC;AAAA,IAC5D;AAAA,EACJ;AACA,MAAI,IAAI,QAAQ,QAAW;AACvB,QAAI;AACA,YAAM,OAAU,IAAI,GAAG;AAAA,IAC3B,QACM;AACF,YAAM,IAAI,WAAW,oCAAoC;AAAA,IAC7D;AAAA,EACJ;AACA,QAAM,kBAAkB,QAAQ,OAAO,IAAI,aAAa,EAAE;AAC1D,MAAI;AACJ,MAAI,IAAI,QAAQ,QAAW;AACvB,qBAAiB,OAAO,iBAAiB,QAAQ,OAAO,GAAG,GAAG,QAAQ,OAAO,IAAI,GAAG,CAAC;AAAA,EACzF,OACK;AACD,qBAAiB;AAAA,EACrB;AACA,MAAI;AACJ,MAAI;AACA,iBAAa,OAAU,IAAI,UAAU;AAAA,EACzC,QACM;AACF,UAAM,IAAI,WAAW,2CAA2C;AAAA,EACpE;AACA,QAAM,YAAY,MAAM,gBAAQA,MAAK,KAAK,YAAY,IAAI,KAAK,cAAc;AAC7E,QAAM,SAAS,EAAE,UAAU;AAC3B,MAAI,IAAI,cAAc,QAAW;AAC7B,WAAO,kBAAkB;AAAA,EAC7B;AACA,MAAI,IAAI,QAAQ,QAAW;AACvB,QAAI;AACA,aAAO,8BAA8B,OAAU,IAAI,GAAG;AAAA,IAC1D,QACM;AACF,YAAM,IAAI,WAAW,oCAAoC;AAAA,IAC7D;AAAA,EACJ;AACA,MAAI,IAAI,gBAAgB,QAAW;AAC/B,WAAO,0BAA0B,IAAI;AAAA,EACzC;AACA,MAAI,IAAI,WAAW,QAAW;AAC1B,WAAO,oBAAoB,IAAI;AAAA,EACnC;AACA,MAAI,aAAa;AACb,WAAO,EAAE,GAAG,QAAQ,KAAAJ,KAAI;AAAA,EAC5B;AACA,SAAO;AACX;AAhKA,IAAAK,gBAAA;AAAA;AAAA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;ACNA,eAAsB,eAAe,KAAKC,MAAKC,UAAS;AACpD,MAAI,eAAe,YAAY;AAC3B,UAAM,QAAQ,OAAO,GAAG;AAAA,EAC5B;AACA,MAAI,OAAO,QAAQ,UAAU;AACzB,UAAM,IAAI,WAAW,4CAA4C;AAAA,EACrE;AACA,QAAM,EAAE,GAAG,iBAAiB,GAAG,cAAc,GAAG,IAAI,GAAG,YAAY,GAAG,KAAK,OAAQ,IAAI,IAAI,MAAM,GAAG;AACpG,MAAI,WAAW,GAAG;AACd,UAAM,IAAI,WAAW,qBAAqB;AAAA,EAC9C;AACA,QAAM,YAAY,MAAM,iBAAiB;AAAA,IACrC;AAAA,IACA,IAAI,MAAM;AAAA,IACV,WAAW;AAAA,IACX,KAAK,OAAO;AAAA,IACZ,eAAe,gBAAgB;AAAA,EACnC,GAAGD,MAAKC,QAAO;AACf,QAAM,SAAS,EAAE,WAAW,UAAU,WAAW,iBAAiB,UAAU,gBAAgB;AAC5F,MAAI,OAAOD,SAAQ,YAAY;AAC3B,WAAO,EAAE,GAAG,QAAQ,KAAK,UAAU,IAAI;AAAA,EAC3C;AACA,SAAO;AACX;AA1BA,IAAAE,gBAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACFA,IAAAC,gBAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACFA,IAIM,UAgBC;AApBP;AAAA;AAAA;AACA;AACA;AACA;AACA,IAAM,WAAW,OAAOC,SAAQ;AAC5B,UAAIA,gBAAe,YAAY;AAC3B,eAAO;AAAA,UACH,KAAK;AAAA,UACL,GAAG,OAAUA,IAAG;AAAA,QACpB;AAAA,MACJ;AACA,UAAI,CAAC,YAAYA,IAAG,GAAG;AACnB,cAAM,IAAI,UAAU,0BAAgBA,MAAK,GAAG,OAAO,YAAY,CAAC;AAAA,MACpE;AACA,UAAI,CAACA,KAAI,aAAa;AAClB,cAAM,IAAI,UAAU,uDAAuD;AAAA,MAC/E;AACA,YAAM,EAAE,KAAK,SAAS,KAAAC,MAAK,KAAK,GAAG,IAAI,IAAI,MAAM,kBAAO,OAAO,UAAU,OAAOD,IAAG;AACnF,aAAO;AAAA,IACX;AACA,IAAO,qBAAQ;AAAA;AAAA;;;ACXf,eAAsB,UAAUE,MAAK;AACjC,SAAO,mBAASA,IAAG;AACvB;AAXA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;;;ACQA,eAAe,qBAAqBC,MAAKC,MAAKC,MAAK,aAAa,qBAAqB,CAAC,GAAG;AACrF,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,yBAAaF,MAAKE,MAAK,SAAS;AAChC,UAAQF,MAAK;AAAA,IACT,KAAK,OAAO;AACR,YAAME;AACN;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,kBAAkB;AACnB,UAAI,CAAM,YAAYA,IAAG,GAAG;AACxB,cAAM,IAAI,iBAAiB,uFAAuF;AAAA,MACtH;AACA,YAAM,EAAE,KAAK,IAAI,IAAI;AACrB,UAAI,EAAE,KAAK,aAAa,IAAI;AAC5B,uBAAiB,gBAAgB,MAAW,YAAYA,IAAG,GAAG;AAC9D,YAAM,EAAE,GAAAC,IAAG,GAAAC,IAAG,KAAK,IAAI,IAAI,MAAM,UAAU,YAAY;AACvD,YAAM,eAAe,MAAW,UAAUF,MAAK,cAAcF,SAAQ,YAAYC,OAAMD,MAAKA,SAAQ,YAAYK,WAAUJ,IAAG,IAAI,SAASD,KAAI,MAAM,IAAI,EAAE,GAAG,EAAE,GAAG,KAAK,GAAG;AAC1K,mBAAa,EAAE,KAAK,EAAE,GAAAG,IAAG,KAAK,IAAI,EAAE;AACpC,UAAI,QAAQ;AACR,mBAAW,IAAI,IAAIC;AACvB,UAAI;AACA,mBAAW,MAAM,OAAU,GAAG;AAClC,UAAI;AACA,mBAAW,MAAM,OAAU,GAAG;AAClC,UAAIJ,SAAQ,WAAW;AACnB,cAAM;AACN;AAAA,MACJ;AACA,YAAM,eAAe,YAAYC,IAAG;AACpC,YAAM,QAAQD,KAAI,MAAM,EAAE;AAC1B,qBAAe,MAAM,KAAM,OAAO,cAAc,GAAG;AACnD;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,gBAAgB;AACjB,YAAM,eAAe,YAAYC,IAAG;AACpC,qBAAe,MAAMK,SAAMN,MAAKE,MAAK,GAAG;AACxC;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,sBAAsB;AACvB,YAAM,eAAe,YAAYD,IAAG;AACpC,YAAM,EAAE,KAAK,KAAAM,KAAI,IAAI;AACrB,OAAC,EAAE,cAAc,GAAG,WAAW,IAAI,MAAM,QAAQP,MAAKE,MAAK,KAAK,KAAKK,IAAG;AACxE;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,UAAU;AACX,YAAM,eAAe,YAAYN,IAAG;AACpC,qBAAe,MAAM,KAAMD,MAAKE,MAAK,GAAG;AACxC;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,aAAa;AACd,YAAM,eAAe,YAAYD,IAAG;AACpC,YAAM,EAAE,GAAG,IAAI;AACf,OAAC,EAAE,cAAc,GAAG,WAAW,IAAI,MAAMO,MAASR,MAAKE,MAAK,KAAK,EAAE;AACnE;AAAA,IACJ;AAAA,IACA,SAAS;AACL,YAAM,IAAI,iBAAiB,2DAA2D;AAAA,IAC1F;AAAA,EACJ;AACA,SAAO,EAAE,KAAK,cAAc,WAAW;AAC3C;AArFA,IAsFO;AAtFP;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAO;AACA;AACA;AACA;AA6EA,IAAO,iCAAQ;AAAA;AAAA;;;ACtFf,IAOa,aACA;AARb,IAAAC,gBAAA;AAAA;AAAA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACO,IAAM,cAAc,OAAO;AAC3B,IAAM,mBAAN,MAAuB;AAAA,MAC1B,YAAY,WAAW;AACnB,YAAI,EAAE,qBAAqB,aAAa;AACpC,gBAAM,IAAI,UAAU,6CAA6C;AAAA,QACrE;AACA,aAAK,aAAa;AAAA,MACtB;AAAA,MACA,2BAA2B,YAAY;AACnC,YAAI,KAAK,0BAA0B;AAC/B,gBAAM,IAAI,UAAU,oDAAoD;AAAA,QAC5E;AACA,aAAK,2BAA2B;AAChC,eAAO;AAAA,MACX;AAAA,MACA,mBAAmB,iBAAiB;AAChC,YAAI,KAAK,kBAAkB;AACvB,gBAAM,IAAI,UAAU,4CAA4C;AAAA,QACpE;AACA,aAAK,mBAAmB;AACxB,eAAO;AAAA,MACX;AAAA,MACA,2BAA2B,yBAAyB;AAChD,YAAI,KAAK,0BAA0B;AAC/B,gBAAM,IAAI,UAAU,oDAAoD;AAAA,QAC5E;AACA,aAAK,2BAA2B;AAChC,eAAO;AAAA,MACX;AAAA,MACA,qBAAqB,mBAAmB;AACpC,YAAI,KAAK,oBAAoB;AACzB,gBAAM,IAAI,UAAU,8CAA8C;AAAA,QACtE;AACA,aAAK,qBAAqB;AAC1B,eAAO;AAAA,MACX;AAAA,MACA,+BAA+B,KAAK;AAChC,aAAK,OAAO;AACZ,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,KAAK;AACzB,YAAI,KAAK,MAAM;AACX,gBAAM,IAAI,UAAU,iDAAiD;AAAA,QACzE;AACA,aAAK,OAAO;AACZ,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,IAAI;AACxB,YAAI,KAAK,KAAK;AACV,gBAAM,IAAI,UAAU,iDAAiD;AAAA,QACzE;AACA,aAAK,MAAM;AACX,eAAO;AAAA,MACX;AAAA,MACA,MAAM,QAAQC,MAAKC,UAAS;AACxB,YAAI,CAAC,KAAK,oBAAoB,CAAC,KAAK,sBAAsB,CAAC,KAAK,0BAA0B;AACtF,gBAAM,IAAI,WAAW,8GAA8G;AAAA,QACvI;AACA,YAAI,CAAC,oBAAW,KAAK,kBAAkB,KAAK,oBAAoB,KAAK,wBAAwB,GAAG;AAC5F,gBAAM,IAAI,WAAW,qGAAqG;AAAA,QAC9H;AACA,cAAM,aAAa;AAAA,UACf,GAAG,KAAK;AAAA,UACR,GAAG,KAAK;AAAA,UACR,GAAG,KAAK;AAAA,QACZ;AACA,8BAAa,YAAY,oBAAI,IAAI,GAAGA,UAAS,MAAM,KAAK,kBAAkB,UAAU;AACpF,YAAI,WAAW,QAAQ,QAAW;AAC9B,gBAAM,IAAI,iBAAiB,sEAAsE;AAAA,QACrG;AACA,cAAM,EAAE,KAAAC,MAAK,KAAAC,KAAI,IAAI;AACrB,YAAI,OAAOD,SAAQ,YAAY,CAACA,MAAK;AACjC,gBAAM,IAAI,WAAW,2DAA2D;AAAA,QACpF;AACA,YAAI,OAAOC,SAAQ,YAAY,CAACA,MAAK;AACjC,gBAAM,IAAI,WAAW,sEAAsE;AAAA,QAC/F;AACA,YAAI;AACJ,YAAI,KAAK,SAASD,SAAQ,SAASA,SAAQ,YAAY;AACnD,gBAAM,IAAI,UAAU,8EAA8EA,IAAG,EAAE;AAAA,QAC3G;AACA,YAAI;AACJ;AACI,cAAI;AACJ,WAAC,EAAE,KAAK,cAAc,WAAW,IAAI,MAAM,+BAAqBA,MAAKC,MAAKH,MAAK,KAAK,MAAM,KAAK,wBAAwB;AACvH,cAAI,YAAY;AACZ,gBAAIC,YAAW,eAAeA,UAAS;AACnC,kBAAI,CAAC,KAAK,oBAAoB;AAC1B,qBAAK,qBAAqB,UAAU;AAAA,cACxC,OACK;AACD,qBAAK,qBAAqB,EAAE,GAAG,KAAK,oBAAoB,GAAG,WAAW;AAAA,cAC1E;AAAA,YACJ,OACK;AACD,kBAAI,CAAC,KAAK,kBAAkB;AACxB,qBAAK,mBAAmB,UAAU;AAAA,cACtC,OACK;AACD,qBAAK,mBAAmB,EAAE,GAAG,KAAK,kBAAkB,GAAG,WAAW;AAAA,cACtE;AAAA,YACJ;AAAA,UACJ;AAAA,QACJ;AACA,YAAI;AACJ,YAAI;AACJ,YAAI;AACJ,YAAI,KAAK,kBAAkB;AACvB,4BAAkB,QAAQ,OAAO,OAAU,KAAK,UAAU,KAAK,gBAAgB,CAAC,CAAC;AAAA,QACrF,OACK;AACD,4BAAkB,QAAQ,OAAO,EAAE;AAAA,QACvC;AACA,YAAI,KAAK,MAAM;AACX,sBAAY,OAAU,KAAK,IAAI;AAC/B,2BAAiB,OAAO,iBAAiB,QAAQ,OAAO,GAAG,GAAG,QAAQ,OAAO,SAAS,CAAC;AAAA,QAC3F,OACK;AACD,2BAAiB;AAAA,QACrB;AACA,cAAM,EAAE,YAAY,KAAK,GAAG,IAAI,MAAM,gBAAQE,MAAK,KAAK,YAAY,KAAK,KAAK,KAAK,cAAc;AACjG,cAAM,MAAM;AAAA,UACR,YAAY,OAAU,UAAU;AAAA,QACpC;AACA,YAAI,IAAI;AACJ,cAAI,KAAK,OAAU,EAAE;AAAA,QACzB;AACA,YAAI,KAAK;AACL,cAAI,MAAM,OAAU,GAAG;AAAA,QAC3B;AACA,YAAI,cAAc;AACd,cAAI,gBAAgB,OAAU,YAAY;AAAA,QAC9C;AACA,YAAI,WAAW;AACX,cAAI,MAAM;AAAA,QACd;AACA,YAAI,KAAK,kBAAkB;AACvB,cAAI,YAAY,QAAQ,OAAO,eAAe;AAAA,QAClD;AACA,YAAI,KAAK,0BAA0B;AAC/B,cAAI,cAAc,KAAK;AAAA,QAC3B;AACA,YAAI,KAAK,oBAAoB;AACzB,cAAI,SAAS,KAAK;AAAA,QACtB;AACA,eAAO;AAAA,MACX;AAAA,IACJ;AAAA;AAAA;;;AC1JA,IAAAC,gBAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;ACNA;AAAA;AAAA,IAAAC;AAAA;AAAA;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;;;ACHA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;;;ACHA,IAAAC,eAAA;AAAA;AAAA;AACA;AACA,IAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;ACRA,IAAAC,eAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACFA,IAAAC,eAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACFA,IAAO;AAAP;AAAA;AAAA,IAAO,gBAAQ,CAAC,SAAS,KAAK,MAAM,KAAK,QAAQ,IAAI,GAAI;AAAA;AAAA;;;ACAzD,IAAM,QACA,MACA,KACA,MACA,MACA,OACC;AANP;AAAA;AAAA,IAAM,SAAS;AACf,IAAM,OAAO,SAAS;AACtB,IAAM,MAAM,OAAO;AACnB,IAAM,OAAO,MAAM;AACnB,IAAM,OAAO,MAAM;AACnB,IAAM,QAAQ;AACd,IAAO,eAAQ,CAAC,QAAQ;AACpB,YAAM,UAAU,MAAM,KAAK,GAAG;AAC9B,UAAI,CAAC,WAAY,QAAQ,CAAC,KAAK,QAAQ,CAAC,GAAI;AACxC,cAAM,IAAI,UAAU,4BAA4B;AAAA,MACpD;AACA,YAAM,QAAQ,WAAW,QAAQ,CAAC,CAAC;AACnC,YAAM,OAAO,QAAQ,CAAC,EAAE,YAAY;AACpC,UAAI;AACJ,cAAQ,MAAM;AAAA,QACV,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,wBAAc,KAAK,MAAM,KAAK;AAC9B;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,wBAAc,KAAK,MAAM,QAAQ,MAAM;AACvC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,wBAAc,KAAK,MAAM,QAAQ,IAAI;AACrC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,wBAAc,KAAK,MAAM,QAAQ,GAAG;AACpC;AAAA,QACJ,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,wBAAc,KAAK,MAAM,QAAQ,IAAI;AACrC;AAAA,QACJ;AACI,wBAAc,KAAK,MAAM,QAAQ,IAAI;AACrC;AAAA,MACR;AACA,UAAI,QAAQ,CAAC,MAAM,OAAO,QAAQ,CAAC,MAAM,OAAO;AAC5C,eAAO,CAAC;AAAA,MACZ;AACA,aAAO;AAAA,IACX;AAAA;AAAA;;;ACtDA,IAKM,cACA,uBASC;AAfP;AAAA;AAAA,IAAAC;AACA;AACA;AACA;AACA;AACA,IAAM,eAAe,CAAC,UAAU,MAAM,YAAY,EAAE,QAAQ,kBAAkB,EAAE;AAChF,IAAM,wBAAwB,CAAC,YAAY,cAAc;AACrD,UAAI,OAAO,eAAe,UAAU;AAChC,eAAO,UAAU,SAAS,UAAU;AAAA,MACxC;AACA,UAAI,MAAM,QAAQ,UAAU,GAAG;AAC3B,eAAO,UAAU,KAAK,IAAI,UAAU,IAAI,KAAK,IAAI,IAAI,UAAU,CAAC,CAAC;AAAA,MACrE;AACA,aAAO;AAAA,IACX;AACA,IAAO,yBAAQ,CAAC,iBAAiB,gBAAgBC,WAAU,CAAC,MAAM;AAC9D,YAAM,EAAE,IAAI,IAAIA;AAChB,UAAI,QACC,OAAO,gBAAgB,QAAQ,YAC5B,aAAa,gBAAgB,GAAG,MAAM,aAAa,GAAG,IAAI;AAC9D,cAAM,IAAI,yBAAyB,qCAAqC,OAAO,cAAc;AAAA,MACjG;AACA,UAAI;AACJ,UAAI;AACA,kBAAU,KAAK,MAAM,QAAQ,OAAO,cAAc,CAAC;AAAA,MACvD,QACM;AAAA,MACN;AACA,UAAI,CAAC,SAAS,OAAO,GAAG;AACpB,cAAM,IAAI,WAAW,gDAAgD;AAAA,MACzE;AACA,YAAM,EAAE,iBAAiB,CAAC,GAAG,QAAQ,SAAS,UAAU,YAAY,IAAIA;AACxE,YAAM,gBAAgB,CAAC,GAAG,cAAc;AACxC,UAAI,gBAAgB;AAChB,sBAAc,KAAK,KAAK;AAC5B,UAAI,aAAa;AACb,sBAAc,KAAK,KAAK;AAC5B,UAAI,YAAY;AACZ,sBAAc,KAAK,KAAK;AAC5B,UAAI,WAAW;AACX,sBAAc,KAAK,KAAK;AAC5B,iBAAW,SAAS,IAAI,IAAI,cAAc,QAAQ,CAAC,GAAG;AAClD,YAAI,EAAE,SAAS,UAAU;AACrB,gBAAM,IAAI,yBAAyB,qBAAqB,KAAK,WAAW,OAAO,SAAS;AAAA,QAC5F;AAAA,MACJ;AACA,UAAI,UAAU,EAAE,MAAM,QAAQ,MAAM,IAAI,SAAS,CAAC,MAAM,GAAG,SAAS,QAAQ,GAAG,GAAG;AAC9E,cAAM,IAAI,yBAAyB,gCAAgC,OAAO,cAAc;AAAA,MAC5F;AACA,UAAI,WAAW,QAAQ,QAAQ,SAAS;AACpC,cAAM,IAAI,yBAAyB,gCAAgC,OAAO,cAAc;AAAA,MAC5F;AACA,UAAI,YACA,CAAC,sBAAsB,QAAQ,KAAK,OAAO,aAAa,WAAW,CAAC,QAAQ,IAAI,QAAQ,GAAG;AAC3F,cAAM,IAAI,yBAAyB,gCAAgC,OAAO,cAAc;AAAA,MAC5F;AACA,UAAI;AACJ,cAAQ,OAAOA,SAAQ,gBAAgB;AAAA,QACnC,KAAK;AACD,sBAAY,aAAKA,SAAQ,cAAc;AACvC;AAAA,QACJ,KAAK;AACD,sBAAYA,SAAQ;AACpB;AAAA,QACJ,KAAK;AACD,sBAAY;AACZ;AAAA,QACJ;AACI,gBAAM,IAAI,UAAU,oCAAoC;AAAA,MAChE;AACA,YAAM,EAAE,YAAY,IAAIA;AACxB,YAAMC,OAAM,cAAM,eAAe,oBAAI,KAAK,CAAC;AAC3C,WAAK,QAAQ,QAAQ,UAAa,gBAAgB,OAAO,QAAQ,QAAQ,UAAU;AAC/E,cAAM,IAAI,yBAAyB,gCAAgC,OAAO,SAAS;AAAA,MACvF;AACA,UAAI,QAAQ,QAAQ,QAAW;AAC3B,YAAI,OAAO,QAAQ,QAAQ,UAAU;AACjC,gBAAM,IAAI,yBAAyB,gCAAgC,OAAO,SAAS;AAAA,QACvF;AACA,YAAI,QAAQ,MAAMA,OAAM,WAAW;AAC/B,gBAAM,IAAI,yBAAyB,sCAAsC,OAAO,cAAc;AAAA,QAClG;AAAA,MACJ;AACA,UAAI,QAAQ,QAAQ,QAAW;AAC3B,YAAI,OAAO,QAAQ,QAAQ,UAAU;AACjC,gBAAM,IAAI,yBAAyB,gCAAgC,OAAO,SAAS;AAAA,QACvF;AACA,YAAI,QAAQ,OAAOA,OAAM,WAAW;AAChC,gBAAM,IAAI,WAAW,sCAAsC,OAAO,cAAc;AAAA,QACpF;AAAA,MACJ;AACA,UAAI,aAAa;AACb,cAAM,MAAMA,OAAM,QAAQ;AAC1B,cAAM,MAAM,OAAO,gBAAgB,WAAW,cAAc,aAAK,WAAW;AAC5E,YAAI,MAAM,YAAY,KAAK;AACvB,gBAAM,IAAI,WAAW,4DAA4D,OAAO,cAAc;AAAA,QAC1G;AACA,YAAI,MAAM,IAAI,WAAW;AACrB,gBAAM,IAAI,yBAAyB,iEAAiE,OAAO,cAAc;AAAA,QAC7H;AAAA,MACJ;AACA,aAAO;AAAA,IACX;AAAA;AAAA;;;ACtGA,IAAAC,eAAA;AAAA;AAAA,IAAAA;AACA;AACA,IAAAC;AAAA;AAAA;;;ACCA,eAAsB,WAAWC,MAAKC,MAAKC,UAAS;AAChD,QAAM,YAAY,MAAM,eAAeF,MAAKC,MAAKC,QAAO;AACxD,QAAM,UAAU,uBAAW,UAAU,iBAAiB,UAAU,WAAWA,QAAO;AAClF,QAAM,EAAE,gBAAgB,IAAI;AAC5B,MAAI,gBAAgB,QAAQ,UAAa,gBAAgB,QAAQ,QAAQ,KAAK;AAC1E,UAAM,IAAI,yBAAyB,oDAAoD,OAAO,UAAU;AAAA,EAC5G;AACA,MAAI,gBAAgB,QAAQ,UAAa,gBAAgB,QAAQ,QAAQ,KAAK;AAC1E,UAAM,IAAI,yBAAyB,oDAAoD,OAAO,UAAU;AAAA,EAC5G;AACA,MAAI,gBAAgB,QAAQ,UACxB,KAAK,UAAU,gBAAgB,GAAG,MAAM,KAAK,UAAU,QAAQ,GAAG,GAAG;AACrE,UAAM,IAAI,yBAAyB,oDAAoD,OAAO,UAAU;AAAA,EAC5G;AACA,QAAM,SAAS,EAAE,SAAS,gBAAgB;AAC1C,MAAI,OAAOD,SAAQ,YAAY;AAC3B,WAAO,EAAE,GAAG,QAAQ,KAAK,UAAU,IAAI;AAAA,EAC3C;AACA,SAAO;AACX;AAtBA,IAAAE,gBAAA;AAAA;AAAA,IAAAA;AACA;AACA,IAAAC;AAAA;AAAA;;;ACFA,IACa;AADb,IAAAC,gBAAA;AAAA;AAAA,IAAAA;AACO,IAAM,iBAAN,MAAqB;AAAA,MACxB,YAAY,WAAW;AACnB,aAAK,aAAa,IAAI,iBAAiB,SAAS;AAAA,MACpD;AAAA,MACA,wBAAwB,KAAK;AACzB,aAAK,WAAW,wBAAwB,GAAG;AAC3C,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,IAAI;AACxB,aAAK,WAAW,wBAAwB,EAAE;AAC1C,eAAO;AAAA,MACX;AAAA,MACA,mBAAmB,iBAAiB;AAChC,aAAK,WAAW,mBAAmB,eAAe;AAClD,eAAO;AAAA,MACX;AAAA,MACA,2BAA2B,YAAY;AACnC,aAAK,WAAW,2BAA2B,UAAU;AACrD,eAAO;AAAA,MACX;AAAA,MACA,MAAM,QAAQC,MAAKC,UAAS;AACxB,cAAM,MAAM,MAAM,KAAK,WAAW,QAAQD,MAAKC,QAAO;AACtD,eAAO,CAAC,IAAI,WAAW,IAAI,eAAe,IAAI,IAAI,IAAI,YAAY,IAAI,GAAG,EAAE,KAAK,GAAG;AAAA,MACvF;AAAA,IACJ;AAAA;AAAA;;;ACzBA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;;;ACHA,IAAAC,aAAA;AAAA;AAAA;AACA;AACA;AACA,IAAAC;AACA;AACA;AACA;AAAA;AAAA;;;ACNA,IAAAC,aAAA;AAAA;AAAA,IAAAA;AAAA;AAAA;;;ACAA,IAAAC,aAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AAAA;AAAA;;;ACEA,SAAS,cAAc,OAAO,OAAO;AACjC,MAAI,CAAC,OAAO,SAAS,KAAK,GAAG;AACzB,UAAM,IAAI,UAAU,WAAW,KAAK,QAAQ;AAAA,EAChD;AACA,SAAO;AACX;AARA,IASa;AATb;AAAA;AAAA;AACA;AACA;AAOO,IAAM,aAAN,MAAiB;AAAA,MACpB,YAAY,UAAU,CAAC,GAAG;AACtB,YAAI,CAAC,SAAS,OAAO,GAAG;AACpB,gBAAM,IAAI,UAAU,kCAAkC;AAAA,QAC1D;AACA,aAAK,WAAW;AAAA,MACpB;AAAA,MACA,UAAU,QAAQ;AACd,aAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,OAAO;AAChD,eAAO;AAAA,MACX;AAAA,MACA,WAAW,SAAS;AAChB,aAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,QAAQ;AACjD,eAAO;AAAA,MACX;AAAA,MACA,YAAY,UAAU;AAClB,aAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,SAAS;AAClD,eAAO;AAAA,MACX;AAAA,MACA,OAAO,OAAO;AACV,aAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,MAAM;AAC/C,eAAO;AAAA,MACX;AAAA,MACA,aAAa,OAAO;AAChB,YAAI,OAAO,UAAU,UAAU;AAC3B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAc,gBAAgB,KAAK,EAAE;AAAA,QAClF,WACS,iBAAiB,MAAM;AAC5B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAc,gBAAgB,cAAM,KAAK,CAAC,EAAE;AAAA,QACzF,OACK;AACD,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAM,oBAAI,KAAK,CAAC,IAAI,aAAK,KAAK,EAAE;AAAA,QAC7E;AACA,eAAO;AAAA,MACX;AAAA,MACA,kBAAkB,OAAO;AACrB,YAAI,OAAO,UAAU,UAAU;AAC3B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAc,qBAAqB,KAAK,EAAE;AAAA,QACvF,WACS,iBAAiB,MAAM;AAC5B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAc,qBAAqB,cAAM,KAAK,CAAC,EAAE;AAAA,QAC9F,OACK;AACD,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAM,oBAAI,KAAK,CAAC,IAAI,aAAK,KAAK,EAAE;AAAA,QAC7E;AACA,eAAO;AAAA,MACX;AAAA,MACA,YAAY,OAAO;AACf,YAAI,OAAO,UAAU,aAAa;AAC9B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAM,oBAAI,KAAK,CAAC,EAAE;AAAA,QAC/D,WACS,iBAAiB,MAAM;AAC5B,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAc,eAAe,cAAM,KAAK,CAAC,EAAE;AAAA,QACxF,WACS,OAAO,UAAU,UAAU;AAChC,eAAK,WAAW;AAAA,YACZ,GAAG,KAAK;AAAA,YACR,KAAK,cAAc,eAAe,cAAM,oBAAI,KAAK,CAAC,IAAI,aAAK,KAAK,CAAC;AAAA,UACrE;AAAA,QACJ,OACK;AACD,eAAK,WAAW,EAAE,GAAG,KAAK,UAAU,KAAK,cAAc,eAAe,KAAK,EAAE;AAAA,QACjF;AACA,eAAO;AAAA,MACX;AAAA,IACJ;AAAA;AAAA;;;AC1EA,IAAAC,aAAA;AAAA;AAAA,IAAAA;AACA,IAAAC;AACA;AACA;AAAA;AAAA;;;ACHA,IAGa;AAHb,IAAAC,gBAAA;AAAA;AAAA,IAAAA;AACA;AACA;AACO,IAAM,aAAN,cAAyB,WAAW;AAAA,MACvC,mBAAmB,iBAAiB;AAChC,YAAI,KAAK,kBAAkB;AACvB,gBAAM,IAAI,UAAU,4CAA4C;AAAA,QACpE;AACA,aAAK,mBAAmB;AACxB,eAAO;AAAA,MACX;AAAA,MACA,2BAA2B,YAAY;AACnC,YAAI,KAAK,0BAA0B;AAC/B,gBAAM,IAAI,UAAU,oDAAoD;AAAA,QAC5E;AACA,aAAK,2BAA2B;AAChC,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,KAAK;AACzB,YAAI,KAAK,MAAM;AACX,gBAAM,IAAI,UAAU,iDAAiD;AAAA,QACzE;AACA,aAAK,OAAO;AACZ,eAAO;AAAA,MACX;AAAA,MACA,wBAAwB,IAAI;AACxB,YAAI,KAAK,KAAK;AACV,gBAAM,IAAI,UAAU,iDAAiD;AAAA,QACzE;AACA,aAAK,MAAM;AACX,eAAO;AAAA,MACX;AAAA,MACA,0BAA0B;AACtB,aAAK,2BAA2B;AAChC,eAAO;AAAA,MACX;AAAA,MACA,2BAA2B;AACvB,aAAK,4BAA4B;AACjC,eAAO;AAAA,MACX;AAAA,MACA,4BAA4B;AACxB,aAAK,6BAA6B;AAClC,eAAO;AAAA,MACX;AAAA,MACA,MAAM,QAAQC,MAAKC,UAAS;AACxB,cAAMC,OAAM,IAAI,eAAe,QAAQ,OAAO,KAAK,UAAU,KAAK,QAAQ,CAAC,CAAC;AAC5E,YAAI,KAAK,0BAA0B;AAC/B,eAAK,mBAAmB,EAAE,GAAG,KAAK,kBAAkB,KAAK,KAAK,SAAS,IAAI;AAAA,QAC/E;AACA,YAAI,KAAK,2BAA2B;AAChC,eAAK,mBAAmB,EAAE,GAAG,KAAK,kBAAkB,KAAK,KAAK,SAAS,IAAI;AAAA,QAC/E;AACA,YAAI,KAAK,4BAA4B;AACjC,eAAK,mBAAmB,EAAE,GAAG,KAAK,kBAAkB,KAAK,KAAK,SAAS,IAAI;AAAA,QAC/E;AACA,QAAAA,KAAI,mBAAmB,KAAK,gBAAgB;AAC5C,YAAI,KAAK,KAAK;AACV,UAAAA,KAAI,wBAAwB,KAAK,GAAG;AAAA,QACxC;AACA,YAAI,KAAK,MAAM;AACX,UAAAA,KAAI,wBAAwB,KAAK,IAAI;AAAA,QACzC;AACA,YAAI,KAAK,0BAA0B;AAC/B,UAAAA,KAAI,2BAA2B,KAAK,wBAAwB;AAAA,QAChE;AACA,eAAOA,KAAI,QAAQF,MAAKC,QAAO;AAAA,MACnC;AAAA,IACJ;AAAA;AAAA;;;ACzDA,eAAsB,uBAAuB,KAAK,iBAAiB;AAC/D,MAAI,CAAC,SAAS,GAAG,GAAG;AAChB,UAAM,IAAI,UAAU,uBAAuB;AAAA,EAC/C;AACA,sBAAoB,kBAAkB;AACtC,MAAI,oBAAoB,YACpB,oBAAoB,YACpB,oBAAoB,UAAU;AAC9B,UAAM,IAAI,UAAU,6DAA6D;AAAA,EACrF;AACA,MAAI;AACJ,UAAQ,IAAI,KAAK;AAAA,IACb,KAAK;AACD,YAAM,IAAI,KAAK,yBAAyB;AACxC,YAAM,IAAI,GAAG,8BAA8B;AAC3C,YAAM,IAAI,GAAG,8BAA8B;AAC3C,mBAAa,EAAE,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,GAAG,IAAI,GAAG,GAAG,IAAI,EAAE;AAC9D;AAAA,IACJ,KAAK;AACD,YAAM,IAAI,KAAK,uCAAuC;AACtD,YAAM,IAAI,GAAG,4BAA4B;AACzC,mBAAa,EAAE,KAAK,IAAI,KAAK,KAAK,IAAI,KAAK,GAAG,IAAI,EAAE;AACpD;AAAA,IACJ,KAAK;AACD,YAAM,IAAI,GAAG,0BAA0B;AACvC,YAAM,IAAI,GAAG,yBAAyB;AACtC,mBAAa,EAAE,GAAG,IAAI,GAAG,KAAK,IAAI,KAAK,GAAG,IAAI,EAAE;AAChD;AAAA,IACJ,KAAK;AACD,YAAM,IAAI,GAAG,2BAA2B;AACxC,mBAAa,EAAE,GAAG,IAAI,GAAG,KAAK,IAAI,IAAI;AACtC;AAAA,IACJ;AACI,YAAM,IAAI,iBAAiB,mDAAmD;AAAA,EACtF;AACA,QAAM,OAAO,QAAQ,OAAO,KAAK,UAAU,UAAU,CAAC;AACtD,SAAO,OAAU,MAAM,eAAO,iBAAiB,IAAI,CAAC;AACxD;AA/CA,IAKM;AALN;AAAA;AAAA;AACA;AACA,IAAAE;AACA;AACA;AACA,IAAM,QAAQ,CAAC,OAAO,gBAAgB;AAClC,UAAI,OAAO,UAAU,YAAY,CAAC,OAAO;AACrC,cAAM,IAAI,WAAW,GAAG,WAAW,qBAAqB;AAAA,MAC5D;AAAA,IACJ;AAAA;AAAA;;;ACTA;AAAA;AAAA;AACA;AACA,IAAAC;AAAA;AAAA;;;ACFA;AAAA;AAAA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACFA;AAAA;AAAA,IAAAC;AAAA;AAAA;;;ACAA,IAQI;AARJ;AAAA;AAAA;AACA,IAAAC;AACA;AAOA,QAAI,OAAO,cAAc,eAAe,CAAC,UAAU,WAAW,aAAa,cAAc,GAAG;AACxF,YAAM,OAAO;AACb,YAAM,UAAU;AAChB,mBAAa,GAAG,IAAI,IAAI,OAAO;AAAA,IACnC;AAAA;AAAA;;;ACbA;AAAA;AAAA;AACA;AACA,IAAAC;AACA;AACA;AAAA;AAAA;;;ACJA,IAAAC,qBAAA;AAAA,SAAAA,oBAAA;AAAA,gBAAAC;AAAA,EAAA,cAAAC;AAAA;AAAA,IACaA,SACAD;AAFb,IAAAE,kBAAA;AAAA;AAAA;AACO,IAAMD,UAAmB;AACzB,IAAMD,UAAmB;AAAA;AAAA;;;ACFhC;AAAA;AAAA,IAAAG;AACA;AACA;AAAA;AAAA;;;ACFA;AAAA;AAAA,IAAAC;AACA;AACA;AACA,IAAAC;AAAA;AAAA;;;ACHA;AAAA;AAAA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACFA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAA;;;ACAA,IAAAC,gBAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA,IAAAC;AACA,IAAAA;AACA,IAAAA;AACA,IAAAC;AACA,IAAAC;AACA,IAAAA;AACA,IAAAA;AACA,IAAAA;AACA,IAAAF;AACA,IAAAC;AACA,IAAAA;AACA,IAAAE;AACA,IAAAA;AACA,IAAAA;AACA,IAAAA;AACA,IAAAF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAG;AACA;AACA;AACA,IAAAC;AACA,IAAAC;AAAA;AAAA;;;AC7BA;AAAA;AAAA;AAcA,YAAQ,QAAQC;AAChB,YAAQ,YAAYC;AAOpB,QAAI,aAAa,OAAO,UAAU;AAUlC,QAAI,qBAAqB;AAczB,aAASD,OAAM,KAAKE,UAAS;AAC3B,UAAI,OAAO,QAAQ,UAAU;AAC3B,cAAM,IAAI,UAAU,+BAA+B;AAAA,MACrD;AAEA,UAAI,MAAM,CAAC;AACX,UAAI,MAAMA,YAAW,CAAC;AACtB,UAAI,MAAM,IAAI,UAAUC;AAExB,UAAIC,SAAQ;AACZ,aAAOA,SAAQ,IAAI,QAAQ;AACzB,YAAI,QAAQ,IAAI,QAAQ,KAAKA,MAAK;AAGlC,YAAI,UAAU,IAAI;AAChB;AAAA,QACF;AAEA,YAAI,SAAS,IAAI,QAAQ,KAAKA,MAAK;AAEnC,YAAI,WAAW,IAAI;AACjB,mBAAS,IAAI;AAAA,QACf,WAAW,SAAS,OAAO;AAEzB,UAAAA,SAAQ,IAAI,YAAY,KAAK,QAAQ,CAAC,IAAI;AAC1C;AAAA,QACF;AAEA,YAAIC,OAAM,IAAI,MAAMD,QAAO,KAAK,EAAE,KAAK;AAGvC,YAAI,WAAc,IAAIC,IAAG,GAAG;AAC1B,cAAI,MAAM,IAAI,MAAM,QAAQ,GAAG,MAAM,EAAE,KAAK;AAG5C,cAAI,IAAI,WAAW,CAAC,MAAM,IAAM;AAC9B,kBAAM,IAAI,MAAM,GAAG,EAAE;AAAA,UACvB;AAEA,cAAIA,IAAG,IAAI,UAAU,KAAK,GAAG;AAAA,QAC/B;AAEA,QAAAD,SAAQ,SAAS;AAAA,MACnB;AAEA,aAAO;AAAA,IACT;AAkBA,aAASH,WAAU,MAAM,KAAKC,UAAS;AACrC,UAAI,MAAMA,YAAW,CAAC;AACtB,UAAII,OAAM,IAAI,UAAUC;AAExB,UAAI,OAAOD,SAAQ,YAAY;AAC7B,cAAM,IAAI,UAAU,0BAA0B;AAAA,MAChD;AAEA,UAAI,CAAC,mBAAmB,KAAK,IAAI,GAAG;AAClC,cAAM,IAAI,UAAU,0BAA0B;AAAA,MAChD;AAEA,UAAI,QAAQA,KAAI,GAAG;AAEnB,UAAI,SAAS,CAAC,mBAAmB,KAAK,KAAK,GAAG;AAC5C,cAAM,IAAI,UAAU,yBAAyB;AAAA,MAC/C;AAEA,UAAI,MAAM,OAAO,MAAM;AAEvB,UAAI,QAAQ,IAAI,QAAQ;AACtB,YAAI,SAAS,IAAI,SAAS;AAE1B,YAAI,MAAM,MAAM,KAAK,CAAC,SAAS,MAAM,GAAG;AACtC,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD;AAEA,eAAO,eAAe,KAAK,MAAM,MAAM;AAAA,MACzC;AAEA,UAAI,IAAI,QAAQ;AACd,YAAI,CAAC,mBAAmB,KAAK,IAAI,MAAM,GAAG;AACxC,gBAAM,IAAI,UAAU,0BAA0B;AAAA,QAChD;AAEA,eAAO,cAAc,IAAI;AAAA,MAC3B;AAEA,UAAI,IAAI,MAAM;AACZ,YAAI,CAAC,mBAAmB,KAAK,IAAI,IAAI,GAAG;AACtC,gBAAM,IAAI,UAAU,wBAAwB;AAAA,QAC9C;AAEA,eAAO,YAAY,IAAI;AAAA,MACzB;AAEA,UAAI,IAAI,SAAS;AACf,YAAI,UAAU,IAAI;AAElB,YAAI,CAAC,OAAO,OAAO,KAAK,MAAM,QAAQ,QAAQ,CAAC,GAAG;AAChD,gBAAM,IAAI,UAAU,2BAA2B;AAAA,QACjD;AAEA,eAAO,eAAe,QAAQ,YAAY;AAAA,MAC5C;AAEA,UAAI,IAAI,UAAU;AAChB,eAAO;AAAA,MACT;AAEA,UAAI,IAAI,QAAQ;AACd,eAAO;AAAA,MACT;AAEA,UAAI,IAAI,aAAa;AACnB,eAAO;AAAA,MACT;AAEA,UAAI,IAAI,UAAU;AAChB,YAAI,WAAW,OAAO,IAAI,aAAa,WACnC,IAAI,SAAS,YAAY,IACzB,IAAI;AAER,gBAAQ,UAAU;AAAA,UAChB,KAAK;AACH,mBAAO;AACP;AAAA,UACF,KAAK;AACH,mBAAO;AACP;AAAA,UACF,KAAK;AACH,mBAAO;AACP;AAAA,UACF;AACE,kBAAM,IAAI,UAAU,4BAA4B;AAAA,QACpD;AAAA,MACF;AAEA,UAAI,IAAI,UAAU;AAChB,YAAI,WAAW,OAAO,IAAI,aAAa,WACnC,IAAI,SAAS,YAAY,IAAI,IAAI;AAErC,gBAAQ,UAAU;AAAA,UAChB,KAAK;AACH,mBAAO;AACP;AAAA,UACF,KAAK;AACH,mBAAO;AACP;AAAA,UACF,KAAK;AACH,mBAAO;AACP;AAAA,UACF,KAAK;AACH,mBAAO;AACP;AAAA,UACF;AACE,kBAAM,IAAI,UAAU,4BAA4B;AAAA,QACpD;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AASA,aAASH,QAAQ,KAAK;AACpB,aAAO,IAAI,QAAQ,GAAG,MAAM,KACxB,mBAAmB,GAAG,IACtB;AAAA,IACN;AASA,aAASI,QAAQ,KAAK;AACpB,aAAO,mBAAmB,GAAG;AAAA,IAC/B;AASA,aAAS,OAAQ,KAAK;AACpB,aAAO,WAAW,KAAK,GAAG,MAAM,mBAC9B,eAAe;AAAA,IACnB;AAUA,aAAS,UAAU,KAAKJ,SAAQ;AAC9B,UAAI;AACF,eAAOA,QAAO,GAAG;AAAA,MACnB,SAASK,IAAG;AACV,eAAO;AAAA,MACT;AAAA,IACF;AAAA;AAAA;;;AClOA,eAAsBC,QAAO,QAAQ;AACjC,QAAM,EAAE,QAAQ,CAAC,GAAG,QAAQ,SAAS,iBAAiB,KAAK,IAAI;AAC/D,QAAM,UAAU,MAAM,QAAQ,MAAM,IAAI,SAAS,CAAC,MAAM;AACxD,QAAM,mBAAmB,MAAM,wBAAwB,KAAK,QAAQ,CAAC,GAAG,IAAI;AAC5E,QAAM,aAAa,MAAM,uBAAuB,EAAE,KAAK,OAAO,GAAGC,mBAAU,OAAO,gBAAgB,EAAE,GAAG,MAAM,iBAAiB,cAAc,CAAC,EAAE;AAE/I,SAAO,MAAM,IAAI,WAAW,KAAK,EAC5B,mBAAmB,EAAE,KAAK,KAAK,KAAK,WAAW,CAAC,EAChD,YAAY,EACZ,kBAAkB,IAAI,IAAI,MAAM,EAChC,OAAO,OAAO,WAAW,CAAC,EAC1B,QAAQ,gBAAgB;AACjC;AAEA,eAAsBC,QAAO,QAAQ;AACjC,QAAM,EAAE,OAAO,QAAQ,KAAK,IAAI;AAChC,QAAM,UAAU,MAAM,QAAQ,MAAM,IAAI,SAAS,CAAC,MAAM;AACxD,MAAI,CAAC;AACD,WAAO;AACX,QAAM,EAAE,QAAQ,IAAI,MAAM,WAAW,OAAO,OAAO,EAAE,KAAK,KAAAC,KAAI,MAAM;AAChE,eAAWC,WAAU,SAAS;AAC1B,YAAM,mBAAmB,MAAM,wBAAwBD,MAAKC,SAAQ,IAAI;AACxE,UAAI,QAAQ;AACR,eAAO;AACX,YAAM,aAAa,MAAM,uBAAuB,EAAE,KAAK,OAAO,GAAGH,mBAAU,OAAO,gBAAgB,EAAE,GAAG,MAAM,iBAAiB,cAAc,CAAC,EAAE;AAC/I,UAAI,QAAQ;AACR,eAAO;AAAA,IACf;AACA,UAAM,IAAI,MAAM,+BAA+B;AAAA,EACnD,GAAG;AAAA,IACC,gBAAgB;AAAA,IAChB,yBAAyB,CAAC,GAAG;AAAA,IAC7B,6BAA6B,CAAC,KAAK,SAAS;AAAA,EAChD,CAAC;AACD,SAAO;AACX;AA4BA,eAAe,wBAAwBE,MAAK,aAAa,MAAM;AAC3D,MAAI;AACJ,UAAQA,MAAK;AAAA,IACT,KAAK;AACD,eAAS;AACT;AAAA,IACJ,KAAK;AACD,eAAS;AACT;AAAA,IACJ;AACI,YAAM,IAAI,MAAM,8CAA8C;AAAA,EACtE;AACA,SAAO,MAAM,KAAK,UAAU,aAAa,MAAM,qCAAqC,IAAI,KAAK,MAAM;AACvG;AA3HA,IAyCAE,gBACM,iBACA,KACA,KACA;AA7CN;AAAA;AAqCA;AACA;AACA;AACA;AACA,IAAAA,iBAAsB;AACtB,IAAM,kBAAkB,KAAK,KAAK,KAAK;AACvC,IAAM,MAAM,MAAO,KAAK,IAAI,IAAI,MAAQ;AACxC,IAAM,MAAM;AACZ,IAAM,MAAM;AAAA;AAAA;;;ACzCZ,eAAsB,kBAAkB,EAAE,SAAAC,UAAS,YAAY,YAAa,GAAG;AAC3E,QAAM,EAAE,KAAK,UAAU,IAAIA;AAC3B,MAAI,cAAc,IAAI;AACtB,MAAI,YAAY;AAEZ,kBAAc,MAAM,UAAU,SAAS;AAAA,MACnC,KAAK;AAAA,MACL,SAAS,IAAI;AAAA,IACjB,CAAC;AAAA,EACL,WACS,aAAa;AAElB,kBAAc,MAAM,UAAU,SAAS;AAAA,MACnC,KAAK;AAAA,MACL,SAAS,IAAI;AAAA,IACjB,CAAC;AAAA,EACL;AACA,SAAO;AAAA,IACH;AAAA;AAAA,IAEA,mBAAmB,gBAAgB,cAAc,cAAc;AAAA,EACnE;AACJ;AA1BA;AAAA;AAAA;AAAA;;;ACkCO,SAAS,UAAU,YAAY,CAAC,GAAG,OAAO;AAE7C,MAAI,CAAC;AACD,WAAO,QAAQ,MAAM;AAAA,IAAE;AAC3B,MAAI,UAAU;AACV,WAAO,QAAQ,UAAU;AAC7B,MAAI,UAAU;AACV,WAAO,OAAO,UAAU;AAC5B,MAAI,UAAU;AACV,WAAO,QAAQ,UAAU;AACjC;AA5CA,IACM,KACA,QACA,MACA,OACO;AALb;AAAA;AAAA;AACA,IAAM,MAAM;AACZ,IAAM,SAAS;AACf,IAAM,OAAO;AACb,IAAM,QAAQ;AACP,IAAM,SAAS;AAAA,MAClB,MAAM,OAAO;AACT,cAAM,OAAO,iBAAiB,YAAY,MAAM,OAAO,MAAM;AAC7D,gBAAQ,MAAM,GAAG,GAAG,gBAAgB,KAAK,IAAI,IAAI,KAAK,MAAM,OAAO,EAAE;AACrE,YAAI,MAAM,SACN,OAAO,MAAM,UAAU,YACvB,SAAS,MAAM,SACf,MAAM,MAAM,eAAe,OAAO;AAClC,gBAAM,EAAE,KAAK,GAAG,KAAK,IAAI,MAAM;AAC/B,kBAAQ,MAAM,GAAG,GAAG,gBAAgB,KAAK,KAAK,IAAI,KAAK;AACvD,cAAI;AACA,oBAAQ,MAAM,GAAG,GAAG,kBAAkB,KAAK,KAAK,KAAK,UAAU,MAAM,MAAM,CAAC,CAAC;AAAA,QACrF,WACS,MAAM,OAAO;AAClB,kBAAQ,MAAM,MAAM,MAAM,QAAQ,MAAM,EAAE,EAAE,UAAU,CAAC,CAAC;AAAA,QAC5D;AAAA,MACJ;AAAA,MACA,KAAK,MAAM;AACP,cAAM,MAAM,+BAA+B,IAAI;AAC/C,gBAAQ,KAAK,GAAG,MAAM,gBAAgB,IAAI,IAAI,KAAK,IAAI,cAAc,GAAG,EAAE;AAAA,MAC9E;AAAA,MACA,MAAMC,UAAS,UAAU;AACrB,gBAAQ,IAAI,GAAG,IAAI,iBAAiB,KAAK,IAAIA,QAAO,IAAI,KAAK,UAAU,UAAU,MAAM,CAAC,CAAC;AAAA,MAC7F;AAAA,IACJ;AAAA;AAAA;;;AClBO,SAAS,aAAa,QAAQ;AACjC,SAAO,QAAQ,SAAS,MAAM;AAClC;AAbA,IAAM;AAAN;AAAA;AAAA,IAAM,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ;AAAA;AAAA;;;ACNA,eAAe,QAAQ,KAAK;AACxB,MAAI,EAAE,UAAU,QAAQ,CAAC,IAAI,QAAQ,IAAI,WAAW;AAChD;AACJ,QAAM,cAAc,IAAI,QAAQ,IAAI,cAAc;AAClD,MAAI,aAAa,SAAS,kBAAkB,GAAG;AAC3C,WAAO,MAAM,IAAI,KAAK;AAAA,EAC1B,WACS,aAAa,SAAS,mCAAmC,GAAG;AACjE,UAAM,SAAS,IAAI,gBAAgB,MAAM,IAAI,KAAK,CAAC;AACnD,WAAO,OAAO,YAAY,MAAM;AAAA,EACpC;AACJ;AACA,eAAsB,kBAAkB,KAAKC,SAAQ;AACjD,MAAI;AACA,QAAI,IAAI,WAAW,SAAS,IAAI,WAAW;AACvC,YAAM,IAAI,cAAc,2CAA2C;AAEvE,IAAAA,QAAO,aAAaA,QAAO,WAAW;AACtC,UAAM,MAAM,IAAI,IAAI,IAAI,GAAG;AAC3B,UAAM,EAAE,QAAQ,WAAW,IAAI,yBAAyB,IAAI,UAAUA,QAAO,QAAQ;AACrF,WAAO;AAAA,MACH;AAAA,MACA;AAAA,MACA;AAAA,MACA,QAAQ,IAAI;AAAA,MACZ,SAAS,OAAO,YAAY,IAAI,OAAO;AAAA,MACvC,MAAM,IAAI,OAAO,MAAM,QAAQ,GAAG,IAAI;AAAA,MACtC,aAAS,eAAAC,OAAY,IAAI,QAAQ,IAAI,QAAQ,KAAK,EAAE,KAAK,CAAC;AAAA,MAC1D,OAAO,IAAI,aAAa,IAAI,OAAO,KAAK;AAAA,MACxC,OAAO,OAAO,YAAY,IAAI,YAAY;AAAA,IAC9C;AAAA,EACJ,SACOC,IAAG;AACN,WAAO,MAAMA,EAAC;AACd,WAAO,MAAM,WAAW,GAAG;AAAA,EAC/B;AACJ;AACO,SAAS,UAAU,SAAS;AAC/B,SAAO,IAAI,QAAQ,QAAQ,KAAK;AAAA,IAC5B,SAAS,QAAQ;AAAA,IACjB,QAAQ,QAAQ;AAAA,IAChB,MAAM,QAAQ,WAAW,SACnB,KAAK,UAAU,QAAQ,QAAQ,CAAC,CAAC,IACjC;AAAA,EACV,CAAC;AACL;AACO,SAAS,WAAW,KAAK;AAC5B,QAAMC,WAAU,IAAI,QAAQ,IAAI,OAAO;AACvC,MAAI,SAAS,QAAQ,CAAC,WAAW;AAC7B,UAAM,EAAE,MAAM,OAAO,SAAAC,SAAQ,IAAI;AACjC,UAAM,mBAAe,0BAAU,MAAM,OAAOA,QAAO;AACnD,QAAID,SAAQ,IAAI,YAAY;AACxB,MAAAA,SAAQ,OAAO,cAAc,YAAY;AAAA;AAEzC,MAAAA,SAAQ,IAAI,cAAc,YAAY;AAAA,EAC9C,CAAC;AACD,MAAIE,QAAO,IAAI;AACf,MAAIF,SAAQ,IAAI,cAAc,MAAM;AAChC,IAAAE,QAAO,KAAK,UAAU,IAAI,IAAI;AAAA,WACzBF,SAAQ,IAAI,cAAc,MAAM;AACrC,IAAAE,QAAO,IAAI,gBAAgB,IAAI,IAAI,EAAE,SAAS;AAClD,QAAM,SAAS,IAAI,WAAW,MAAM,IAAI,UAAU;AAClD,QAAM,WAAW,IAAI,SAASA,OAAM,EAAE,SAAAF,UAAS,OAAO,CAAC;AACvD,MAAI,IAAI;AACJ,aAAS,QAAQ,IAAI,YAAY,IAAI,QAAQ;AACjD,SAAO;AACX;AAEA,eAAsB,WAAWG,UAAS;AACtC,QAAM,OAAO,IAAI,YAAY,EAAE,OAAOA,QAAO;AAC7C,QAAMC,QAAO,MAAM,OAAO,OAAO,OAAO,WAAW,IAAI;AACvD,SAAO,MAAM,KAAK,IAAI,WAAWA,KAAI,CAAC,EACjC,IAAI,CAACC,OAAMA,GAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,CAAC,EAC1C,KAAK,EAAE,EACP,SAAS;AAClB;AAEO,SAAS,aAAa,MAAM;AAC/B,QAAM,QAAQ,CAACC,QAAO,MAAMA,GAAE,SAAS,EAAE,GAAG,MAAM,EAAE;AACpD,QAAMC,KAAI,CAACC,IAAGF,OAAME,KAAI,MAAMF,EAAC;AAC/B,QAAM,QAAQ,OAAO,gBAAgB,IAAI,WAAW,IAAI,CAAC;AACzD,SAAO,MAAM,KAAK,KAAK,EAAE,OAAOC,IAAG,EAAE;AACzC;AAEO,SAAS,yBAAyB,UAAUE,OAAM;AACrD,QAAMD,KAAI,SAAS,MAAM,IAAI,OAAO,IAAIC,KAAI,MAAM,CAAC;AACnD,MAAID,OAAM;AACN,UAAM,IAAI,cAAc,0BAA0B,QAAQ,EAAE;AAChE,QAAM,CAACE,IAAG,mBAAmB,IAAIF;AACjC,QAAMH,KAAI,oBAAoB,QAAQ,OAAO,EAAE,EAAE,MAAM,GAAG;AAC1D,MAAIA,GAAE,WAAW,KAAKA,GAAE,WAAW;AAC/B,UAAM,IAAI,cAAc,0BAA0B,QAAQ,EAAE;AAChE,QAAM,CAAC,QAAQ,UAAU,IAAIA;AAC7B,MAAI,CAAC,aAAa,MAAM;AACpB,UAAM,IAAI,cAAc,0BAA0B,QAAQ,EAAE;AAChE,MAAI,cAAc,CAAC,CAAC,UAAU,YAAY,kBAAkB,EAAE,SAAS,MAAM;AACzE,UAAM,IAAI,cAAc,0BAA0B,QAAQ,EAAE;AAChE,SAAO,EAAE,QAAQ,WAAW;AAChC;AAtGA,IAAAM;AAAA,IAAAC,YAAA;AAAA;AAAA,IAAAD,iBAAgD;AAChD;AACA;AACA;AAAA;AAAA;;;ACaA,eAAsB,gBAAgB,EAAE,SAAAE,UAAS,aAAa,QAAQ,UAAW,GAAG;AAChF,MAAI,aAAa;AACb,UAAM,CAACC,YAAWC,cAAa,IAAI,YAAY,MAAM,GAAG;AACxD,UAAM,wBAAwB,MAAM,WAAW,GAAGD,UAAS,GAAGD,SAAQ,MAAM,EAAE;AAC9E,QAAIE,mBAAkB,uBAAuB;AAIzC,YAAM,oBAAoB,UAAUD,eAAc;AAClD,aAAO,EAAE,mBAAmB,WAAAA,WAAU;AAAA,IAC1C;AAAA,EACJ;AAEA,QAAM,YAAY,aAAa,EAAE;AACjC,QAAM,gBAAgB,MAAM,WAAW,GAAG,SAAS,GAAGD,SAAQ,MAAM,EAAE;AACtE,QAAM,SAAS,GAAG,SAAS,IAAI,aAAa;AAC5C,SAAO,EAAE,QAAQ,UAAU;AAC/B;AACO,SAAS,aAAa,QAAQ,UAAU;AAC3C,MAAI;AACA;AACJ,QAAM,IAAI,YAAY,2CAA2C,MAAM,GAAG;AAC9E;AAtCA;AAAA;AAAA,IAAAG;AACA;AAAA;AAAA;;;ACCA,SAASC,UAAS,MAAM;AACpB,SAAO,QAAQ,OAAO,SAAS,YAAY,CAAC,MAAM,QAAQ,IAAI;AAClE;AAEO,SAAS,MAAM,WAAW,SAAS;AACtC,MAAI,CAAC,QAAQ;AACT,WAAO;AACX,QAAM,SAAS,QAAQ,MAAM;AAC7B,MAAIA,UAAS,MAAM,KAAKA,UAAS,MAAM,GAAG;AACtC,eAAWC,QAAO,QAAQ;AACtB,UAAID,UAAS,OAAOC,IAAG,CAAC,GAAG;AACvB,YAAI,CAAC,OAAOA,IAAG;AACX,iBAAO,OAAO,QAAQ,EAAE,CAACA,IAAG,GAAG,CAAC,EAAE,CAAC;AACvC,cAAM,OAAOA,IAAG,GAAG,OAAOA,IAAG,CAAC;AAAA,MAClC,OACK;AACD,eAAO,OAAO,QAAQ,EAAE,CAACA,IAAG,GAAG,OAAOA,IAAG,EAAE,CAAC;AAAA,MAChD;AAAA,IACJ;AAAA,EACJ;AACA,SAAO,MAAM,QAAQ,GAAG,OAAO;AACnC;AAvBA;AAAA;AAAA;AAAA;;;ACKe,SAAR,eAAgC,QAAQ;AAC3C,QAAM,EAAE,YAAY,SAAAC,SAAQ,IAAI;AAChC,QAAM,MAAM,IAAI,IAAIA,SAAQ,YAAY,SAAS,OAAO,IAAI,MAAM;AAClE,QAAM,YAAY,OAAO,UAAU,IAAI,CAACC,OAAM;AAC1C,UAAM,WAAW,OAAOA,OAAM,aAAaA,GAAE,IAAIA;AACjD,UAAM,EAAE,SAAS,aAAa,GAAG,SAAS,IAAI;AAC9C,UAAM,KAAM,aAAa,MAAM,SAAS;AACxC,UAAM,SAAS,MAAM,UAAU,aAAa;AAAA,MACxC,WAAW,GAAG,GAAG,WAAW,EAAE;AAAA,MAC9B,aAAa,GAAG,GAAG,aAAa,EAAE;AAAA,IACtC,CAAC;AACD,QAAI,SAAS,SAAS,WAAW,SAAS,SAAS,QAAQ;AACvD,aAAO,qBAAqB,OAAO,mBAAmBD,SAAQ;AAC9D,aAAO,eAAe,MAAM;AAAA,IAChC;AACA,WAAO;AAAA,EACX,CAAC;AACD,SAAO;AAAA,IACH;AAAA,IACA,UAAU,UAAU,KAAK,CAAC,EAAE,GAAG,MAAM,OAAO,UAAU;AAAA,EAC1D;AACJ;AAGA,SAAS,eAAeE,IAAG;AACvB,MAAIA,GAAE;AACF,IAAAA,GAAE,cAAcA,GAAE,YAAY,GAAGA,GAAE,MAAM;AAC7C,QAAM,gBAAgB,kBAAkBA,GAAE,eAAeA,GAAE,MAAM;AACjE,MAAI,iBAAiB,CAAC,cAAc,KAAK,aAAa,IAAI,OAAO,GAAG;AAChE,kBAAc,IAAI,aAAa,IAAI,SAAS,sBAAsB;AAAA,EACtE;AACA,QAAM,QAAQ,kBAAkBA,GAAE,OAAOA,GAAE,MAAM;AACjD,QAAM,WAAW,kBAAkBA,GAAE,UAAUA,GAAE,MAAM;AACvD,QAAM,SAASA,GAAE,UAAU,CAAC,MAAM;AAClC,MAAIA,GAAE,kBAAkB;AACpB,QAAI,CAAC,OAAO,SAAS,OAAO;AACxB,aAAO,KAAK,OAAO;AACvB,IAAAA,GAAE,mBAAmB,GAAGA,GAAE,gBAAgB,aAAaA,GAAE,EAAE;AAAA,EAC/D;AACA,SAAO;AAAA,IACH,GAAGA;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,SAASA,GAAE,WAAW;AAAA,IACtB,SAASA,GAAE,WAAW;AAAA,EAC1B;AACJ;AAoCA,SAAS,eAAeC,IAAG;AACvB,QAAM,SAAS,CAAC;AAChB,WAAS,CAACC,IAAGC,EAAC,KAAK,OAAO,QAAQF,EAAC;AAC/B,IAAAE,OAAM,WAAc,OAAOD,EAAC,IAAIC;AACpC,SAAO;AACX;AACA,SAAS,kBAAkBC,IAAG,QAAQ;AAClC,MAAI,CAACA,MAAK;AACN;AACJ,MAAI,OAAOA,OAAM,UAAU;AACvB,WAAO,EAAE,KAAK,IAAI,IAAIA,EAAC,EAAE;AAAA,EAC7B;AAQA,QAAM,MAAM,IAAI,IAAIA,IAAG,OAAO,oBAAoB;AAClD,MAAIA,IAAG,UAAU,MAAM;AACnB,aAAS,CAACC,MAAK,KAAK,KAAK,OAAO,QAAQD,GAAE,MAAM,GAAG;AAC/C,UAAIC,SAAQ;AACR,gBAAQ,KAAK,UAAU,KAAK;AAChC,UAAI,aAAa,IAAIA,MAAK,OAAO,KAAK,CAAC;AAAA,IAC3C;AAAA,EACJ;AACA,SAAO,EAAE,KAAK,SAASD,IAAG,SAAS,SAASA,IAAG,QAAQ;AAC3D;AArHA,IAgEM,gBAcA;AA9EN;AAAA;AAAA;AAgEA,IAAM,iBAAiB,CAAC,YAAY;AAChC,aAAO,eAAe;AAAA,QAClB,IAAI,QAAQ,OAAO,QAAQ,MAAM,OAAO,WAAW;AAAA,QACnD,MAAM,QAAQ,QAAQ,QAAQ,YAAY,QAAQ;AAAA,QAClD,OAAO,QAAQ;AAAA,QACf,OAAO,QAAQ;AAAA,MACnB,CAAC;AAAA,IACL;AAOA,IAAM,iBAAiB,CAAC,YAAY;AAChC,aAAO,eAAe;AAAA,QAClB,cAAc,QAAQ;AAAA,QACtB,UAAU,QAAQ;AAAA,QAClB,eAAe,QAAQ;AAAA,QACvB,YAAY,QAAQ;AAAA,QACpB,OAAO,QAAQ;AAAA,QACf,YAAY,QAAQ;AAAA,QACpB,eAAe,QAAQ;AAAA,MAC3B,CAAC;AAAA,IACL;AAAA;AAAA;;;ACtDA,eAAsB,KAAK,EAAE,aAAa,YAAY,QAAQ,KAAK,SAAS,YAAY,aAAa,gBAAgB,WAAW,cAAc,cAAc,OAAQ,GAAG;AACnK,QAAM,EAAE,WAAW,SAAS,IAAI,eAAe;AAAA,IAC3C,WAAW,YAAY;AAAA,IACvB;AAAA,IACA;AAAA,IACA,SAAS;AAAA,EACb,CAAC;AACD,QAAM,SAAS,KAAK,KAAK,KAAK;AAC9B,MAAI,oBAAoB;AACxB,OAAK,UAAU,SAAS,WAAW,UAAU,SAAS,WAClD,SAAS,kBAAkB;AAC3B,QAAI;AACA,0BACI,IAAI,IAAI,SAAS,gBAAgB,EAAE,WAAW,IAAI;AAAA,IAC1D,QACM;AACF,YAAM,IAAI,UAAU,mDAAmD,SAAS,gBAAgB,EAAE;AAAA,IACtG;AAAA,EACJ;AAGA,QAAME,WAAU;AAAA,IACZ,OAAO;AAAA,IACP,OAAO,CAAC;AAAA,IACR,OAAO;AAAA,MACH,aAAa;AAAA,MACb,MAAM;AAAA,MACN,YAAY;AAAA,MACZ,YAAY;AAAA,IAChB;AAAA;AAAA,IAEA,GAAG;AAAA;AAAA;AAAA,IAGH;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA,SAAS,MAAa,eAAe,YAAY,oBAAoB,IAAI,aAAa,QAAQ,GAAG,YAAY,OAAO;AAAA,IACpH;AAAA;AAAA,IAEA,SAAS;AAAA;AAAA,MAEL,UAAU,YAAY,UAAU,aAAa;AAAA,MAC7C;AAAA,MACA,WAAW,KAAK,KAAK;AAAA,MACrB,sBAAsB,MAAM,OAAO,WAAW;AAAA,MAC9C,GAAG,YAAY;AAAA,IACnB;AAAA;AAAA,IAEA,KAAK;AAAA,MACD,QAAQ,YAAY;AAAA;AAAA,MACpB,QAAQ,YAAY,SAAS,UAAU;AAAA;AAAA,MACvC,QAAYC;AAAA,MACZ,QAAYC;AAAA,MACZ,GAAG,YAAY;AAAA,IACnB;AAAA;AAAA,IAEA,QAAQ,mBAAmB,YAAY,UAAU,CAAC,GAAG,MAAM;AAAA,IAC3D,SAAS,oBAAoB,YAAY,SAAS,MAAM;AAAA;AAAA,IAExD,WAAW,EAAE,GAAG,kBAAkB,GAAG,YAAY,UAAU;AAAA,IAC3D;AAAA,IACA,aAAa,IAAI;AAAA,IACjB;AAAA,IACA,cAAc;AAAA,MACV,GAAG,YAAY;AAAA,IACnB;AAAA,EACJ;AAEA,QAAM,UAAU,CAAC;AACjB,MAAI,cAAc;AACd,IAAAF,SAAQ,oBAAoB;AAAA,EAChC,OACK;AACD,UAAM,EAAE,WAAW,QAAQ,YAAY,kBAAmB,IAAI,MAAM,gBAAgB;AAAA,MAChF,SAAAA;AAAA,MACA,aAAa,aAAaA,SAAQ,QAAQ,UAAU,IAAI;AAAA,MACxD;AAAA,MACA,WAAW;AAAA,IACf,CAAC;AACD,IAAAA,SAAQ,YAAY;AACpB,IAAAA,SAAQ,oBAAoB;AAC5B,QAAI,YAAY;AACZ,cAAQ,KAAK;AAAA,QACT,MAAMA,SAAQ,QAAQ,UAAU;AAAA,QAChC,OAAO;AAAA,QACP,SAASA,SAAQ,QAAQ,UAAU;AAAA,MACvC,CAAC;AAAA,IACL;AAAA,EACJ;AACA,QAAM,EAAE,aAAa,kBAAkB,IAAI,MAAM,kBAAkB;AAAA,IAC/D,SAAAA;AAAA,IACA,aAAa,aAAaA,SAAQ,QAAQ,YAAY,IAAI;AAAA,IAC1D,YAAY;AAAA,EAChB,CAAC;AACD,EAAAA,SAAQ,cAAc;AACtB,MAAI,mBAAmB;AACnB,YAAQ,KAAK;AAAA,MACT,MAAMA,SAAQ,QAAQ,YAAY;AAAA,MAClC,OAAO;AAAA,MACP,SAASA,SAAQ,QAAQ,YAAY;AAAA,IACzC,CAAC;AAAA,EACL;AACA,SAAO,EAAE,SAAAA,UAAS,QAAQ;AAC9B;AAEA,SAAS,mBAAmB,SAASG,SAAQ;AACzC,SAAO,OAAO,KAAK,OAAO,EAAE,OAAO,CAAC,KAAK,SAAS;AAC9C,QAAI,IAAI,IAAI,UAAU,SAAS;AAC3B,UAAI;AACA,cAAM,SAAS,QAAQ,IAAI;AAC3B,eAAO,MAAM,OAAO,GAAG,IAAI;AAAA,MAC/B,SACOC,IAAG;AACN,QAAAD,QAAO,MAAM,IAAI,WAAWC,EAAC,CAAC;AAAA,MAClC;AAAA,IACJ;AACA,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACT;AAEA,SAAS,oBAAoB,SAASD,SAAQ;AAC1C,MAAI,CAAC;AACD;AACJ,SAAO,OAAO,KAAK,OAAO,EAAE,OAAO,CAAC,KAAK,SAAS;AAC9C,QAAI,IAAI,IAAI,UAAU,SAAS;AAC3B,UAAI;AACA,QAAAA,QAAO,MAAM,WAAW,IAAI,IAAI,EAAE,KAAK,CAAC;AACxC,cAAM,SAAS,QAAQ,IAAI;AAC3B,eAAO,MAAM,OAAO,GAAG,IAAI;AAAA,MAC/B,SACOC,IAAG;AACN,cAAM,QAAQ,IAAI,aAAaA,EAAC;AAChC,QAAAD,QAAO,MAAM,KAAK;AAClB,cAAM;AAAA,MACV;AAAA,IACJ;AACA,WAAO;AAAA,EACX,GAAG,CAAC,CAAC;AACT;AA9KA,IAQa;AARb;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAM,mBAAmB;AAAA,MAC5B,SAAS;AACL,eAAO;AAAA,MACX;AAAA,MACA,SAAS,EAAE,KAAK,QAAQ,GAAG;AACvB,YAAI,IAAI,WAAW,GAAG;AAClB,iBAAO,GAAG,OAAO,GAAG,GAAG;AAAA,iBAClB,IAAI,IAAI,GAAG,EAAE,WAAW;AAC7B,iBAAO;AACX,eAAO;AAAA,MACX;AAAA,MACA,QAAQ,EAAE,SAAAE,SAAQ,GAAG;AACjB,eAAO;AAAA,UACH,MAAM;AAAA,YACF,MAAMA,SAAQ,MAAM;AAAA,YACpB,OAAOA,SAAQ,MAAM;AAAA,YACrB,OAAOA,SAAQ,MAAM;AAAA,UACzB;AAAA,UACA,SAASA,SAAQ,SAAS,cAAc,KAAKA,SAAQ;AAAA,QACzD;AAAA,MACJ;AAAA,MACA,IAAI,EAAE,MAAM,GAAG;AACX,eAAO;AAAA,MACX;AAAA,IACJ;AAAA;AAAA;;;ACvBgBC,SAAAA,EAAOC,IAAKC,IAAAA;AAE3B,WAASC,MAAKD;AAAOD,IAAAA,GAAIE,EAAAA,IAAKD,GAAMC,EAAAA;AACpC,SAA6BF;AAC7B;AAQM,SAASG,EAAWC,IAAAA;AAC1B,MAAIC,KAAaD,GAAKC;AAClBA,EAAAA,MAAYA,GAAWC,YAAYF,EAAAA;AACvC;AEgBA,SAceG,EAAYC,IAAMP,IAAOQ,IAAKC,IAAKC,IAAAA;AAGlD,MAAMC,KAAQ,EACbJ,MAAAA,IACAP,OAAAA,IACAQ,KAAAA,IACAC,KAAAA,IACAG,KAAW,MACXC,IAAS,MACTC,KAAQ,GACRC,KAAM,MAKNC,KAAAA,QACAC,KAAY,MACZC,KAAY,MACZC,aAAAA,QACAC,KAAuB,QAAZV,KAAAA,EAAqBW,IAAUX,GAAAA;AAM3C,SAFgB,QAAZA,MAAqC,QAAjBY,EAAQX,SAAeW,EAAQX,MAAMA,EAAAA,GAEtDA;AACP;AAMM,SAASY,EAASvB,IAAAA;AACxB,SAAOA,GAAMwB;AACb;AAAA,SC7EeC,EAAUzB,IAAO0B,IAAAA;AAChCC,OAAK3B,QAAQA,IACb2B,KAAKD,UAAUA;AACf;AAAA,SA0EeE,EAAcjB,IAAOkB,IAAAA;AACpC,MAAkB,QAAdA;AAEH,WAAOlB,GAAKE,KACTe,EAAcjB,GAADE,IAAgBF,GAAAE,GAAAD,IAAwBkB,QAAQnB,EAAAA,IAAS,CAAA,IACtE;AAIJ,WADIoB,IACGF,KAAalB,GAAAC,IAAgBoB,QAAQH;AAG3C,QAAe,SAFfE,KAAUpB,GAAKC,IAAWiB,EAAAA,MAEa,QAAhBE,GAAAhB;AAItB,aAAOgB,GACPhB;AAQF,SAA4B,cAAA,OAAdJ,GAAMJ,OAAqBqB,EAAcjB,EAAAA,IAAS;AAChE;AAsCD,SAASsB,EAAwBtB,IAAAA;AAAjC,MAGWV,IACJiC;AAHN,MAA+B,SAA1BvB,KAAQA,GAAHE,OAAiD,QAApBF,GAAKM,KAAqB;AAEhE,SADAN,GAAAA,MAAaA,GAAAM,IAAiBkB,OAAO,MAC5BlC,KAAI,GAAGA,KAAIU,GAAAA,IAAgBqB,QAAQ/B;AAE3C,UAAa,SADTiC,KAAQvB,GAAAC,IAAgBX,EAAAA,MACO,QAAdiC,GAAKnB,KAAe;AACxCJ,QAAAA,GAAAI,MAAaJ,GAAKM,IAAYkB,OAAOD,GAAxBnB;AACb;MACA;AAGF,WAAOkB,EAAwBtB,EAAAA;EAC/B;AACD;AAuBM,SAASyB,EAAcC,IAAAA;AAAAA,GAAAA,CAE1BA,GAAAA,QACAA,GAACrB,MAAAA,SACFsB,EAAcC,KAAKF,EAAAA,KAAAA,CAClBG,EAAAA,SACFC,MAAiBnB,EAAQoB,wBAEzBD,IAAenB,EAAQoB,sBACNC,YAAYH,CAAAA;AAE9B;AAGD,SAASA,IAAAA;AAER,WADII,IACIJ,EAAOK,MAAkBP,EAAcN;AAC9CY,IAAAA,KAAQN,EAAcQ,KAAK,SAACC,IAAGC,IAAAA;AAAJ,aAAUD,GAAA3B,IAAAN,MAAkBkC,GAA5B5B,IAAAN;IAAA,CAAA,GAC3BwB,IAAgB,CAAA,GAGhBM,GAAMK,KAAK,SAAAZ,IAAAA;AAzFb,UAAyBa,IAMnBC,IACEC,IANHzC,IACH0C,IACAC;AAuFKjB,MAAAA,GAAJrB,QAxFDqC,MADG1C,MADoBuC,KA0FQb,IAzFhCjB,KAAAL,MAECuC,KAAYJ,GAFbK,SAKKJ,KAAc,CAAA,IACZC,KAAWtD,EAAO,CAAA,GAAIa,EAAAA,GAC5BS,MAAqBT,GAAKS,MAAa,GAEvCoC,EACCF,IACA3C,IACAyC,IACAF,GAAAA,KAAAA,WACAI,GAAUG,iBACU,QAApB9C,GAAKO,MAAsB,CAACmC,EAAAA,IAAU,MACtCF,IACU,QAAVE,KAAiBzB,EAAcjB,EAAAA,IAAS0C,IACxC1C,GATDO,GAAAA,GAWAwC,EAAWP,IAAaxC,EAAAA,GAEpBA,GAAKI,OAASsC,MACjBpB,EAAwBtB,EAAAA;IAmExB,CAAA;AAEF;AAAA,SG7LegD,EACfL,IACAM,IACAC,IACAC,IACAC,IACAC,IACAC,IACAd,IACAE,IACAa,IAAAA;AAAAA,MAEIjE,IAAGkE,IAAGf,IAAUgB,IAAYC,IAAQC,IAAeC,IAInDC,KAAeV,MAAkBA,GAAJlD,OAAiC6D,GAE9DC,KAAoBF,GAAYxC;AAGpC,OADA6B,GAAAA,MAA2B,CAAA,GACtB5D,KAAI,GAAGA,KAAI2D,GAAa5B,QAAQ/B;AAgDpC,QAAkB,SA5CjBmE,KAAaP,GAAcjD,IAAWX,EAAAA,IADrB,SAFlBmE,KAAaR,GAAa3D,EAAAA,MAEqB,aAAA,OAAdmE,KACW,OAMtB,YAAA,OAAdA,MACc,YAAA,OAAdA,MAEc,YAAA,OAAdA,KAEoC9D,EAC1C,MACA8D,IACA,MACA,MACAA,EAAAA,IAESO,MAAMC,QAAQR,EAAAA,IACmB9D,EAC1CiB,GACA,EAAEC,UAAU4C,GAAAA,GACZ,MACA,MACA,IAAA,IAESA,GAAAtD,MAAoB,IAKaR,EAC1C8D,GAAW7D,MACX6D,GAAWpE,OACXoE,GAAW5D,KACX4D,GAAW3D,MAAM2D,GAAW3D,MAAM,MAClC2D,GAEDhD,GAAAA,IAC2CgD,KAK5C;AAaA,UATAA,GAAAvD,KAAqBgD,IACrBO,GAAUtD,MAAU+C,GAAA/C,MAAwB,GAS9B,UAHdsC,KAAWoB,GAAYvE,EAAAA,MAIrBmD,MACAgB,GAAW5D,OAAO4C,GAAS5C,OAC3B4D,GAAW7D,SAAS6C,GAAS7C;AAE9BiE,QAAAA,GAAYvE,EAAAA,IAAAA;;AAIZ,aAAKkE,KAAI,GAAGA,KAAIO,IAAmBP,MAAK;AAIvC,eAHAf,KAAWoB,GAAYL,EAAAA,MAKtBC,GAAW5D,OAAO4C,GAAS5C,OAC3B4D,GAAW7D,SAAS6C,GAAS7C,MAC5B;AACDiE,YAAAA,GAAYL,EAAAA,IAAAA;AACZ;UACA;AACDf,UAAAA,KAAW;QACX;AAMFI,QACCF,IACAc,IALDhB,KAAWA,MAAYyB,GAOtBd,IACAC,IACAC,IACAd,IACAE,IACAa,EAAAA,GAGDG,KAASD,GAATrD,MAEKoD,KAAIC,GAAW3D,QAAQ2C,GAAS3C,OAAO0D,OACtCI,OAAMA,KAAO,CAAA,IACdnB,GAAS3C,OAAK8D,GAAKhC,KAAKa,GAAS3C,KAAK,MAAM2D,EAAAA,GAChDG,GAAKhC,KAAK4B,IAAGC,GAAAnD,OAAyBoD,IAAQD,EAAAA,IAGjC,QAAVC,MACkB,QAAjBC,OACHA,KAAgBD,KAIU,cAAA,OAAnBD,GAAW7D,QAClB6D,GAAAxD,QAAyBwC,GAAzBxC,MAEAwD,GAAUpD,MAAYqC,KAASyB,EAC9BV,IACAf,IACAC,EAAAA,IAGDD,KAAS0B,EACRzB,IACAc,IACAhB,IACAoB,IACAH,IACAhB,EAAAA,GAIgC,cAAA,OAAvBQ,GAAetD,SAQzBsD,GAAA7C,MAA0BqC,OAG3BA,MACAD,GAAQrC,OAASsC,MACjBA,GAAOjD,cAAckD,OAIrBD,KAASzB,EAAcwB,EAAAA;IAtGvB;AA6GF,OAHAS,GAAA9C,MAAsBuD,IAGjBrE,KAAIyE,IAAmBzE;AACL,YAAlBuE,GAAYvE,EAAAA,KACf+E,EAAQR,GAAYvE,EAAAA,GAAIuE,GAAYvE,EAAAA,CAAAA;AAKtC,MAAIsE;AACH,SAAKtE,KAAI,GAAGA,KAAIsE,GAAKvC,QAAQ/B;AAC5BgF,QAASV,GAAKtE,EAAAA,GAAIsE,GAAAA,EAAOtE,EAAAA,GAAIsE,GAAAA,EAAOtE,EAAAA,CAAAA;AAGtC;AAED,SAAS6E,EAAgBV,IAAYf,IAAQC,IAAAA;AAI5C,WACK3C,IAHD0B,KAAI+B,GAAHxD,KACDsE,KAAM,GACH7C,MAAK6C,KAAM7C,GAAEL,QAAQkD;AAAAA,KACvBvE,KAAQ0B,GAAE6C,EAAAA,OAMbvE,GAAAA,KAAgByD,IAGff,KADwB,cAAA,OAAd1C,GAAMJ,OACPuE,EAAgBnE,IAAO0C,IAAQC,EAAAA,IAE/ByB,EAAWzB,IAAW3C,IAAOA,IAAO0B,IAAG1B,GAAY0C,KAAAA,EAAAA;AAK/D,SAAOA;AACP;AAqBD,SAAS0B,EACRzB,IACAc,IACAhB,IACAoB,IACAH,IACAhB,IAAAA;AAND,MAQK8B,IAuBGC,IAAiBjB;AAtBxB,MAAA,WAAIC,GAAUpD;AAIbmE,IAAAA,KAAUf,GAAHpD,KAMPoD,GAAAA,MAAAA;WAEY,QAAZhB,MACAiB,MAAUhB,MACW,QAArBgB,GAAOjE;AAEPiF;AAAO,UAAc,QAAVhC,MAAkBA,GAAOjD,eAAekD;AAClDA,QAAAA,GAAUgC,YAAYjB,EAAAA,GACtBc,KAAU;WACJ;AAEN,aACKC,KAAS/B,IAAQc,KAAI,IACxBiB,KAASA,GAAOG,gBAAgBpB,KAAIK,GAAYxC,QACjDmC,MAAK;AAEL,cAAIiB,MAAUf;AACb,kBAAMgB;AAGR/B,QAAAA,GAAUkC,aAAanB,IAAQhB,EAAAA,GAC/B8B,KAAU9B;MACV;AAYF,SAAA,WANI8B,KACMA,KAEAd,GAAOkB;AAIjB;AChTeE,SAAAA,EAAUC,IAAKC,IAAUC,IAAU5B,IAAO6B,IAAAA;AACzD,MAAI5F;AAEJ,OAAKA,MAAK2F;AACC,mBAAN3F,MAA0B,UAANA,MAAiBA,MAAK0F,MAC7CG,EAAYJ,IAAKzF,IAAG,MAAM2F,GAAS3F,EAAAA,GAAI+D,EAAAA;AAIzC,OAAK/D,MAAK0F;AAENE,IAAAA,MAAiC,cAAA,OAAfF,GAAS1F,EAAAA,KACvB,eAANA,MACM,UAANA,MACM,YAANA,MACM,cAANA,MACA2F,GAAS3F,EAAAA,MAAO0F,GAAS1F,EAAAA,KAEzB6F,EAAYJ,IAAKzF,IAAG0F,GAAS1F,EAAAA,GAAI2F,GAAS3F,EAAAA,GAAI+D,EAAAA;AAGhD;AAED,SAAS+B,EAASC,IAAOxF,IAAKyF,IAAAA;AACd,UAAXzF,GAAI,CAAA,IACPwF,GAAMF,YAAYtF,IAAKyF,EAAAA,IAEvBD,GAAMxF,EAAAA,IADa,QAATyF,KACG,KACa,YAAA,OAATA,MAAqBC,EAAmBC,KAAK3F,EAAAA,IACjDyF,KAEAA,KAAQ;AAEtB;AAAA,SAUeH,EAAYJ,IAAKU,IAAMH,IAAOI,IAAUrC,IAAAA;AAAAA,MACnDsC;AAEJC;AAAG,QAAa,YAATH;AACN,UAAoB,YAAA,OAATH;AACVP,QAAAA,GAAIM,MAAMQ,UAAUP;WACd;AAKN,YAJuB,YAAA,OAAZI,OACVX,GAAIM,MAAMQ,UAAUH,KAAW,KAG5BA;AACH,eAAKD,MAAQC;AACNJ,YAAAA,MAASG,MAAQH,MACtBF,EAASL,GAAIM,OAAOI,IAAM,EAAA;AAK7B,YAAIH;AACH,eAAKG,MAAQH;AACPI,YAAAA,MAAYJ,GAAMG,EAAAA,MAAUC,GAASD,EAAAA,KACzCL,EAASL,GAAIM,OAAOI,IAAMH,GAAMG,EAAAA,CAAAA;MAInC;aAGmB,QAAZA,GAAK,CAAA,KAA0B,QAAZA,GAAK,CAAA;AAChCE,MAAAA,KAAaF,QAAUA,KAAOA,GAAKK,QAAQ,YAAY,EAAA,IAGxBL,KAA3BA,GAAKM,YAAAA,KAAiBhB,KAAYU,GAAKM,YAAAA,EAAcC,MAAM,CAAA,IACnDP,GAAKO,MAAM,CAAA,GAElBjB,GAALkB,MAAqBlB,GAAAkB,IAAiB,CAAA,IACtClB,GAAAkB,EAAeR,KAAOE,EAAAA,IAAcL,IAEhCA,KACEI,MAEJX,GAAImB,iBAAiBT,IADLE,KAAaQ,IAAoBC,GACbT,EAAAA,IAIrCZ,GAAIsB,oBAAoBZ,IADRE,KAAaQ,IAAoBC,GACVT,EAAAA;aAErB,8BAATF,IAAoC;AAC9C,UAAIpC;AAIHoC,QAAAA,KAAOA,GAAKK,QAAQ,eAAe,GAAA,EAAKA,QAAQ,UAAU,GAAA;eAEjD,WAATL,MACS,WAATA,MACS,WAATA,MAGS,eAATA,MACS,eAATA,MACAA,MAAQV;AAER,YAAA;AACCA,UAAAA,GAAIU,EAAAA,IAAiB,QAATH,KAAgB,KAAKA;AAEjC,gBAAMM;QAAAA,SACEU,IAAAA;QAAAA;AAUW,oBAAA,OAAVhB,OAES,QAATA,MAAAA,UAAkBA,MAAAA,MAAmBG,GAAKtE,QAAQ,GAAA,IAG5D4D,GAAIwB,gBAAgBd,EAAAA,IAFpBV,GAAIyB,aAAaf,IAAMH,EAAAA;IAIxB;AACD;AAOD,SAASc,EAAWE,IAAAA;AACnBtF,OAAAA,EAAgBsF,GAAE1G,OAAAA,KAAO,EAAOe,EAAQ8F,QAAQ9F,EAAQ8F,MAAMH,EAAAA,IAAKA,EAAAA;AACnE;AAED,SAASH,EAAkBG,IAAAA;AAC1BtF,OAAAiF,EAAgBK,GAAE1G,OAAAA,IAAO,EAAMe,EAAQ8F,QAAQ9F,EAAQ8F,MAAMH,EAAAA,IAAKA,EAAAA;AAClE;AClIezD,SAAAA,EACfF,IACA+D,IACAjE,IACAW,IACAC,IACAC,IACAd,IACAE,IACAa,IAAAA;AATeV,MAWX0B,IAoBE7C,IAAGiF,IAAO1B,IAAU2B,IAAUC,IAAUC,IACxC9B,IAKA+B,IACAC,IA6FO1H,IA4BP2H,IACHC,IASS5H,IA6BN2D,IA1LLkE,KAAUT,GAAS9G;AAIpB,MAAA,WAAI8G,GAASlG;AAA2B,WAAA;AAGb,UAAvBiC,GAAAlC,QACHgD,KAAcd,GAAHlC,KACXmC,KAASgE,GAAAtG,MAAgBqC,GAAhBrC,KAETsG,GAAAnG,MAAsB,MACtB+C,KAAoB,CAACZ,EAAAA,KAGjB6B,KAAM5D,EAAAA,QAAgB4D,GAAImC,EAAAA;AAE/B,MAAA;AACChC;AAAO,UAAsB,cAAA,OAAXyC,IAAuB;AA4DxC,YA1DInC,KAAW0B,GAASrH,OAKpB0H,MADJxC,KAAM4C,GAAQC,gBACQhE,GAAcmB,GAApCjE,GAAAA,GACI0G,KAAmBzC,KACpBwC,KACCA,GAAS1H,MAAMiG,QACff,GAHsBrE,KAIvBkD,IAGCX,GAAqBnC,MAExBwG,MADApF,KAAIgF,GAAQpG,MAAcmC,GAA1BnC,KAC4BJ,KAAwBwB,GACpD2F,OAEI,eAAeF,MAAWA,GAAQG,UAAUC,SAE/Cb,GAAQpG,MAAcoB,KAAI,IAAIyF,GAAQnC,IAAUgC,EAAAA,KAGhDN,GAAApG,MAAsBoB,KAAI,IAAIZ,EAAUkE,IAAUgC,EAAAA,GAClDtF,GAAElB,cAAc2G,IAChBzF,GAAE6F,SAASC,IAERT,MAAUA,GAASU,IAAI/F,EAAAA,GAE3BA,GAAErC,QAAQ2F,IACLtD,GAAEgG,UAAOhG,GAAEgG,QAAQ,CAAV,IACdhG,GAAEX,UAAUiG,IACZtF,GAAAA,MAAmB0B,IACnBuD,KAAQjF,GAAArB,MAAAA,MACRqB,GAACnB,MAAoB,CAAA,GACrBmB,GAAAiG,MAAoB,CAAA,IAID,QAAhBjG,GAAAkG,QACHlG,GAAAkG,MAAelG,GAAEgG,QAGsB,QAApCP,GAAQU,6BACPnG,GAAAkG,OAAgBlG,GAAEgG,UACrBhG,GAAAkG,MAAezI,EAAO,CAAD,GAAKuC,GAALkG,GAAAA,IAGtBzI,EACCuC,GADKkG,KAELT,GAAQU,yBAAyB7C,IAAUtD,GAA3CkG,GAAAA,CAAAA,IAIF3C,KAAWvD,GAAErC,OACbuH,KAAWlF,GAAEgG,OAGTf;AAEkC,kBAApCQ,GAAQU,4BACgB,QAAxBnG,GAAEoG,sBAEFpG,GAAEoG,mBAAAA,GAGwB,QAAvBpG,GAAEqG,qBACLrG,GAACnB,IAAkBqB,KAAKF,GAAEqG,iBAAAA;aAErB;AASN,cAPqC,QAApCZ,GAAQU,4BACR7C,OAAaC,MACkB,QAA/BvD,GAAEsG,6BAEFtG,GAAEsG,0BAA0BhD,IAAUgC,EAAAA,GAAAA,CAIpCtF,GACDA,OAA2B,QAA3BA,GAAEuG,yBAAAA,UACFvG,GAAEuG,sBACDjD,IACAtD,GACAsF,KAAAA,EAAAA,KAEFN,GAAAjG,QAAuBgC,GAAvBhC,KACC;AAYD,iBAXAiB,GAAErC,QAAQ2F,IACVtD,GAAEgG,QAAQhG,GAEVkG,KAAIlB,GAAQjG,QAAegC,GAA3BhC,QAA+CiB,GAACrB,MAAAA,QAChDqB,GAAAjB,MAAWiG,IACXA,GAAQtG,MAAQqC,GAAhBrC,KACAsG,GAAQzG,MAAawC,GACrBiE,KAAAA,GAAAzG,IAAmBiI,QAAQ,SAAAlI,IAAAA;AACtBA,cAAAA,OAAOA,GAAAE,KAAgBwG;YAC3B,CAAA,GAEQpH,KAAI,GAAGA,KAAIoC,GAAAiG,IAAkBtG,QAAQ/B;AAC7CoC,cAAAA,GAACnB,IAAkBqB,KAAKF,GAAAiG,IAAkBrI,EAAAA,CAAAA;AAE3CoC,YAAAA,GAACiG,MAAmB,CAAA,GAEhBjG,GAACnB,IAAkBc,UACtBmB,GAAYZ,KAAKF,EAAAA;AAGlB,kBAAMgD;UACN;AAE4B,kBAAzBhD,GAAEyG,uBACLzG,GAAEyG,oBAAoBnD,IAAUtD,GAAAA,KAAcsF,EAAAA,GAGnB,QAAxBtF,GAAE0G,sBACL1G,GAAAnB,IAAmBqB,KAAK,WAAA;AACvBF,YAAAA,GAAE0G,mBAAmBnD,IAAU2B,IAAUC,EAAAA;UACzC,CAAA;QAEF;AASD,YAPAnF,GAAEX,UAAUiG,IACZtF,GAAErC,QAAQ2F,IACVtD,GAAAjB,MAAWiG,IACXhF,GAACkB,MAAcD,IAEXsE,KAAatG,EAAjBuB,KACCgF,KAAQ,GACL,eAAeC,MAAWA,GAAQG,UAAUC,QAAQ;AAQvD,eAPA7F,GAAEgG,QAAQhG,GACVA,KAAAA,GAAArB,MAAAA,OAEI4G,MAAYA,GAAWP,EAAAA,GAE3BnC,KAAM7C,GAAE6F,OAAO7F,GAAErC,OAAOqC,GAAEgG,OAAOhG,GAAEX,OAAAA,GAE1BzB,KAAI,GAAGA,KAAIoC,GAAAiG,IAAkBtG,QAAQ/B;AAC7CoC,YAAAA,GAACnB,IAAkBqB,KAAKF,GAAAiG,IAAkBrI,EAAAA,CAAAA;AAE3CoC,UAAAA,GAACiG,MAAmB,CAAA;QACpB;AACA,aAAA;AACCjG,YAAAA,GAAAA,MAAAA,OACIuF,MAAYA,GAAWP,EAAAA,GAE3BnC,KAAM7C,GAAE6F,OAAO7F,GAAErC,OAAOqC,GAAEgG,OAAOhG,GAAEX,OAAAA,GAGnCW,GAAEgG,QAAQhG,GACVkG;UAAAA,SAAQlG,GAAArB,OAAAA,EAAc6G,KAAQ;AAIhCxF,QAAAA,GAAEgG,QAAQhG,GAAVkG,KAEyB,QAArBlG,GAAE2G,oBACLjF,KAAgBjE,EAAOA,EAAO,CAAD,GAAKiE,EAAAA,GAAgB1B,GAAE2G,gBAAAA,CAAAA,IAGhD1B,MAAsC,QAA7BjF,GAAE4G,4BACfzB,KAAWnF,GAAE4G,wBAAwBrD,IAAU2B,EAAAA,IAK5C3D,KADI,QAAPsB,MAAeA,GAAI3E,SAASgB,KAAuB,QAAX2D,GAAI1E,MACL0E,GAAIlF,MAAMwB,WAAW0D,IAE7DvB,EACCL,IACAqB,MAAMC,QAAQhB,EAAAA,IAAgBA,KAAe,CAACA,EAAAA,GAC9CyD,IACAjE,IACAW,IACAC,IACAC,IACAd,IACAE,IACAa,EAAAA,GAGD7B,GAAEF,OAAOkF,GAGTA,KAAAA,GAAAnG,MAAsB,MAElBmB,GAAAnB,IAAmBc,UACtBmB,GAAYZ,KAAKF,EAAAA,GAGdoF,OACHpF,GAAC2F,MAAiB3F,GAAAxB,KAAyB,OAG5CwB,GAACtB,MAAAA;MACD;AACqB,gBAArBkD,MACAoD,GAAAjG,QAAuBgC,GAFjBhC,OAINiG,GAAAzG,MAAqBwC,GAArBxC,KACAyG,GAAQtG,MAAQqC,GAChBrC,OACAsG,GAAQtG,MAAQmI,EACf9F,GACAiE,KAAAA,IACAjE,IACAW,IACAC,IACAC,IACAd,IACAe,EAAAA;AAAAA,KAIGgB,KAAM5D,EAAQ6H,WAASjE,GAAImC,EAAAA;EAYhC,SAXQJ,IAAAA;AACRI,IAAAA,GAAAjG,MAAqB,OAEjB8C,MAAoC,QAArBD,QAClBoD,GAAAtG,MAAgBsC,IAChBgE,GAAQnG,MAAAA,CAAAA,CAAgBgD,IACxBD,GAAkBA,GAAkBnC,QAAQuB,EAAAA,CAAAA,IAAW,OAIxD/B,EAAAP,IAAoBkG,IAAGI,IAAUjE,EAAAA;EACjC;AACD;AAOM,SAASM,EAAWP,IAAaiG,IAAAA;AACnC9H,IAAiBA,OAAAA,EAAAL,IAAgBmI,IAAMjG,EAAAA,GAE3CA,GAAYF,KAAK,SAAAZ,IAAAA;AAChB,QAAA;AAECc,MAAAA,KAAcd,GAAdnB,KACAmB,GAACnB,MAAoB,CAAA,GACrBiC,GAAYF,KAAK,SAAAoG,IAAAA;AAEhBA,QAAAA,GAAGC,KAAKjH,EAAAA;MACR,CAAA;IAGD,SAFQ4E,IAAAA;AACR3F,QAAAP,IAAoBkG,IAAG5E,GAAvBjB,GAAAA;IACA;EACD,CAAA;AACD;AAgBD,SAAS8H,EACRxD,IACA2B,IACAjE,IACAW,IACAC,IACAC,IACAd,IACAe,IAAAA;AARD,MAoBShC,IAsDHqH,IACAC,IAjED5D,KAAWxC,GAASpD,OACpB2F,KAAW0B,GAASrH,OACpByJ,KAAWpC,GAAS9G,MACpBN,KAAI;AAKR,MAFiB,UAAbwJ,OAAoBzF,KAAAA,OAEC,QAArBC;AACH,WAAOhE,KAAIgE,GAAkBjC,QAAQ/B;AAMpC,WALMiC,KAAQ+B,GAAkBhE,EAAAA,MAO/B,kBAAkBiC,MAAAA,CAAAA,CAAYuH,OAC7BA,KAAWvH,GAAMwH,cAAcD,KAA8B,MAAnBvH,GAAMuH,WAChD;AACD/D,QAAAA,KAAMxD,IACN+B,GAAkBhE,EAAAA,IAAK;AACvB;MACA;;AAIH,MAAW,QAAPyF,IAAa;AAChB,QAAiB,SAAb+D;AAEH,aAAOE,SAASC,eAAejE,EAAAA;AAI/BD,IAAAA,KADG1B,KACG2F,SAASE,gBACd,8BAEAJ,EAAAA,IAGKE,SAASG,cAEdL,IACA9D,GAASoE,MAAMpE,EAAAA,GAKjB1B,KAAoB,MAEpBC,KAAAA;EACA;AAED,MAAiB,SAAbuF;AAEC7D,IAAAA,OAAaD,MAAczB,MAAewB,GAAIsE,SAASrE,OAC1DD,GAAIsE,OAAOrE;OAEN;AAWN,QATA1B,KAAoBA,MAAqB0C,EAAM2C,KAAK5D,GAAIuE,UAAAA,GAIpDV,MAFJ3D,KAAWxC,GAASpD,SAAS6E,GAENqF,yBACnBV,KAAU7D,GAASuE,yBAAAA,CAIlBhG,IAAa;AAGjB,UAAyB,QAArBD;AAEH,aADA2B,KAAW,CAAA,GACN3F,KAAI,GAAGA,KAAIyF,GAAIyE,WAAWnI,QAAQ/B;AACtC2F,UAAAA,GAASF,GAAIyE,WAAWlK,EAAAA,EAAGmG,IAAAA,IAAQV,GAAIyE,WAAWlK,EAAAA,EAAGgG;AAAAA,OAInDuD,MAAWD,QAGZC,OACED,MAAWC,GAAOY,UAAWb,GAAlBa,UACbZ,GAAAY,WAAmB1E,GAAI2E,eAExB3E,GAAI2E,YAAab,MAAWA,GAAZY,UAA+B;IAGjD;AAKD,QAHA3E,EAAUC,IAAKC,IAAUC,IAAU5B,IAAOE,EAAAA,GAGtCsF;AACHnC,MAAAA,GAAQzG,MAAa,CAAA;aAErBX,KAAIoH,GAASrH,MAAMwB,UACnBmC,EACC+B,IACAf,MAAMC,QAAQ3E,EAAAA,IAAKA,KAAI,CAACA,EAAAA,GACxBoH,IACAjE,IACAW,IACAC,MAAsB,oBAAbyF,IACTxF,IACAd,IACAc,KACGA,GAAkB,CAAA,IAClBb,GAAAxC,OAAsBgB,EAAcwB,IAAU,CAAA,GACjDc,EAAAA,GAIwB,QAArBD;AACH,WAAKhE,KAAIgE,GAAkBjC,QAAQ/B;AACN,gBAAxBgE,GAAkBhE,EAAAA,KAAYC,EAAW+D,GAAkBhE,EAAAA,CAAAA;AAM7DiE,IAAAA,OAEH,WAAWyB,MAAAA,YACV1F,KAAI0F,GAASM,WAKbhG,OAAMyF,GAAIO,SACI,eAAbwD,MAAAA,CAA4BxJ,MAIf,aAAbwJ,MAAyBxJ,OAAM2F,GAASK,UAE1CH,EAAYJ,IAAK,SAASzF,IAAG2F,GAASK,OAAAA,KAAO,GAG7C,aAAaN,MAAAA,YACZ1F,KAAI0F,GAAS2E,YACdrK,OAAMyF,GAAI4E,WAEVxE,EAAYJ,IAAK,WAAWzF,IAAG2F,GAAS0E,SAAAA,KAAS;EAGnD;AAED,SAAO5E;AACP;AAQeT,SAAAA,EAASxE,IAAKwF,IAAOtF,IAAAA;AACpC,MAAA;AACmB,kBAAA,OAAPF,KAAmBA,GAAIwF,EAAAA,IAC7BxF,GAAI8J,UAAUtE;EAGnB,SAFQgB,IAAAA;AACR3F,MAAAP,IAAoBkG,IAAGtG,EAAAA;EACvB;AACD;AAUM,SAASqE,EAAQrE,IAAO6J,IAAaC,IAAAA;AAArC,MACFC,IAuBMzK;AAdV,MARIqB,EAAQ0D,WAAS1D,EAAQ0D,QAAQrE,EAAAA,IAEhC+J,KAAI/J,GAAMF,SACTiK,GAAEH,WAAWG,GAAEH,YAAY5J,GAAdI,OACjBkE,EAASyF,IAAG,MAAMF,EAAAA,IAIU,SAAzBE,KAAI/J,GAAHM,MAA8B;AACnC,QAAIyJ,GAAEC;AACL,UAAA;AACCD,QAAAA,GAAEC,qBAAAA;MAGF,SAFQ1D,IAAAA;AACR3F,UAAOP,IAAakG,IAAGuD,EAAAA;MACvB;AAGFE,IAAAA,GAAEvI,OAAOuI,GAAAnH,MAAe,MACxB5C,GAAKM,MAAAA;EACL;AAED,MAAKyJ,KAAI/J,GAAHC;AACL,SAASX,KAAI,GAAGA,KAAIyK,GAAE1I,QAAQ/B;AACzByK,MAAAA,GAAEzK,EAAAA,KACL+E,EACC0F,GAAEzK,EAAAA,GACFuK,IACAC,MAAoC,cAAA,OAAf9J,GAAMJ,IAAAA;AAM1BkK,EAAAA,MAA4B,QAAd9J,GAAKI,OACvBb,EAAWS,GAADI,GAAAA,GAKXJ,GAAAE,KAAgBF,GAAKI,MAAQJ,GAAAK,MAAAA;AAC7B;AAGD,SAASmH,EAASnI,IAAOqI,IAAO3G,IAAAA;AAC/B,SAAYP,KAAAA,YAAYnB,IAAO0B,EAAAA;AAC/B;IRhhBYiF,GCfPrF,GCRFD,GA6FSuJ,GC4ETtI,GAWAG,GCrLOxC,GCFE4E,GACAJ,GACAyB;;;IAFArB,IAAY,CAAlB;IACMJ,IAAY,CAAA;IACZyB,IAAqB;ALwBrBS,QAAQlC,EAAUkC,OCfzBrF,IAAU,EACfP,KUHM,SAAqB8J,IAAOlK,IAAOyC,IAAU0H,IAAAA;AAInD,eAFI5H,IAAW6H,IAAMC,IAEbrK,KAAQA,GAAhBE;AACC,aAAKqC,KAAYvC,GAAHM,QAAAA,CAAyBiC,GAADrC;AACrC,cAAA;AAcC,iBAbAkK,KAAO7H,GAAU/B,gBAE4B,QAAjC4J,GAAKE,6BAChB/H,GAAUgI,SAASH,GAAKE,yBAAyBJ,EAAAA,CAAAA,GACjDG,KAAU9H,GAAHlC,MAG2B,QAA/BkC,GAAUiI,sBACbjI,GAAUiI,kBAAkBN,IAAOC,MAAa,CAAhD,CAAA,GACAE,KAAU9H,GACVlC,MAGGgK;AACH,qBAAQ9H,GAAS8E,MAAiB9E;UAInC,SAFQ+D,IAAAA;AACR4D,YAAAA,KAAQ5D;UACR;AAIH,YAAM4D;IACN,EAAA,GTpCGxJ,IAAU,GA6FDuJ,IAAiB,SAAAjK,IAAAA;AAAAA,aACpB,QAATA,MAAAA,WAAiBA,GAAMQ;IADW,GCtEnCM,EAAUwG,UAAUiD,WAAW,SAASE,IAAQC,IAAAA;AAE/C,UAAIC;AAEHA,MAAAA,KADsB,QAAnB3J,KAAA4G,OAA2B5G,KAAAA,QAAoBA,KAAK0G,QACnD1G,KACJ4G,MACI5G,KAAA4G,MAAkBzI,EAAO,CAAD,GAAK6B,KAAK0G,KAAAA,GAGlB,cAAA,OAAV+C,OAGVA,KAASA,GAAOtL,EAAO,CAAA,GAAIwL,EAAAA,GAAI3J,KAAK3B,KAAAA,IAGjCoL,MACHtL,EAAOwL,IAAGF,EAAAA,GAIG,QAAVA,MAEAzJ,KAAaP,QACZiK,MACH1J,KAAA2G,IAAqB/F,KAAK8I,EAAAA,GAE3BjJ,EAAcT,IAAAA;IAEf,GAQDF,EAAUwG,UAAUsD,cAAc,SAASF,IAAAA;AACtC1J,WAAAA,QAIHA,KAAAZ,MAAAA,MACIsK,MAAU1J,KAAsBY,IAAAA,KAAK8I,EAAAA,GACzCjJ,EAAcT,IAAAA;IAEf,GAYDF,EAAUwG,UAAUC,SAAS3G,GAyFzBe,IAAgB,CAAA,GA4CpBE,EAAOK,MAAkB,GCtNd5C,IAAI;;;;;AQIU,SAETuL,GAAeC,IAAAA;AAK9B,MAAA,UAAIC,GAAiBC,KAHrBF,MAAO,EAAA;AAGmC,WAAOA;AAQjD,WANIG,KAAO,GACVC,KAAI,GACJC,KAAM,IACNC,KAAK,IAGCF,KAAIJ,GAAIO,QAAQH,MAAK;AAC3B,YAAQJ,GAAIQ,WAAWJ,EAAAA,GAAAA;MACtB,KAAA;AACCE,QAAAA,KAAK;AACL;MACD,KAAA;AACCA,QAAAA,KAAK;AACL;MACD,KAAA;AACCA,QAAAA,KAAK;AACL;MACD;AACC;IAAA;AAGEF,IAAAA,OAAMD,OAAME,MAAOL,GAAIS,MAAMN,IAAMC,EAAAA,IACvCC,MAAOC,IAEPH,KAAOC,KAAI;EAAA;AAGZ,SADIA,OAAMD,OAAME,MAAOL,GAAIS,MAAMN,IAAMC,EAAAA,IAChCC;AAAAA;AAaU,SAEFK,GAAcC,IAAAA;AAC7B,MAAIX,KAAM;AACV,WAASY,MAAQD,IAAG;AACnB,QAAIE,KAAMF,GAAEC,EAAAA;AACD,YAAPC,MAAuB,OAARA,OACdb,OAAKA,MAAO,MAEhBA,MACY,OAAXY,GAAK,CAAA,IACFA,KACAE,GAAUF,EAAAA,MACTE,GAAUF,EAAAA,IAAQA,GAAKG,QAAQC,IAAW,KAAA,EAAOC,YAAAA,IAGrDjB,KADkB,YAAA,OAARa,MAAAA,UAAoBK,GAAmBhB,KAAKU,EAAAA,IAChDZ,KAAM,OAAOa,KAAM,QAEnBb,KAAM,OAAOa,KAAM;EAAA;AAI5B,SAAOb,MAAAA;AAAOmB;AAAAA,SAUCC,GAAYC,IAAaC,IAAAA;AAMxC,SALIC,MAAMC,QAAQF,EAAAA,IACjBA,GAASG,OAAOL,IAAaC,EAAAA,IACP,QAAZC,MAAAA,UAAoBA,MAC9BD,GAAYK,KAAKJ,EAAAA,GAEXD;AAAAA;AAGR,SAASM,KAAAA;AACRC,OAAKC,MAAAA;AAAM;AAAA,SAGIC,GAAgBC,IAAOC,IAAAA;AACtC,SAAO,EACNC,KAAKF,IACLC,SAAAA,IACAE,OAAOH,GAAMG,OAEbC,UAAUR,IACVS,aAAaT,IACbE,KAAAA,MAEAQ,KAAK,CAAA,EAAA;AAAA;AAAA,SAMSC,EAAWC,IAAUP,IAAAA;AACpC,MAAIQ,KAASD,GAASE,aAClBC,KAAWF,MAAUR,GAAQQ,GAAOG,GAAAA;AACxC,SAAiB,QAAVH,KACJE,KACCA,GAASR,MAAMU,QACfJ,GAAOK,KACRb;AAAAA;AC5GY,SAEAc,EACff,IACAC,IACAe,IACAC,IACAC,IACAC,IAAAA;AAEA,MAAa,QAATnB,MAAkC,aAAA,OAAVA;AAC3B,WAAO;AAIR,MAAqB,YAAA,OAAVA;AACV,WAAOhC,GAAegC,EAAAA;AAGvB,MAAIoB,KAASJ,GAAKI,QACjBC,KAAaD,MAA4B,YAAA,OAAXA,KAAsBA,KAAS;AAE9D,MAAI5B,MAAMC,QAAQO,EAAAA,GAAQ;AAEzB,aADIsB,KAAW,IACNjD,KAAI,GAAGA,KAAI2B,GAAMxB,QAAQH;AAC7B+C,MAAAA,MAAU/C,KAAI,MAAGiD,MAAsB,OAC3CA,MAECP,EACCf,GAAM3B,EAAAA,GACN4B,IACAe,IACAC,IACAC,IACAC,EAAAA;AAGH,WAAOG;EAAAA;AAGR,MA8SyBC,IA9SrBf,KAAWR,GAAMwB,MACpBrB,KAAQH,GAAMG,OACdsB,KAAAA;AAGD,MAAwB,cAAA,OAAbjB,IAAyB;AAEnC,QADAiB,KAAAA,MAAc,CACVT,GAAKU,WAAAA,CAAYT,MAAAA,UAASD,GAAKW,qBAAAA;AAAAA,UAExBnB,OAAaoB,GAAU;AACjC,YAAMrC,KAAW,CAAA;AAEjB,eADAF,GAAYE,IAAUS,GAAMG,MAAMZ,QAAAA,GAC3BwB,EACNxB,IACAU,IACAe,IAAAA,UACAA,GAAKa,kBACLX,IACAC,EAAAA;MAAAA;AAGD,UAAIG,GAEAQ,KAAK9B,GAAMY,MAAMb,GAAgBC,IAAOC,EAAAA;AAGxC8B,QAAQC,OAAKD,EAAQC,IAAIhC,EAAAA;AAG7B,UAAIiC,KAAaF,EAAQG;AAEzB,UACE1B,GAAS2B,aAC2B,cAAA,OAA9B3B,GAAS2B,UAAUC,QAkBpB;AACN,YAAIC,KAAO9B,EAAWC,IAAUP,EAAAA;AAAAA,SAGhC6B,KAAI9B,GAAMY,MAAM,IAAIJ,GAASL,IAAOkC,EAAAA,GAClCnC,MAAMF,IAER8B,GAAEQ,SAASR,GAAEhC,MAAAA,MACbgC,GAAE3B,QAAQA,IACK,QAAX2B,GAAES,UAAeT,GAAES,QAAQ,CAAA,IAEX,QAAhBT,GAAEU,cAA+B,QAATV,GAAEW,QAC7BX,GAAEU,aAAaV,GAAEW,MAAMX,GAAES,QAG1BT,GAAE7B,UAAUoC,IACR7B,GAASkC,2BACZZ,GAAES,QAAQI,OAAOC,OAChB,CAAA,GACAd,GAAES,OACF/B,GAASkC,yBAAyBZ,GAAE3B,OAAO2B,GAAES,KAAAA,CAAAA,IAEtCT,GAAEe,uBACVf,GAAEe,mBAAAA,GAIFf,GAAES,QACDT,GAAEU,eAAeV,GAAES,QAChBT,GAAEU,aACFV,GAAEW,QAAQX,GAAES,QACZT,GAAEW,MACFX,GAAES,QAGHN,MAAYA,GAAWjC,EAAAA,GAE3BsB,IAAWQ,GAAEM,OAAON,GAAE3B,OAAO2B,GAAES,OAAOT,GAAE7B,OAAAA;MAAAA;AA7CxC,iBARIoC,KAAO9B,EAAWC,IAAUP,EAAAA,GAO5B6C,IAAQ,GACLhB,GAAEhC,OAAOgD,MAAU;AACzBhB,UAAAA,GAAEhC,MAAAA,OAEEmC,MAAYA,GAAWjC,EAAAA,GAG3BsB,IAAWd,GAASuC,KAAK/C,GAAMY,KAAKT,IAAOkC,EAAAA;AA+C7C,aALIP,GAAEkB,oBACL/C,KAAU0C,OAAOC,OAAO,CAAA,GAAI3C,IAAS6B,GAAEkB,gBAAAA,CAAAA,IAGpCjB,EAAQkB,UAAQlB,EAAQkB,OAAOjD,EAAAA,GAC5Be,EACNO,GACArB,IACAe,IAAAA,UACAA,GAAKa,kBACLX,IACAC,EAAAA;IAAAA;AA9FDX,IAAAA,MAsSuBe,KAtSKf,IAwSnB0C,eACT3B,OAAc4B,YAAY5B,GAAU6B,QAKvC,SAAkC7B,IAAAA;AACjC,UACC6B,MADSD,SAAShB,UAAUkB,SAASN,KAAKxB,EAAAA,EAC9B+B,MAAM,yBAAA,KAA8B,IAAI,CAAA;AACrD,UAAA,CAAKF,IAAM;AAGV,iBADIG,KAAAA,IACKlF,KAAImF,GAAQhF,QAAQH;AAC5B,cAAImF,GAAQnF,EAAAA,MAAOkD,IAAW;AAC7BgC,YAAAA,KAAQlF;AACR;UAAA;AAIEkF,QAAAA,KAAQ,MACXA,KAAQC,GAAQ7D,KAAK4B,EAAAA,IAAa,IAEnC6B,KAAAA,qBAA0BG;MAAAA;AAE3B,aAAOH;IAAAA,EAtBmB7B,EAAAA;EAAAA;AAtM1B,MACCkC,IACAC,GAFG9E,KAAI,MAAM4B;AAId,MAAIL,IAAO;AACV,QAAIwD,IAAQhB,OAAOiB,KAAKzD,EAAAA;AAGpBa,IAAAA,MAAAA,SAAQA,GAAK6C,kBAAyBF,EAAMG,KAAAA;AAEhD,aAASzF,IAAI,GAAGA,IAAIsF,EAAMnF,QAAQH,KAAK;AACtC,UAAI+E,KAAOO,EAAMtF,CAAAA,GAChB0F,IAAI5D,GAAMiD,EAAAA;AACX,UAAa,eAATA,IAAAA;AAKJ,YAAA,CAAIY,GAAY7F,KAAKiF,EAAAA,MAGlBpC,MAAQA,GAAKiD,iBACL,UAATb,MACS,UAATA,MACS,aAATA,MACS,eAATA,KALF;AASA,cAAa,mBAATA;AACHA,YAAAA,KAAO;mBACY,qBAATA;AACVA,YAAAA,KAAO;mBACY,sBAATA;AACVA,YAAAA,KAAO;mBACY,gBAATA,IAAsB;AAChC,gBAAA,WAAWjD,GAAAA;AAA6B;AACxCiD,YAAAA,KAAO;UAAA;AACGlC,YAAAA,MAAagD,GAAM/F,KAAKiF,EAAAA,MAClCA,KAAOA,GAAKlE,YAAAA,EAAcF,QAAQ,YAAY,QAAA;AAG/C,cAAa,cAAToE,IAAoB;AACvB,gBAAIjD,GAAAA;AAAW;AACfiD,YAAAA,KAAO;UAAA;AAGK,sBAATA,MAAoBW,KAAkB,YAAA,OAANA,MACnCA,IAAIpF,GAAcoF,CAAAA,IAKH,QAAZX,GAAK,CAAA,KAA4B,QAAdA,GAAK,CAAA,KAA6B,aAAA,OAANW,MAClDA,IAAII,OAAOJ,CAAAA;AAGZ,cAAIK,IACHpD,GAAKqD,iBACLrD,GAAKqD,cAAcjB,IAAMW,GAAG9D,IAASe,IAAMS,EAAAA;AAC5C,cAAI2C,KAAqB,OAAXA;AACbxF,YAAAA,MAAQwF;mBAII,8BAAThB;AACHM,gBAAOK,KAAKA,EAAEO;mBACS,eAAb9D,MAAoC,YAAT4C;AAErCK,YAAAA,KAAeM;oBACJA,KAAW,MAANA,KAAiB,OAANA,MAA0B,cAAA,OAANA,GAAkB;AACjE,gBAAA,EAAA,SAAIA,KAAoB,OAANA,MACjBA,IAAIX,IAECpC,MAASA,GAAKuD,OAAK;AACvB3F,cAAAA,KAAIA,KAAI,MAAMwE;AACd;YAAA;AAIF,gBAAa,YAATA,IAAkB;AACrB,kBAAiB,aAAb5C,IAAuB;AAC1BW,gBAAAA,KAAc4C;AACd;cAAA;AAGa,2BAAbvD,MACAW,MAAe4C,KAAAA,WAER5D,GAAMqE,aAEb5F,MAAAA;YAAAA;AAGFA,YAAAA,KAAIA,KAAAA,MAAQwE,KAAAA,OAASpF,GAAe+F,CAAAA,IAAAA;UAAAA;QAAAA;MAAAA;AAhFpCN,QAAAA,KAAeM;IAAAA;EAAAA;AAsFlB,MAAI3C,IAAQ;AACX,QAAIqD,IAAM7F,GAAEI,QAAQ,SAAS,GAAA;AACzByF,UAAQ7F,MAAAA,CAAO6F,EAAIC,QAAQ,IAAA,IACtBtD,MAAAA,CAAWxC,GAAE8F,QAAQ,IAAA,MAAO9F,MAAQ,QADPA,KAAI6F;EAAAA;AAM3C,MAFA7F,MAAQ,KAEJoF,GAAY7F,KAAKqC,EAAAA;AACpB,UAAA,IAAUmE,MAASnE,KAAAA,sCAA4C5B,EAAAA;AAEhE,MAKIW,GALAqF,KACHC,GAAc1G,KAAKqC,EAAAA,KAClBQ,GAAK8D,gBAAgB9D,GAAK8D,aAAa3G,KAAKqC,EAAAA,GAC1CuE,IAAS,CAAA;AAGb,MAAIrB;AAECtC,IAAAA,MAAU4D,GAActB,CAAAA,MAC3BA,IAAO,OAAOrC,KAAa4D,GAAOvB,GAAMrC,EAAAA,IAEzCzC,MAAQ8E;WAEQ,QAAhBD,MACApE,GAAaE,IAAW,CAAA,GAAKkE,EAAAA,EAAcjF,QAC1C;AAID,aAHI0G,IAAW9D,MAAAA,CAAWxC,GAAE8F,QAAQ,IAAA,GAChCS,IAAAA,OAEK9G,IAAI,GAAGA,IAAIkB,EAASf,QAAQH,KAAK;AACzC,UAAI+G,IAAQ7F,EAASlB,CAAAA;AAErB,UAAa,QAAT+G,KAAAA,UAAiBA,GAAiB;AACrC,YAMCC,IAAMtE,EACLqE,GACAnF,IACAe,IAAAA,MARa,UAAbR,MAEgB,oBAAbA,MAEAU,IAOHC,EAAAA;AAMF,YAHIC,MAAAA,CAAW8D,KAAYF,GAAcK,CAAAA,MAAMH,IAAAA,OAG3CG;AACH,cAAIjE,IAAQ;AACX,gBAAIkE,IAASD,EAAI7G,SAAS,KAAe,OAAV6G,EAAI,CAAA;AAI/BF,iBAAeG,IAClBP,EAAOA,EAAOvG,SAAS,CAAA,KAAM6G,IAE7BN,EAAOpF,KAAK0F,CAAAA,GAGbF,IAAcG;UAAAA;AAEdP,cAAOpF,KAAK0F,CAAAA;MAAAA;IAAAA;AAKhB,QAAIjE,MAAU8D;AACb,eAAS7G,IAAI0G,EAAOvG,QAAQH;AAC3B0G,UAAO1G,CAAAA,IAAK,OAAOgD,KAAa4D,GAAOF,EAAO1G,CAAAA,GAAIgD,EAAAA;EAAAA;AAKrD,MAAI0D,EAAOvG,UAAUkF;AACpB9E,IAAAA,MAAQmG,EAAOQ,KAAK,EAAA;WACVvE,MAAQA,GAAKuD;AACvB,WAAO3F,GAAE4G,UAAU,GAAG5G,GAAEJ,SAAS,CAAA,IAAK;AAUvC,SAAA,CAPIoG,MAAWrF,KAAamE,KAGvBtC,MAAAA,CAAWxC,GAAE8F,QAAQ,IAAA,MAAO9F,MAAQ,OACxCA,KAAIA,KAAAA,OAAS4B,KAAAA,OAHb5B,KAAIA,GAAEI,QAAQ,MAAM,KAAA,GAMdJ;AAAAA;AChTR,SAAS6G,GAAezF,IAAOC,IAASe,IAAAA;AACvCf,EAAAA,KAAUA,MAAW,CAAA;AAOrB,MAGIyF,IAHEC,KAAsB5D,EAAO;AAwBnC,SAvBAA,EAAO,MAAA,MAaN2D,KATA1E,OACCA,GAAKI,UACLJ,GAAK8D,gBACL9D,GAAK6C,kBACL7C,GAAKU,WACLV,GAAKiD,iBACLjD,GAAKuD,OACLvD,GAAKqD,iBAEAtD,EAAsBf,IAAOC,IAASe,EAAAA,IAEtC4E,GAAgB5F,IAAOC,IAAAA,OAAS,MAAOb,GAK1C2C,EAAO,OAAUA,EAAO,IAAS/B,IAAO6F,CAAAA,GAC5C9D,EAAO,MAAiB4D,IACxBE,EAAUrH,SAAS,GACZkH;AAAAA;AAmER,SAASI,EAAkB1C,IAAMlC,IAAAA;AAChC,SAAa,gBAATkC,KACI,UACY,cAATA,KACH,QACY,mBAATA,KACH,UACY,qBAATA,KACH,YACY,sBAATA,KACH,aACGlC,MAAagD,GAAM/F,KAAKiF,EAAAA,IAC3BA,GAAKlE,YAAAA,EAAcF,QAAQ,YAAY,QAAA,IAGxCoE;AAAAA;AAGR,SAAS2C,GAAmB3C,IAAMW,IAAAA;AACjC,SAAa,YAATX,MAAyB,QAALW,MAA0B,YAAA,OAANA,KACpCpF,GAAcoF,EAAAA,IACC,QAAZX,GAAK,CAAA,KAA0B,QAAZA,GAAK,CAAA,KAA2B,aAAA,OAANW,KAGhDI,OAAOJ,EAAAA,IAGRA;AAAAA;AAOR,SAAS6B,GAAgB5F,IAAOC,IAASiB,IAAWC,IAAAA;AAEnD,MAAa,QAATnB,MAAAA,SAAiBA,MAAAA,UAAkBA,MAA6B,OAAVA;AACzD,WAAO;AAIR,MAAqB,YAAA,OAAVA;AACV,WAAOhC,GAAegC,EAAAA;AAIvB,MAAIP,GAAQO,EAAAA,GAAQ;AAEnB,aADIsB,KAAW,IACNjD,KAAI,GAAGA,KAAI2B,GAAMxB,QAAQH;AACjCiD,MAAAA,MACYsE,GAAgB5F,GAAM3B,EAAAA,GAAI4B,IAASiB,IAAWC,EAAAA;AAE3D,WAAOG;EAAAA;AAGJS,IAAO,OAAQA,EAAO,IAAO/B,EAAAA;AAEjC,MAAIwB,KAAOxB,GAAMwB,MAChBrB,KAAQH,GAAMG;AAIf,MADoC,cAAA,OAATqB,IACV;AAChB,QAAIA,OAASI;AACZ,aAAOgE,GACN5F,GAAMG,MAAMZ,UACZU,IACAiB,IACAC,EAAAA;AAIF,QAAIG;AAEHA,IAAAA,KADGE,GAAKW,aAA8C,cAAA,OAA1BX,GAAKW,UAAUC,SA/G9C,SAA8BpC,IAAOC,IAAAA;AACpC,UAAIO,KAAWR,GAAMwB,MACpBa,KAAO9B,EAAWC,IAAUP,EAAAA,GAGzB6B,KAAI,IAAItB,GAASR,GAAMG,OAAOkC,EAAAA;AAClCrC,MAAAA,GAAK,MAAc8B,IACnBA,GAAC,MAAU9B,IAEX8B,GAAC,MAAA,MACDA,GAAE3B,QAAQH,GAAMG,OACD,QAAX2B,GAAES,UAAeT,GAAES,QAAQ,CAAA,IAEV,QAAjBT,GAAC,QACJA,GAAC,MAAeA,GAAES,QAGnBT,GAAE7B,UAAUoC,IACR7B,GAASkC,2BACZZ,GAAES,QAAQK,GACT,CAAA,GACAd,GAAES,OACF/B,GAASkC,yBAAyBZ,GAAE3B,OAAO2B,GAAES,KAAAA,CAAAA,IAEpCT,GAAEe,uBACZf,GAAEe,mBAAAA,GAIFf,GAAES,QAAQT,GAAC,QAAiBA,GAAES,QAAQT,GAAC,MAAeA,GAAES;AAGzD,UAAIN,KAAaF,EAAO;AAGxB,aAFIE,MAAYA,GAAWjC,EAAAA,GAEpB8B,GAAEM,OAAON,GAAE3B,OAAO2B,GAAES,OAAOT,GAAE7B,OAAAA;IAAAA,EA6EFD,IAAOC,EAAAA,IA1I1C,SAAiCD,IAAOC,IAAAA;AACvC,UAAIqB,IACHQ,KAAI/B,GAAgBC,IAAOC,EAAAA,GAC3BoC,KAAO9B,EAAWP,GAAMwB,MAAMvB,EAAAA;AAE/BD,MAAAA,GAAK,MAAc8B;AASnB,eAFIG,KAAaF,EAAO,KACpBe,KAAQ,GACLhB,GAAC,OAAWgB,OAAU;AAC5BhB,QAAAA,GAAC,MAAA,OAEGG,MAAYA,GAAWjC,EAAAA,GAG3BsB,KAAWtB,GAAMwB,KAAKuB,KAAKjB,IAAG9B,GAAMG,OAAOkC,EAAAA;AAG5C,aAAOf;IAAAA,EAqH8BtB,IAAOC,EAAAA;AAG3C,QAAIsB,KAAYvB,GAAK;AACjBuB,IAAAA,GAAUyB,oBACb/C,KAAU2C,GAAO,CAAA,GAAI3C,IAASsB,GAAUyB,gBAAAA,CAAAA;AAIzC,QAAM/E,KAAM2H,GAAgBtE,IAAUrB,IAASiB,IAAWC,EAAAA;AAE1D,WADIY,EAAO,UAAUA,EAAO,OAAS/B,EAAAA,GAC9B/B;EAAAA;AAIR,MACCsB,IACAmE,IAFG9E,KAAI;AAMR,MAFAA,MAAQ4C,IAEJrB;AAEH,aAASiD,MADT7D,KAAWY,GAAMZ,UACAY,IAAO;AACvB,UAAI4D,KAAI5D,GAAMiD,EAAAA;AAEd,UAAA,EACU,UAATA,MACS,UAATA,MACS,aAATA,MACS,eAATA,MACS,eAATA,MACU,gBAATA,MAAwB,WAAWjD,MAC1B,cAATiD,MAAsB,SAASjD,MAK7B6D,GAAY7F,KAAKiF,EAAAA;AAKrB,YAFAW,KAAIgC,GADJ3C,KAAO0C,EAAkB1C,IAAMlC,EAAAA,GACF6C,EAAAA,GAEhB,8BAATX;AACHM,UAAAA,KAAOK,MAAKA,GAAEO;iBACK,eAAT9C,MAAgC,YAAT4B;AAEjC7D,UAAAA,KAAWwE;kBACAA,MAAW,MAANA,MAAiB,OAANA,OAA0B,cAAA,OAANA,IAAkB;AACjE,cAAA,SAAIA,MAAoB,OAANA,IAAU;AAC3BA,YAAAA,KAAIX,IACJxE,KAAIA,KAAI,MAAMwE;AACd;UAAA;AAGD,cAAa,YAATA,IAAkB;AACrB,gBAAa,aAAT5B,IAAmB;AACtBL,cAAAA,KAAc4C;AACd;YAAA;AAGS,yBAATvC,MACAL,MAAe4C,MAEb,cAAc5D,OAEhBvB,MAAQ;UAAA;AAGVA,UAAAA,KAAIA,KAAI,MAAMwE,KAAO,OAAOpF,GAAe+F,EAAAA,IAAK;QAAA;;IAAA;AAKnD,MAAIiC,KAAepH;AAGnB,MAFAA,MAAQ,KAEJoF,GAAY7F,KAAKqD,EAAAA;AACpB,UAAA,IAAUmD,MAASnD,KAAAA,sCAAwC5C,EAAAA;AAG5D,MAAImG,IAAS,IACTkB,KAAAA;AAEJ,MAAIvC;AACHqB,SAAkBrB,IAClBuC,KAAAA;WAC8B,YAAA,OAAb1G;AACjBwF,SAAkB/G,GAAeuB,EAAAA,GACjC0G,KAAAA;WACUxG,GAAQF,EAAAA;AAClB,aAASlB,KAAI,GAAGA,KAAIkB,GAASf,QAAQH,MAAK;AACzC,UAAI+G,KAAQ7F,GAASlB,EAAAA;AAErB,UAAa,QAAT+G,MAAAA,UAAiBA,IAAiB;AACrC,YAEIC,KAAMO,GAAgBR,IAAOnF,IADvB,UAATuB,MAA4B,oBAATA,MAA4BN,IACQC,EAAAA;AAGpDkE,QAAAA,OACHN,KAAkBM,IAClBY,KAAAA;MAAc;IAAA;WAIK,QAAZ1G,MAAAA,UAAoBA,MAAAA,SAAsBA,IAAmB;AACvE,QAEI8F,IAAMO,GAAgBrG,IAAUU,IAD1B,UAATuB,MAA4B,oBAATA,MAA4BN,IACWC,EAAAA;AAGvDkE,UACHN,KAAkBM,GAClBY,KAAAA;EAAc;AAMhB,MAFIlE,EAAO,UAAUA,EAAO,OAAS/B,EAAAA,GAEjCiG;AACHrH,IAAAA,MAAQmG;WACEF,GAAc1G,KAAKqD,EAAAA;AAC7B,WAAOwE,KAAe;AAGvB,SAAOpH,KAAI,OAAO4C,KAAO;AAAA;IF9VbrC,IACA0F,IACAb,IACAE,IAEPhG,IAuCK+G,IAGAD,IAKLjG,IAEAE,ICxCAuE,ICUA0C,IAsBFC,IAEEN,GAkIApG,IACAmD;;;;IFnLOzD,KAAqB;IACrB0F,KAAgB;IAChBb,KAAc;IACdE,KAAQ;IAEfhG,KAAmB;AAoCjBI,IAGG2G,KAAS,SAACrG,IAAGwH,IAAAA;AAAAA,aACvBjC,OAAOvF,EAAAA,EAAGI,QAAQ,UAAU,QAAQoH,MAAQ,IAAA;IAAA;AAJrC9H,IAMG0G,KAAgB,SAACpG,IAAGJ,IAAQ6H,IAAAA;AAAAA,aACtClC,OAAOvF,EAAAA,EAAGJ,UAAUA,MAAU,OAAA,CAC5B6H,MAAAA,OAAelC,OAAOvF,EAAAA,EAAG8F,QAAQ,IAAA,KAAA,OACnCP,OAAOvF,EAAAA,EAAG8F,QAAQ,GAAA;IAAA;AATXpG,IAWFS,KAAY,CAAA;AAXVT,IAaFW,KAAY;ACxClB,IAAMuE,KAAU,CAAA;AAmVR5E,ICzUFsH,KAAU,EAAExE,SAAAA,KAAS;AAa3B+D,IAAAA,GAAerD,SAASqD;AASpBU,IAAAA,KAAgB,SAACnG,IAAOC,IAAAA;AAAAA,aAAYwF,GAAezF,IAAOC,IAASiG,EAAAA;IAAAA;AAAnEC,IAEEN,IAAY,CAAA;AAkIlB,IAAMpG,KAAUD,MAAMC;AAAtB,IACMmD,KAASD,OAAOC;AAgLtB6C,IAAAA,GAAeU,gBAAgBA;;;;;AC3U/B,SAASG,GAAYC,IAAMC,IAAOC,IAAKC,IAAQC,IAAAA;AAI9C,MACCC,IACAC,IAFGC,KAAkB,CAAtB;AAGA,OAAKD,MAAKL;AACA,aAALK,KACHD,KAAMJ,GAAMK,EAAAA,IAEZC,GAAgBD,EAAAA,IAAKL,GAAMK,EAAAA;AAI7B,MAAME,KAAQ,EACbR,MAAAA,IACAC,OAAOM,IACPL,KAAAA,IACAG,KAAAA,IACAI,KAAW,MACXC,IAAS,MACTC,KAAQ,GACRC,KAAM,MACNC,KAAAA,QACAC,KAAY,MACZC,KAAY,MACZC,aAAAA,QACAC,KAAAA,EAAaC,IACbd,UAAAA,IACAD,QAAAA,GAAAA;AAKD,MAAoB,cAAA,OAATH,OAAwBK,KAAML,GAAKmB;AAC7C,SAAKb,MAAKD;AAAAA,iBACEE,GAAgBD,EAAAA,MAC1BC,GAAgBD,EAAAA,IAAKD,GAAIC,EAAAA;AAK5B,SADIc,EAAQZ,SAAOY,EAAQZ,MAAMA,EAAAA,GAC1BA;AACP;IAjEGU;;;;;AAAJ,IAAIA,KAAU;;;;;ACFC,SAAR,UAA2B,OAAO;AACrC,QAAM,EAAE,KAAK,QAAQ,WAAW,MAAM,IAAI;AAC1C,QAAM,gBAAgB,GAAG,GAAG;AAC5B,QAAM,SAAS;AAAA,IACX,SAAS;AAAA,MACL,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,SAAUG,GAAK,KAAK,EAAE,UAAUA,GAAK,KAAK,EAAE,WAAW,QAAQ,MAAM,KAAK,QAAQ,UAAU,KAAK,KAAK,CAAC,EAAE,CAAC;AAAA,IAC9G;AAAA,IACA,eAAe;AAAA,MACX,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,SAAUA,GAAM,OAAO,EAAE,UAAU,CAACA,GAAK,KAAK,EAAE,UAAU,oDAAoD,CAAC,GAAGA,GAAK,KAAK,EAAE,UAAU,8CAA8C,CAAC,CAAC,EAAE,CAAC;AAAA,IAC/L;AAAA,IACA,cAAc;AAAA,MACV,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,SAAUA,GAAM,OAAO,EAAE,UAAU,CAACA,GAAK,KAAK,EAAE,UAAU,yCAAyC,CAAC,GAAGA,GAAK,KAAK,EAAE,UAAUA,GAAK,KAAK,EAAE,WAAW,UAAU,MAAM,eAAe,UAAU,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;AAAA,IACnN;AAAA,IACA,cAAc;AAAA,MACV,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,SAAUA,GAAM,OAAO,EAAE,UAAU,CAACA,GAAK,KAAK,EAAE,UAAU,uCAAuC,CAAC,GAAGA,GAAK,KAAK,EAAE,UAAU,wDAAwD,CAAC,CAAC,EAAE,CAAC;AAAA,MACxL,QAASA,GAAK,KAAK,EAAE,WAAW,UAAU,MAAM,eAAe,UAAU,UAAU,CAAC;AAAA,IACxF;AAAA,EACJ;AACA,QAAM,EAAE,QAAQ,SAAS,SAAAC,UAAS,OAAO,IAAI,OAAO,KAAK,KAAK,OAAO;AACrE,SAAO;AAAA,IACH;AAAA,IACA,MAAOD,GAAM,OAAO,EAAE,WAAW,SAAS,UAAU,CAAC,OAAO,cAAeA,GAAK,SAAS,EAAE,yBAAyB;AAAA,MACpG,QAAQ;AAAA;AAAA,2BAEL,OAAO,UAAU;AAAA;AAAA;AAAA,IAGxB,EAAE,CAAC,GAAIA,GAAM,OAAO,EAAE,WAAW,QAAQ,UAAU,CAAC,OAAO,QAAQA,GAAK,OAAO,EAAE,KAAK,OAAO,MAAM,KAAK,QAAQ,WAAW,OAAO,CAAC,GAAGA,GAAK,MAAM,EAAE,UAAU,QAAQ,CAAC,GAAGA,GAAK,OAAO,EAAE,WAAW,WAAW,UAAUC,SAAQ,CAAC,GAAG,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;AAAA,EAChQ;AACJ;AAvCA;AAAA;AAAA;AAAA;AAAA;;;ACoBA,eAAsB,eAAe,SAAS,YAAY;AAGtD,QAAM,kBAAkB,OAAO;AAQ/B,iBAAe,aAAa,QAAQ;AAEhC,UAAM,MAAM,IAAI,IAAI,GAAG,OAAO,qBAAqB,UAAU,EAAE;AAC/D,QAAI;AACA,UAAI,aAAa,OAAO,UAAU,MAAM;AAC5C,UAAM,aAAa,cAAc;AACjC,eAAW,QAAQ,CAAC,UAAU;AAC1B,UAAI,aAAa,OAAO,MAAM,MAAM,MAAM,KAAK;AAAA,IACnD,CAAC;AACD,UAAM,MAAM,MAAM,MAAM,GAAG;AAC3B,QAAI,CAAC,IAAI,IAAI;AACT,cAAQ,MAAM,2BAA2B,GAAG;AAC5C;AAAA,IACJ;AACA,WAAO,IAAI,KAAK;AAAA,EACpB;AAMA,WAAS,UAAU;AACf,UAAM,SAAS,IAAI,UAAU;AAE7B,UAAM,OAAO,SAAS,cAAc,MAAM;AAC1C,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,SAAS,MAAM,aAAa;AAChD,WAAO;AAAA,EACX;AAMA,WAAS,gBAAgB;AACrB,UAAM,OAAO,QAAQ;AAErB,UAAM,aAAa,MAAM,KAAK,KAAK,iBAAiB,wBAAwB,CAAC;AAC7E,WAAO;AAAA,EACX;AASA,iBAAe,WAAW,QAAQ,MAAM;AACpC,UAAM,OAAO,QAAQ;AAGrB,QAAI,QAAQ;AACR,YAAM,cAAc,SAAS,cAAc,OAAO;AAClD,kBAAY,OAAO;AACnB,kBAAY,OAAO;AACnB,kBAAY,QAAQ;AACpB,WAAK,YAAY,WAAW;AAAA,IAChC;AACA,QAAI,MAAM;AACN,YAAM,YAAY,SAAS,cAAc,OAAO;AAChD,gBAAU,OAAO;AACjB,gBAAU,OAAO;AACjB,gBAAU,QAAQ,KAAK,UAAU,IAAI;AACrC,WAAK,YAAY,SAAS;AAAA,IAC9B;AACA,WAAO,KAAK,OAAO;AAAA,EACvB;AASA,iBAAe,mBAAmBC,UAAS,UAAU;AAEjD,UAAM,WAAW,MAAM,gBAAgB,oBAAoBA,UAAS,QAAQ;AAE5E,WAAO,MAAM,WAAW,gBAAgB,QAAQ;AAAA,EACpD;AAIA,iBAAe,iBAAiBA,UAAS;AAErC,UAAM,aAAa,cAAc;AACjC,eAAW,QAAQ,CAAC,UAAU;AAC1B,UAAI,MAAM,YAAY,CAAC,MAAM,OAAO;AAChC,cAAM,IAAI,MAAM,2BAA2B,MAAM,IAAI,EAAE;AAAA,MAC3D;AAAA,IACJ,CAAC;AAED,UAAM,UAAU,MAAM,gBAAgB,kBAAkBA,QAAO;AAE/D,WAAO,MAAM,WAAW,YAAY,OAAO;AAAA,EAC/C;AAOA,iBAAe,yBAAyB;AAEpC,QAAI,CAAC,gBAAgB,gCAAgC;AACjD;AACJ,UAAM,MAAM,MAAM,aAAa,cAAc;AAC7C,QAAI,CAAC,KAAK;AACN,cAAQ,MAAM,oDAAoD;AAClE;AAAA,IACJ;AACA,QAAI;AACA,YAAM,mBAAmB,IAAI,SAAS,IAAI;AAAA,IAC9C,SACOC,IAAG;AACN,cAAQ,MAAMA,EAAC;AAAA,IACnB;AAAA,EACJ;AAMA,iBAAe,YAAY;AACvB,UAAM,OAAO,QAAQ;AAErB,QAAI,CAAC,gBAAgB,wBAAwB,GAAG;AAC5C,WAAK,MAAM,UAAU;AACrB;AAAA,IACJ;AACA,QAAI,MAAM;AACN,WAAK,iBAAiB,UAAU,OAAOA,OAAM;AACzC,QAAAA,GAAE,eAAe;AAGjB,cAAM,MAAM,MAAM,aAAa,MAAS;AACxC,YAAI,CAAC,KAAK;AACN,kBAAQ,MAAM,6CAA6C;AAC3D;AAAA,QACJ;AAEA,YAAI,IAAI,WAAW,gBAAgB;AAC/B,cAAI;AACA,kBAAM,mBAAmB,IAAI,SAAS,KAAK;AAAA,UAC/C,SACOA,IAAG;AACN,oBAAQ,MAAMA,EAAC;AAAA,UACnB;AAAA,QACJ,WACS,IAAI,WAAW,YAAY;AAChC,cAAI;AACA,kBAAM,iBAAiB,IAAI,OAAO;AAAA,UACtC,SACOA,IAAG;AACN,oBAAQ,MAAMA,EAAC;AAAA,UACnB;AAAA,QACJ;AAAA,MACJ,CAAC;AAAA,IACL;AAAA,EACJ;AAEA,YAAU;AACV,yBAAuB;AAC3B;AApMA;AAAA;AAAA;AAAA;;;ACeA,SAAS,UAAU,KAAK,QAAQ,GAAG;AAC/B,MAAI,CAAC,KAAK;AACN;AAAA,EACJ;AAEA,QAAM,IAAI,QAAQ,MAAM,EAAE;AAE1B,MAAI,IAAI,WAAW,GAAG;AAClB,UAAM,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC;AAAA,EAC5D;AAEA,QAAM,SAAS,SAAS,KAAK,EAAE;AAC/B,QAAMC,KAAK,UAAU,KAAM;AAC3B,QAAMC,KAAK,UAAU,IAAK;AAC1B,QAAMC,KAAI,SAAS;AAEnB,UAAQ,KAAK,IAAI,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC;AAEtC,QAAM,OAAO,QAAQF,EAAC,KAAKC,EAAC,KAAKC,EAAC,KAAK,KAAK;AAC5C,SAAO;AACX;AACA,SAAS,oBAAoB,YAAY;AACrC,QAAM,2BAA2B;AAAA;AAAA;AAAA,GAGlC,cAAc,eAAe,UAAU;AAAA;AAEtC,SAAQC,GAAK,GAAW,EAAE,UAAUA,GAAK,UAAU,EAAE,yBAAyB,EAAE,QAAQ,yBAAyB,EAAE,CAAC,EAAE,CAAC;AAC3H;AACe,SAAR,WAA4B,OAAO;AACtC,QAAM,EAAE,WAAW,YAAY,CAAC,GAAG,aAAa,OAAO,OAAO,OAAO,UAAW,IAAI;AACpF,MAAI,OAAO,aAAa,eAAe,OAAO,YAAY;AACtD,aAAS,gBAAgB,MAAM,YAAY,iBAAiB,MAAM,UAAU;AAAA,EAChF;AACA,MAAI,OAAO,aAAa,eAAe,OAAO,YAAY;AACtD,aAAS,gBAAgB,MAAM,YAAY,uBAAuB,MAAM,UAAU;AAAA,EACtF;AACA,QAAM,QAAQ,cAAc,aAAa,SAAS,KAAK,aAAa;AACpE,QAAM,mBAAmB;AACzB,QAAM,0BAA0B,UAAU,KAAK,CAAC,aAAa,SAAS,SAAS,cAAc,SAAS,mBAAmB,GAAG;AAC5H,SAAQA,GAAM,OAAO,EAAE,WAAW,UAAU,UAAU,CAAC,OAAO,cAAeA,GAAK,SAAS,EAAE,yBAAyB;AAAA,IACtG,QAAQ,yBAAyB,MAAM,UAAU;AAAA,EACrD,EAAE,CAAC,GAAI,OAAO,cAAeA,GAAK,SAAS,EAAE,yBAAyB;AAAA,IAClE,QAAQ;AAAA;AAAA,iCAEK,MAAM,UAAU;AAAA;AAAA;AAAA,EAGjC,EAAE,CAAC,GAAIA,GAAM,OAAO,EAAE,WAAW,QAAQ,UAAU,CAAC,SAAUA,GAAK,OAAO,EAAE,WAAW,SAAS,UAAUA,GAAK,KAAK,EAAE,UAAU,MAAM,CAAC,EAAE,CAAC,GAAI,OAAO,QAAQA,GAAK,OAAO,EAAE,KAAK,MAAM,MAAM,KAAK,QAAQ,WAAW,OAAO,CAAC,GAAG,UAAU,IAAI,CAAC,UAAUC,OAAM;AACtP,QAAI,IAAIC,OAAM,MAAM,UAAU,QAAQ;AACtC,QAAI,SAAS,SAAS,WAAW,SAAS,SAAS,QAAQ;AACvD;AACA,OAAC;AAAA,QACG,KAAK;AAAA,QACL,MAAAA,QAAO;AAAA,QACP,OAAO;AAAA,QACP,SAAS;AAAA,QACT,WAAWA;AAAA,QACX,WAAW;AAAA,MACf,IAAI,SAAS,SAAS,CAAC;AACvB,aAAO,KAAK,WAAW,GAAG,IAAI,mBAAmB,OAAO;AACxD,iBAAW,SAAS,WAAW,GAAG,IAC5B,mBAAmB,WACnB,YAAY;AAClB,mBAAa,WAAW;AAAA,IAC5B;AACA,WAAQF,GAAM,OAAO,EAAE,WAAW,YAAY,UAAU,CAAC,SAAS,SAAS,WAAW,SAAS,SAAS,SAAUA,GAAM,QAAQ,EAAE,QAAQ,SAAS,WAAW,QAAQ,QAAQ,UAAU,CAACA,GAAK,SAAS,EAAE,MAAM,UAAU,MAAM,aAAa,OAAO,UAAU,CAAC,GAAG,eAAgBA,GAAK,SAAS,EAAE,MAAM,UAAU,MAAM,eAAe,OAAO,YAAY,CAAC,GAAIA,GAAM,UAAU,EAAE,MAAM,UAAU,WAAW,UAAU,OAAO;AAAA,MACpY,iBAAiB;AAAA,MACjB,sBAAsB;AAAA,MACtB,oBAAoBE;AAAA,MACpB,yBAAyB;AAAA,MACzB,uBAAuB,UAAU,IAAI,GAAG;AAAA,MACxC,4BAA4B,UAAU,QAAQ,GAAG;AAAA,IACrD,GAAG,UAAU,GAAG,UAAU,CAAC,QAASF,GAAK,OAAO,EAAE,SAAS,QAAQ,QAAQ,IAAI,OAAO,IAAI,IAAI,iBAAiB,KAAK,KAAK,CAAC,GAAI,YAAaA,GAAK,OAAO,EAAE,SAAS,QAAQ,QAAQ,IAAI,OAAO,IAAI,IAAI,sBAAsB,KAAK,SAAS,CAAC,GAAIA,GAAM,QAAQ,EAAE,UAAU,CAAC,iBAAiB,SAAS,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,IAAK,OAAO,SAAS,SAAS,WAAW,SAAS,SAAS,iBAAiB,SAAS,SAAS,eACxZC,KAAI,KACJ,UAAUA,KAAI,CAAC,EAAE,SAAS,WAC1B,UAAUA,KAAI,CAAC,EAAE,SAAS,iBAC1B,UAAUA,KAAI,CAAC,EAAE,SAAS,cAAcD,GAAK,MAAM,CAAC,CAAC,GAAG,SAAS,SAAS,WAAYA,GAAM,QAAQ,EAAE,QAAQ,SAAS,WAAW,QAAQ,QAAQ,UAAU,CAACA,GAAK,SAAS,EAAE,MAAM,UAAU,MAAM,aAAa,OAAO,UAAU,CAAC,GAAGA,GAAK,SAAS,EAAE,WAAW,kBAAkB,SAAS,mBAAmB,SAAS,EAAE,aAAa,UAAU,QAAQ,CAAC,GAAGA,GAAK,SAAS,EAAE,IAAI,mBAAmB,SAAS,EAAE,aAAa,WAAW,MAAM,MAAM,SAAS,MAAM,SAAS,OAAO,OAAO,aAAa,qBAAqB,UAAU,KAAK,CAAC,GAAGA,GAAM,UAAU,EAAE,IAAI,gBAAgB,MAAM,UAAU,UAAU,GAAG,UAAU,CAAC,iBAAiB,SAAS,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,GAAI,SAAS,SAAS,iBAAkBA,GAAM,QAAQ,EAAE,QAAQ,SAAS,aAAa,QAAQ,QAAQ,UAAU,CAACA,GAAK,SAAS,EAAE,MAAM,UAAU,MAAM,aAAa,OAAO,UAAU,CAAC,GAAG,OAAO,KAAK,SAAS,WAAW,EAAE,IAAI,CAAC,eAAe;AACv2B,aAAQA,GAAM,OAAO,EAAE,UAAU,CAACA,GAAK,SAAS,EAAE,WAAW,kBAAkB,SAAS,SAAS,UAAU,QAAQ,SAAS,EAAE,aAAa,UAAU,SAAS,YAAY,UAAU,EAAE,SAAS,WAAW,CAAC,GAAGA,GAAK,SAAS,EAAE,MAAM,YAAY,IAAI,SAAS,UAAU,QAAQ,SAAS,EAAE,aAAa,MAAM,SAAS,YAAY,UAAU,EAAE,QAAQ,QAAQ,aAAa,SAAS,YAAY,UAAU,EAAE,eAAe,IAAI,GAAG,SAAS,YAAY,UAAU,EAAE,CAAC,CAAC,EAAE,GAAG,eAAe,SAAS,EAAE,EAAE;AAAA,IAC1e,CAAC,GAAGA,GAAM,UAAU,EAAE,IAAI,gBAAgB,MAAM,UAAU,UAAU,GAAG,UAAU,CAAC,iBAAiB,SAAS,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,GAAI,SAAS,SAAS,cAAeA,GAAM,QAAQ,EAAE,QAAQ,SAAS,aAAa,QAAQ,QAAQ,IAAI,GAAG,SAAS,EAAE,SAAS,UAAU,CAACA,GAAK,SAAS,EAAE,MAAM,UAAU,MAAM,aAAa,OAAO,UAAU,CAAC,GAAG,OAAO,KAAK,SAAS,UAAU,EAAE,IAAI,CAAC,UAAU;AACpX,aAAQA,GAAM,OAAO,EAAE,UAAU,CAACA,GAAK,SAAS,EAAE,WAAW,kBAAkB,SAAS,SAAS,KAAK,QAAQ,SAAS,EAAE,aAAa,UAAU,SAAS,WAAW,KAAK,EAAE,SAAS,MAAM,CAAC,GAAGA,GAAK,SAAS,EAAE,MAAM,OAAO,mBAAmB,MAAM,IAAI,SAAS,KAAK,QAAQ,SAAS,EAAE,aAAa,MAAM,SAAS,WAAW,KAAK,EAAE,QAAQ,QAAQ,aAAa,SAAS,WAAW,KAAK,EAAE,eAAe,IAAI,GAAG,SAAS,WAAW,KAAK,EAAE,CAAC,CAAC,EAAE,GAAG,eAAe,SAAS,EAAE,EAAE;AAAA,IACvd,CAAC,GAAGA,GAAM,UAAU,EAAE,IAAI,gBAAgB,SAAS,EAAE,IAAI,MAAM,UAAU,UAAU,GAAG,UAAU,CAAC,iBAAiB,SAAS,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,IAAK,SAAS,SAAS,WAAW,SAAS,SAAS,iBAAiB,SAAS,SAAS,eACjOC,KAAI,IAAI,UAAU,UAAUD,GAAK,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,SAAS,EAAE;AAAA,EAC1E,CAAC,CAAC,EAAE,CAAC,GAAG,2BAA2B,oBAAoB,uBAAuB,CAAC,EAAE,CAAC;AACtG;AAnGA,IAEM;AAFN;AAAA;AAAA;AACA;AACA,IAAM,eAAe;AAAA,MACjB,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,oBAAoB;AAAA,MACpB,oBAAoB;AAAA,MACpB,oBAAoB;AAAA,MACpB,UAAU;AAAA,MACV,uBAAuB;AAAA,MACvB,aAAa;AAAA,MACb,mBAAmB;AAAA,MACnB,iBAAiB;AAAA,IACrB;AAAA;AAAA;;;ACbe,SAAR,YAA6B,OAAO;AACvC,QAAM,EAAE,KAAK,WAAW,MAAM,IAAI;AAClC,SAAQG,GAAM,OAAO,EAAE,WAAW,WAAW,UAAU,CAAC,OAAO,cAAeA,GAAK,SAAS,EAAE,yBAAyB;AAAA,IACvG,QAAQ;AAAA;AAAA,2BAED,MAAM,UAAU;AAAA;AAAA;AAAA,EAG3B,EAAE,CAAC,GAAI,OAAO,cAAeA,GAAK,SAAS,EAAE,yBAAyB;AAAA,IAClE,QAAQ;AAAA;AAAA,iCAEK,MAAM,UAAU;AAAA;AAAA;AAAA,EAGjC,EAAE,CAAC,GAAIA,GAAM,OAAO,EAAE,WAAW,QAAQ,UAAU,CAAC,OAAO,QAAQA,GAAK,OAAO,EAAE,KAAK,MAAM,MAAM,KAAK,QAAQ,WAAW,OAAO,CAAC,GAAGA,GAAK,MAAM,EAAE,UAAU,UAAU,CAAC,GAAGA,GAAK,KAAK,EAAE,UAAU,qCAAqC,CAAC,GAAGA,GAAM,QAAQ,EAAE,QAAQ,KAAK,SAAS,GAAG,QAAQ,QAAQ,UAAU,CAACA,GAAK,SAAS,EAAE,MAAM,UAAU,MAAM,aAAa,OAAO,UAAU,CAAC,GAAGA,GAAK,UAAU,EAAE,IAAI,gBAAgB,MAAM,UAAU,UAAU,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;AAC5d;AAhBA;AAAA;AAAA;AAAA;AAAA;;;ACAA,IACO;AADP;AAAA;AACA,IAAO,iBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,SAAR,kBAAmC,OAAO;AAC7C,QAAM,EAAE,KAAK,MAAM,IAAI;AACvB,SAAQC,GAAM,OAAO,EAAE,WAAW,kBAAkB,UAAU,CAAC,MAAM,cAAeA,GAAK,SAAS,EAAE,yBAAyB;AAAA,IAC7G,QAAQ;AAAA;AAAA,2BAED,MAAM,UAAU;AAAA;AAAA;AAAA,EAG3B,EAAE,CAAC,GAAIA,GAAM,OAAO,EAAE,WAAW,QAAQ,UAAU,CAAC,MAAM,QAAQA,GAAK,OAAO,EAAE,KAAK,MAAM,MAAM,KAAK,QAAQ,WAAW,OAAO,CAAC,GAAGA,GAAK,MAAM,EAAE,UAAU,mBAAmB,CAAC,GAAGA,GAAK,KAAK,EAAE,UAAU,sDAAsD,CAAC,GAAGA,GAAK,KAAK,EAAE,UAAUA,GAAK,KAAK,EAAE,WAAW,QAAQ,MAAM,IAAI,QAAQ,UAAU,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;AACxX;AAVA;AAAA;AAAA;AAAA;AAAA;;;ACOA,SAAS,KAAK,EAAE,MAAM,OAAO,QAAQ,SAAS,OAAO,SAAU,GAAG;AAC9D,SAAO;AAAA,IACH;AAAA,IACA;AAAA,IACA,SAAS,EAAE,gBAAgB,YAAY;AAAA,IACvC,MAAM,gMAAgM,cAAG,kBAAkB,KAAK,WAAW,YAAY,EAAE,yCAAyC,OAAO,eAAe,MAAM,uBAAuBC,GAAe,IAAI,CAAC;AAAA,EAC7W;AACJ;AAKe,SAAR,WAA4B,QAAQ;AACvC,QAAM,EAAE,KAAK,OAAO,OAAO,SAAS,OAAO,UAAU,IAAI;AACzD,SAAO;AAAA,IACH,KAAK,MAAMC,UAASC,UAAS;AACzB,UAAI,CAAC,MAAM;AACP,eAAO;AAAA,UACH,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,UAC9C,MAAM,EAAE,WAAWD,SAAQ,UAAU;AAAA,UACrC,SAAAC;AAAA,QACJ;AAAA,MACJ;AACA,MAAAD,SAAQ,OAAO,KAAK,eAAe;AACnC,MAAAC,SAAQ,KAAK;AAAA,QACT,MAAMD,SAAQ,QAAQ,UAAU;AAAA,QAChC,OAAO;AAAA,QACP,SAAS,EAAE,GAAGA,SAAQ,QAAQ,UAAU,SAAS,QAAQ,EAAE;AAAA,MAC/D,CAAC;AACD,aAAO,EAAE,QAAQ,KAAK,SAAAC,SAAQ;AAAA,IAClC;AAAA,IACA,UAAUC,YAAW;AACjB,aAAO;AAAA,QACH,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,QAC9C,MAAMA,WAAU,OAAO,CAAC,KAAK,EAAE,IAAI,MAAM,MAAM,WAAW,YAAY,MAAM;AACxE,cAAI,EAAE,IAAI,EAAE,IAAI,MAAM,MAAM,WAAW,YAAY;AACnD,iBAAO;AAAA,QACX,GAAG,CAAC,CAAC;AAAA,MACT;AAAA,IACJ;AAAA,IACA,OAAO,YAAY,OAAO;AACtB,UAAI;AACA,cAAM,IAAI,cAAc,oBAAoB;AAChD,UAAI,OAAO,QAAQ;AACf,YAAI,YAAY,GAAG,MAAM,MAAM,GAAG,MAAM,OAAO,SAAS,GAAG,IAAI,MAAM,GAAG,GAAG,IAAI,gBAAgB,EAAE,aAAa,OAAO,eAAe,IAAI,CAAC,CAAC;AAC1I,YAAI;AACA,sBAAY,GAAG,SAAS,IAAI,IAAI,gBAAgB,EAAE,MAAM,CAAC,CAAC;AAC9D,eAAO,EAAE,UAAU,WAAW,QAAQ;AAAA,MAC1C;AAIA,YAAM,mBAAmB,WAAW,KAAK,CAACC,OAAMA,GAAE,SAAS,cACvDA,GAAE,uBACF,CAAC,CAACA,GAAE,4BAA4B;AACpC,UAAI,8BAA8B;AAClC,UAAI,kBAAkB;AAClB,cAAM,EAAE,6BAA6B,IAAI;AACzC,sCAA8B,0DAA0D,4BAA4B;AAAA,MACxH;AACA,aAAO,KAAK;AAAA,QACR;AAAA,QACA;AAAA,QACA,MAAM,WAAW;AAAA,UACb,WAAW,OAAO;AAAA;AAAA,UAElB,WAAW,OAAO,WAAW,OAAO,CAAC;AAAA;AAAA,YAErC,CAAC,SAAS,SAAS,MAAM,EAAE,SAAS,SAAS,IAAI;AAAA,YAE5C,SAAS,SAAS,iBAAiB,SAAS;AAAA,YAE5C,SAAS,SAAS,cAAc,SAAS;AAAA,YAE1C;AAAA,WAAK;AAAA,UACT,aAAa,OAAO;AAAA,UACpB,OAAO,OAAO;AAAA,UACd;AAAA,UACA,GAAG;AAAA,QACP,CAAC;AAAA,QACD,OAAO;AAAA,QACP,UAAU;AAAA,MACd,CAAC;AAAA,IACL;AAAA,IACA,UAAU;AACN,UAAI,OAAO;AACP,eAAO,EAAE,UAAU,MAAM,SAAS,QAAQ;AAC9C,aAAO,KAAK;AAAA,QACR;AAAA,QACA;AAAA,QACA,MAAM,YAAY,EAAE,WAAW,OAAO,WAAW,KAAK,MAAM,CAAC;AAAA,QAC7D,OAAO;AAAA,MACX,CAAC;AAAA,IACL;AAAA,IACA,cAAc,OAAO;AACjB,UAAI,OAAO;AACP,eAAO,EAAE,UAAU,MAAM,eAAe,QAAQ;AACpD,aAAO,KAAK;AAAA,QACR;AAAA,QACA;AAAA,QACA,MAAM,kBAAkB,EAAE,KAAK,OAAO,GAAG,MAAM,CAAC;AAAA,QAChD,OAAO;AAAA,MACX,CAAC;AAAA,IACL;AAAA,IACA,MAAM,OAAO;AACT,UAAI,OAAO,OAAO;AACd,eAAO;AAAA,UACH,UAAU,GAAG,MAAM,KAAK,GAAG,MAAM,MAAM,SAAS,GAAG,IAAI,MAAM,GAAG,SAAS,KAAK;AAAA,UAC9E;AAAA,QACJ;AAAA,MACJ;AACA,aAAO,KAAK;AAAA,QACR;AAAA,QACA;AAAA;AAAA,QAEA,GAAG,UAAU,EAAE,KAAK,OAAO,MAAM,CAAC;AAAA,QAClC,OAAO;AAAA,MACX,CAAC;AAAA,IACL;AAAA,EACJ;AACJ;AA/HA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;ACDO,SAAS,SAAS,MAAM,OAAO,KAAK,IAAI,GAAG;AAC9C,SAAO,IAAI,KAAK,OAAO,OAAO,GAAI;AACtC;AAPA;AAAA;AAAA;AAAA;;;ACcA,eAAsB,sBAAsB,cAAc,UAAU,UAAUC,UAAS;AAEnF,MAAI,CAAC,UAAU,qBAAqB,CAAC,SAAS;AAC1C,UAAM,IAAI,MAAM,qCAAqC;AACzD,MAAI,CAAC,CAAC,SAAS,SAAS,QAAQ,UAAU,EAAE,SAAS,SAAS,IAAI;AAC9D,UAAM,IAAI,MAAM,wBAAwB;AAC5C,QAAM,EAAE,SAAS,KAAAC,MAAK,QAAQ,SAAS,EAAE,UAAU,iBAAiB,qBAAqB,EAAG,IAAID;AAGhG,MAAI,CAAC,SAAS;AACV,WAAO,EAAE,MAAM,UAAU,SAAS,SAAS;AAAA,EAC/C;AACA,QAAM,UAAU;AAChB,MAAI,UAAU;AACd,QAAM,EAAE,YAAY,YAAY,SAAS,kBAAkB,gBAAgB,aAAa,eAAe,mBAAmB,cAAe,IAAI;AAC7I,MAAIE,WAAU;AACd,MAAI,OAAO;AACX,MAAI,YAAY;AAChB,QAAM,gBAAgB,oBAAoB;AAC1C,MAAI,cAAc;AACd,QAAI,eAAe;AACf,UAAI;AACA,cAAM,OAAOF,SAAQ,QAAQ,aAAa;AAC1C,QAAAE,WAAU,MAAMD,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,cAAc,KAAK,CAAC;AAChE,YAAIC,YAAW,SAASA,YAAWA,SAAQ,KAAK;AAC5C,iBAAO,MAAM,QAAQA,SAAQ,GAAG;AAAA,QACpC;AAAA,MACJ,QACM;AAAA,MAEN;AAAA,IACJ,OACK;AACD,YAAM,iBAAiB,MAAM,kBAAkB,YAAY;AAC3D,UAAI,gBAAgB;AAChB,QAAAA,WAAU,eAAe;AACzB,eAAO,eAAe;AAAA,MAC1B;AAAA,IACJ;AAAA,EACJ;AACA,MAAI,QAAQ,SAAS,SAAS;AAE1B,UAAM,cAAc,MAAM,eAAe,QAAQ,KAAK;AACtD,QAAI,aAAa;AAGb,UAAI,MAAM,OAAO,YAAY,MAAM,CAAC,iBAAiB,cAAc;AAI/D,cAAM,cAAc,YAAY;AAAA,MACpC;AAEA,aAAO,MAAM,WAAW;AAAA,QACpB,IAAI,YAAY;AAAA,QAChB,eAAe,oBAAI,KAAK;AAAA,MAC5B,CAAC;AACD,YAAM,OAAO,aAAa,EAAE,KAAK,CAAC;AAAA,IACtC,OACK;AAED,aAAO,MAAM,WAAW,EAAE,GAAG,SAAS,eAAe,oBAAI,KAAK,EAAE,CAAC;AACjE,YAAM,OAAO,aAAa,EAAE,KAAK,CAAC;AAClC,kBAAY;AAAA,IAChB;AAEA,IAAAA,WAAU,gBACJ,CAAC,IACD,MAAM,cAAc;AAAA,MAClB,cAAc,qBAAqB;AAAA,MACnC,QAAQ,KAAK;AAAA,MACb,SAAS,SAASF,SAAQ,QAAQ,MAAM;AAAA,IAC5C,CAAC;AACL,WAAO,EAAE,SAAAE,UAAS,MAAM,UAAU;AAAA,EACtC,WACS,QAAQ,SAAS,YAAY;AAElC,UAAMC,iBAAgB,MAAM,iBAAiB;AAAA,MACzC,mBAAmB,QAAQ;AAAA,MAC3B,UAAU,QAAQ;AAAA,IACtB,CAAC;AACD,QAAIA,gBAAe;AACf,UAAI,MAAM;AAEN,YAAIA,eAAc,OAAO,KAAK,IAAI;AAC9B,gBAAMC,kBAAiB,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG;AACrD,iBAAO,EAAE,SAAAF,UAAS,MAAM,WAAW,SAASE,gBAAe;AAAA,QAC/D;AAIA,cAAM,IAAI,iBAAiB,uDAAuD,EAAE,UAAU,QAAQ,SAAS,CAAC;AAAA,MACpH;AAGA,MAAAF,WAAU,gBACJ,CAAC,IACD,MAAM,cAAc;AAAA,QAClB,cAAc,qBAAqB;AAAA,QACnC,QAAQC,eAAc;AAAA,QACtB,SAAS,SAASH,SAAQ,QAAQ,MAAM;AAAA,MAC5C,CAAC;AACL,YAAM,iBAAiB,EAAE,GAAG,SAAS,QAAQG,eAAc,GAAG;AAC9D,aAAO,EAAE,SAAAD,UAAS,MAAMC,gBAAe,WAAW,SAAS,eAAe;AAAA,IAC9E,OACK;AAED,UAAI,MAAM;AAGN,cAAM,YAAY,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG,CAAC;AACjD,cAAM,OAAO,cAAc,EAAE,MAAM,SAAS,QAAQ,CAAC;AAErD,cAAMC,kBAAiB,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG;AACrD,eAAO,EAAE,SAAAF,UAAS,MAAM,WAAW,SAASE,gBAAe;AAAA,MAC/D;AAIA,YAAM,cAAc,QAAQ,QACtB,MAAM,eAAe,QAAQ,KAAK,IAClC;AACN,UAAI,aAAa;AAIb,cAAM,IAAI,iBAAiB,+DAA+D,EAAE,UAAU,QAAQ,SAAS,CAAC;AAAA,MAC5H,OACK;AAOD,eAAO,MAAM,WAAW,EAAE,GAAG,QAAQ,CAAC;AAAA,MAC1C;AACA,YAAM,OAAO,aAAa,EAAE,KAAK,CAAC;AAClC,YAAM,YAAY,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG,CAAC;AACjD,YAAM,OAAO,cAAc,EAAE,MAAM,SAAS,QAAQ,CAAC;AACrD,MAAAF,WAAU,gBACJ,CAAC,IACD,MAAM,cAAc;AAAA,QAClB,cAAc,qBAAqB;AAAA,QACnC,QAAQ,KAAK;AAAA,QACb,SAAS,SAASF,SAAQ,QAAQ,MAAM;AAAA,MAC5C,CAAC;AACL,YAAM,iBAAiB,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG;AACrD,aAAO,EAAE,SAAAE,UAAS,MAAM,WAAW,MAAM,SAAS,eAAe;AAAA,IACrE;AAAA,EACJ;AAEA,QAAM,gBAAgB,MAAM,iBAAiB;AAAA,IACzC,mBAAmB,QAAQ;AAAA,IAC3B,UAAU,QAAQ;AAAA,EACtB,CAAC;AACD,MAAI,eAAe;AACf,QAAI,MAAM;AAEN,UAAI,cAAc,OAAO,KAAK,IAAI;AAC9B,eAAO,EAAE,SAAAA,UAAS,MAAM,UAAU;AAAA,MACtC;AAIA,YAAM,IAAI,sBAAsB,uDAAuD,EAAE,UAAU,QAAQ,SAAS,CAAC;AAAA,IACzH;AAGA,IAAAA,WAAU,gBACJ,CAAC,IACD,MAAM,cAAc;AAAA,MAClB,cAAc,qBAAqB;AAAA,MACnC,QAAQ,cAAc;AAAA,MACtB,SAAS,SAASF,SAAQ,QAAQ,MAAM;AAAA,IAC5C,CAAC;AACL,WAAO,EAAE,SAAAE,UAAS,MAAM,eAAe,UAAU;AAAA,EACrD,OACK;AACD,UAAM,EAAE,UAAUG,GAAE,IAAIL;AACxB,UAAM,EAAE,MAAM,UAAU,mBAAmB,QAAQ,GAAG,SAAS,IAAI;AACnE,UAAM,WAAW,EAAE,mBAAmB,UAAU,MAAM,OAAO;AAC7D,cAAU,OAAO,OAAOK,GAAE,QAAQ,QAAQ,KAAK,CAAC,GAAG,QAAQ;AAC3D,QAAI,MAAM;AAGN,YAAM,YAAY,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG,CAAC;AACjD,YAAM,OAAO,cAAc,EAAE,MAAM,SAAS,QAAQ,CAAC;AAErD,aAAO,EAAE,SAAAH,UAAS,MAAM,UAAU;AAAA,IACtC;AAkBA,UAAM,cAAc,QAAQ,QACtB,MAAM,eAAe,QAAQ,KAAK,IAClC;AACN,QAAI,aAAa;AACb,YAAMI,YAAWN,SAAQ;AACzB,UAAIM,WAAU,mCAAmC;AAG7C,eAAO;AAAA,MACX,OACK;AAQD,cAAM,IAAI,sBAAsB,+DAA+D,EAAE,UAAU,QAAQ,SAAS,CAAC;AAAA,MACjI;AAAA,IACJ,OACK;AAOD,aAAO,MAAM,WAAW,EAAE,GAAG,SAAS,eAAe,KAAK,CAAC;AAAA,IAC/D;AACA,UAAM,OAAO,aAAa,EAAE,KAAK,CAAC;AAClC,UAAM,YAAY,EAAE,GAAG,SAAS,QAAQ,KAAK,GAAG,CAAC;AACjD,UAAM,OAAO,cAAc,EAAE,MAAM,SAAS,QAAQ,CAAC;AACrD,IAAAJ,WAAU,gBACJ,CAAC,IACD,MAAM,cAAc;AAAA,MAClB,cAAc,qBAAqB;AAAA,MACnC,QAAQ,KAAK;AAAA,MACb,SAAS,SAASF,SAAQ,QAAQ,MAAM;AAAA,IAC5C,CAAC;AACL,WAAO,EAAE,SAAAE,UAAS,MAAM,WAAW,KAAK;AAAA,EAC5C;AACJ;AAxQA;AAAA;AAAA;AACA;AAAA;AAAA;;;ACKA,SAAS,gBAAgB,OAAO,UAAU;AACtC,MAAI,SAAS,MAAM;AACf,WAAO;AAAA,EACX;AACA,MAAI;AACA,WAAQ,iBAAiB,YACrB,OAAO,eAAe,KAAK,EAAE,OAAO,WAAW,MAAM,SAAS,UAAU,OAAO,WAAW;AAAA,EAClG,QACM;AACF,WAAO;AAAA,EACX;AACJ;AAOA,SAAS,IAAI,OAAO;AAChB,MAAI,OAAO,UAAU,UAAU;AAC3B,WAAOK,SAAQ,OAAO,KAAK;AAAA,EAC/B;AACA,SAAOC,SAAQ,OAAO,KAAK;AAC/B;AAEA,SAAS,gBAAgB,OAAO;AAC5B,MAAI,iBAAiB,aAAa;AAC9B,YAAQ,IAAI,WAAW,KAAK;AAAA,EAChC;AACA,QAAM,MAAM,CAAC;AACb,WAASC,KAAI,GAAGA,KAAI,MAAM,YAAYA,MAAKC,aAAY;AACnD,QAAI,KAAK,OAAO,aAAa,MAAM,MAAM,MAAM,SAASD,IAAGA,KAAIC,WAAU,CAAC,CAAC;AAAA,EAC/E;AACA,SAAO,KAAK,IAAI,KAAK,EAAE,CAAC,EAAE,QAAQ,MAAM,EAAE,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG;AACtF;AACA,SAAS,gBAAgB,OAAO;AAC5B,MAAI;AACA,UAAM,SAAS,KAAK,MAAM,QAAQ,MAAM,GAAG,EAAE,QAAQ,MAAM,GAAG,EAAE,QAAQ,OAAO,EAAE,CAAC;AAClF,UAAM,QAAQ,IAAI,WAAW,OAAO,MAAM;AAC1C,aAASD,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK;AACpC,YAAMA,EAAC,IAAI,OAAO,WAAWA,EAAC;AAAA,IAClC;AACA,WAAO;AAAA,EACX,SACO,OAAO;AACV,UAAM,IAAI,IAAI,qDAAqD,EAAE,MAAM,CAAC;AAAA,EAChF;AACJ;AACA,SAAS,KAAK,OAAO;AACjB,MAAI,OAAO,UAAU,UAAU;AAC3B,WAAO,gBAAgB,KAAK;AAAA,EAChC;AACA,SAAO,gBAAgB,KAAK;AAChC;AA+DA,SAASE,aAAYC,MAAK;AACtB,SAAOA,gBAAe;AAC1B;AACA,SAAS,aAAaA,MAAK;AACvB,SAAOD,aAAYC,IAAG,KAAKA,KAAI,SAAS;AAC5C;AACA,SAAS,YAAYA,MAAK;AACtB,SAAOD,aAAYC,IAAG,KAAKA,KAAI,SAAS;AAC5C;AAaA,SAAS,iBAAiB,UAAU;AAChC,MAAI;AACA,UAAMC,SAAQ,SAAS,QAAQ,IAAI,YAAY;AAC/C,QAAIA,QAAO;AACP,iBAAW,IAAI,IAAI,IAAI,SAAS,GAAG,EAAE,QAAQA,MAAK;AAAA,IACtD;AAAA,EACJ,QACM;AAAA,EAAE;AACR,SAAO;AACX;AAIA,SAAS,aAAa,OAAO;AACzB,MAAI,UAAU,QAAQ,OAAO,UAAU,YAAY,MAAM,QAAQ,KAAK,GAAG;AACrE,WAAO;AAAA,EACX;AACA,SAAO;AACX;AACA,SAAS,eAAe,OAAO;AAC3B,MAAI,gBAAgB,OAAO,OAAO,GAAG;AACjC,YAAQ,OAAO,YAAY,MAAM,QAAQ,CAAC;AAAA,EAC9C;AACA,QAAMC,WAAU,IAAI,QAAQ,KAAK;AACjC,MAAIC,eAAc,CAACD,SAAQ,IAAI,YAAY,GAAG;AAC1C,IAAAA,SAAQ,IAAI,cAAcC,WAAU;AAAA,EACxC;AACA,MAAID,SAAQ,IAAI,eAAe,GAAG;AAC9B,UAAM,IAAI,UAAU,oEAAoE;AAAA,EAC5F;AACA,MAAIA,SAAQ,IAAI,MAAM,GAAG;AACrB,UAAM,IAAI,UAAU,2DAA2D;AAAA,EACnF;AACA,SAAOA;AACX;AACA,SAAS,OAAO,OAAO;AACnB,MAAI,OAAO,UAAU,YAAY;AAC7B,YAAQ,MAAM;AAAA,EAClB;AACA,MAAI,EAAE,iBAAiB,cAAc;AACjC,UAAM,IAAI,UAAU,+DAA+D;AAAA,EACvF;AACA,SAAO;AACX;AACA,eAAsB,iBAAiB,kBAAkBE,UAAS;AAC9D,MAAI,EAAE,4BAA4B,MAAM;AACpC,UAAM,IAAI,UAAU,+CAA+C;AAAA,EACvE;AACA,MAAI,iBAAiB,aAAa,YAAY,iBAAiB,aAAa,SAAS;AACjF,UAAM,IAAI,UAAU,+CAA+C;AAAA,EACvE;AACA,QAAM,MAAM,IAAI,IAAI,iBAAiB,IAAI;AACzC,UAAQA,UAAS,WAAW;AAAA,IACxB,KAAK;AAAA,IACL,KAAK;AACD,UAAI,WAAW,GAAG,IAAI,QAAQ,oCAAoC,QAAQ,MAAM,GAAG;AACnF;AAAA,IACJ,KAAK;AACD,UAAI,IAAI,aAAa,KAAK;AACtB,YAAI,WAAW;AAAA,MACnB,OACK;AACD,YAAI,WAAW,0CAA0C,IAAI,QAAQ,GAAG,QAAQ,MAAM,GAAG;AAAA,MAC7F;AACA;AAAA,IACJ;AACI,YAAM,IAAI,UAAU,2DAA2D;AAAA,EACvF;AACA,QAAMF,WAAU,eAAeE,UAAS,OAAO;AAC/C,EAAAF,SAAQ,IAAI,UAAU,kBAAkB;AACxC,UAAQE,WAAU,WAAW,KAAK,OAAO,IAAI,MAAM;AAAA,IAC/C,SAAS,OAAO,YAAYF,SAAQ,QAAQ,CAAC;AAAA,IAC7C,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,QAAQE,UAAS,SAAS,OAAOA,SAAQ,MAAM,IAAI;AAAA,EACvD,CAAC,EAAE,KAAK,gBAAgB;AAC5B;AACA,SAAS,eAAe,OAAO;AAC3B,SAAO,OAAO,UAAU,YAAY,MAAM,WAAW;AACzD;AACA,eAAsB,yBAAyB,0BAA0B,UAAU;AAC/E,MAAI,EAAE,oCAAoC,MAAM;AAC5C,UAAM,IAAI,UAAU,6CAA6C;AAAA,EACrE;AACA,MAAI,CAAC,gBAAgB,UAAU,QAAQ,GAAG;AACtC,UAAM,IAAI,UAAU,4CAA4C;AAAA,EACpE;AACA,MAAI,SAAS,WAAW,KAAK;AACzB,UAAM,IAAI,IAAI,oEAAoE;AAAA,EACtF;AACA,yBAAuB,QAAQ;AAC/B,MAAIC;AACJ,MAAI;AACA,IAAAA,QAAO,MAAM,SAAS,KAAK;AAAA,EAC/B,SACO,OAAO;AACV,UAAM,IAAI,IAAI,2CAA2C,EAAE,MAAM,CAAC;AAAA,EACtE;AACA,MAAI,CAAC,aAAaA,KAAI,GAAG;AACrB,UAAM,IAAI,IAAI,4CAA4C;AAAA,EAC9D;AACA,MAAI,CAAC,eAAeA,MAAK,MAAM,GAAG;AAC9B,UAAM,IAAI,IAAI,8DAA8D;AAAA,EAChF;AACA,MAAI,IAAI,IAAIA,MAAK,MAAM,EAAE,SAAS,yBAAyB,MAAM;AAC7D,UAAM,IAAI,IAAI,0DAA0D;AAAA,EAC5E;AACA,SAAOA;AACX;AACA,SAAS,cAAc;AACnB,SAAO,KAAK,OAAO,gBAAgB,IAAI,WAAW,EAAE,CAAC,CAAC;AAC1D;AACO,SAAS,6BAA6B;AACzC,SAAO,YAAY;AACvB;AACO,SAAS,sBAAsB;AAClC,SAAO,YAAY;AACvB;AACO,SAAS,sBAAsB;AAClC,SAAO,YAAY;AACvB;AACA,eAAsB,2BAA2B,cAAc;AAC3D,MAAI,CAAC,eAAe,YAAY,GAAG;AAC/B,UAAM,IAAI,UAAU,2CAA2C;AAAA,EACnE;AACA,SAAO,KAAK,MAAM,OAAO,OAAO,OAAO,WAAW,IAAI,YAAY,CAAC,CAAC;AACxE;AACA,SAAS,aAAa,OAAO;AACzB,MAAI,iBAAiB,WAAW;AAC5B,WAAO,EAAE,KAAK,MAAM;AAAA,EACxB;AACA,MAAI,EAAE,OAAO,eAAe,YAAY;AACpC,WAAO,CAAC;AAAA,EACZ;AACA,MAAI,MAAM,QAAQ,UAAa,CAAC,eAAe,MAAM,GAAG,GAAG;AACvD,UAAM,IAAI,UAAU,kCAAkC;AAAA,EAC1D;AACA,SAAO,EAAE,KAAK,MAAM,KAAK,KAAK,MAAM,IAAI;AAC5C;AACA,SAAS,cAAc,OAAO;AAC1B,SAAO,mBAAmB,KAAK,EAAE,QAAQ,QAAQ,GAAG;AACxD;AACA,SAAS,kBAAkB,UAAU,cAAc;AAC/C,QAAM,WAAW,cAAc,QAAQ;AACvC,QAAM,WAAW,cAAc,YAAY;AAC3C,QAAM,cAAc,KAAK,GAAG,QAAQ,IAAI,QAAQ,EAAE;AAClD,SAAO,SAAS,WAAW;AAC/B;AACA,SAAS,MAAML,MAAK;AAChB,UAAQA,KAAI,UAAU,KAAK,MAAM;AAAA,IAC7B,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,0BAA0B,6CAA6C;AAAA,EACzF;AACJ;AACA,SAAS,MAAMA,MAAK;AAChB,UAAQA,KAAI,UAAU,KAAK,MAAM;AAAA,IAC7B,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,0BAA0B,6CAA6C;AAAA,EACzF;AACJ;AACA,SAAS,MAAMA,MAAK;AAChB,UAAQA,KAAI,UAAU,YAAY;AAAA,IAC9B,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,0BAA0B,uCAAuC;AAAA,EACnF;AACJ;AACA,SAAS,SAASA,MAAK;AACnB,UAAQA,KAAI,UAAU,MAAM;AAAA,IACxB,KAAK;AACD,aAAO,MAAMA,IAAG;AAAA,IACpB,KAAK;AACD,aAAO,MAAMA,IAAG;AAAA,IACpB,KAAK;AACD,aAAO,MAAMA,IAAG;AAAA,IACpB,KAAK;AAAA,IACL,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,0BAA0B,sCAAsC;AAAA,EAClF;AACJ;AACA,SAAS,aAAa,QAAQ;AAC1B,QAAM,OAAO,SAAS,SAAS;AAC/B,SAAO,OAAO,SAAS,YAAY,OAAO,SAAS,IAAI,IAAI,OAAO;AACtE;AACA,SAAS,kBAAkB,QAAQ;AAC/B,QAAM,YAAY,SAAS,cAAc;AACzC,SAAO,OAAO,cAAc,YAAY,OAAO,SAAS,SAAS,KAAK,KAAK,KAAK,SAAS,MAAM,KACzF,YACA;AACV;AACA,SAAS,YAAY;AACjB,SAAO,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI;AACvC;AACA,SAAS,gBAAgB,IAAI,QAAQ;AACjC,QAAMM,OAAM,UAAU,IAAI,aAAa,MAAM;AAC7C,SAAO;AAAA,IACH,KAAK,YAAY;AAAA,IACjB,KAAK,CAAC,GAAG,QAAQ,GAAG,cAAc;AAAA,IAClC,KAAKA,OAAM;AAAA,IACX,KAAKA;AAAA,IACL,KAAKA;AAAA,IACL,KAAK,OAAO;AAAA,IACZ,KAAK,OAAO;AAAA,EAChB;AACJ;AACA,eAAe,cAAc,IAAI,QAAQN,MAAK,KAAK;AAC/C,SAAO,IAAI;AAAA,IACP,KAAK,SAASA,IAAG;AAAA,IACjB;AAAA,EACJ,GAAG,gBAAgB,IAAI,MAAM,GAAGA,IAAG;AACvC;AACA,SAAS,SAAS,IAAI;AAClB,MAAI,OAAO,OAAO,YAAY,OAAO,MAAM;AACvC,UAAM,IAAI,UAAU,wBAAwB;AAAA,EAChD;AACA,MAAI,CAAC,eAAe,GAAG,MAAM,GAAG;AAC5B,UAAM,IAAI,UAAU,iDAAiD;AAAA,EACzE;AACA,SAAO;AACX;AACA,SAAS,aAAa,QAAQ;AAC1B,MAAI,OAAO,WAAW,YAAY,WAAW,MAAM;AAC/C,UAAM,IAAI,UAAU,4BAA4B;AAAA,EACpD;AACA,MAAI,CAAC,eAAe,OAAO,SAAS,GAAG;AACnC,UAAM,IAAI,UAAU,wDAAwD;AAAA,EAChF;AACA,SAAO;AACX;AACA,SAAS,mBAAmB,cAAc;AACtC,MAAI,CAAC,eAAe,YAAY,GAAG;AAC/B,UAAM,IAAI,UAAU,4DAA4D;AAAA,EACpF;AACA,SAAO;AACX;AACA,SAAS,yBAAyB,kBAAkB,kBAAkB;AAClE,MAAI,qBAAqB,QAAW;AAChC,UAAM,IAAI,UAAU,iEAAiE,gBAAgB,wCAAwC;AAAA,EACjJ;AACJ;AACA,SAAS,qBAAqB,kBAAkB,cAAc;AAC1D,MAAI,iBAAiB,QAAW;AAC5B,UAAM,IAAI,UAAU,6DAA6D,gBAAgB,wCAAwC;AAAA,EAC7I;AACJ;AACA,eAAe,qBAAqB,IAAI,QAAQO,OAAML,UAAS,kBAAkB;AAC7E,EAAAK,MAAK,OAAO,eAAe;AAC3B,EAAAA,MAAK,OAAO,uBAAuB;AACnC,EAAAA,MAAK,OAAO,kBAAkB;AAC9B,UAAQ,OAAO,4BAA4B;AAAA,IACvC,KAAK;AAAA,IACL,KAAK,uBAAuB;AACxB,+BAAyB,uBAAuB,gBAAgB;AAChE,MAAAL,SAAQ,IAAI,iBAAiB,kBAAkB,OAAO,WAAW,mBAAmB,OAAO,aAAa,CAAC,CAAC;AAC1G;AAAA,IACJ;AAAA,IACA,KAAK,sBAAsB;AACvB,+BAAyB,sBAAsB,gBAAgB;AAC/D,MAAAK,MAAK,IAAI,aAAa,OAAO,SAAS;AACtC,MAAAA,MAAK,IAAI,iBAAiB,mBAAmB,OAAO,aAAa,CAAC;AAClE;AAAA,IACJ;AAAA,IACA,KAAK,mBAAmB;AACpB,2BAAqB,mBAAmB,OAAO,aAAa;AAC5D,UAAI,qBAAqB,QAAW;AAChC,cAAM,IAAI,UAAU,2GAA2G;AAAA,MACnI;AACA,YAAM,EAAE,KAAAP,MAAK,IAAI,IAAI,aAAa,gBAAgB;AAClD,UAAI,CAAC,aAAaA,IAAG,GAAG;AACpB,cAAM,IAAI,UAAU,4DAA4D;AAAA,MACpF;AACA,MAAAO,MAAK,IAAI,aAAa,OAAO,SAAS;AACtC,MAAAA,MAAK,IAAI,yBAAyB,wDAAwD;AAC1F,MAAAA,MAAK,IAAI,oBAAoB,MAAM,cAAc,IAAI,QAAQP,MAAK,GAAG,CAAC;AACtE;AAAA,IACJ;AAAA,IACA,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK,QAAQ;AACT,2BAAqB,OAAO,4BAA4B,OAAO,aAAa;AAC5E,+BAAyB,OAAO,4BAA4B,gBAAgB;AAC5E,MAAAO,MAAK,IAAI,aAAa,OAAO,SAAS;AACtC;AAAA,IACJ;AAAA,IACA;AACI,YAAM,IAAI,0BAA0B,+CAA+C;AAAA,EAC3F;AACJ;AACA,eAAe,IAAI,QAAQ,WAAWP,MAAK;AACvC,MAAI,CAACA,KAAI,OAAO,SAAS,MAAM,GAAG;AAC9B,UAAM,IAAI,UAAU,uFAAuF;AAAA,EAC/G;AACA,QAAM,QAAQ,GAAG,KAAK,IAAI,KAAK,UAAU,MAAM,CAAC,CAAC,CAAC,IAAI,KAAK,IAAI,KAAK,UAAU,SAAS,CAAC,CAAC,CAAC;AAC1F,QAAM,YAAY,KAAK,MAAM,OAAO,OAAO,KAAK,YAAYA,IAAG,GAAGA,MAAK,IAAI,KAAK,CAAC,CAAC;AAClF,SAAO,GAAG,KAAK,IAAI,SAAS;AAChC;AAqEA,eAAe,aAAaE,UAASE,UAAS,KAAK,KAAKI,YAAW,aAAa;AAC5E,QAAM,EAAE,YAAY,WAAW,OAAAP,SAAQ,WAAW,IAAI,IAAI,MAAM,EAAE,IAAIG;AACtE,MAAI,CAAC,aAAa,UAAU,GAAG;AAC3B,UAAM,IAAI,UAAU,+CAA+C;AAAA,EACvE;AACA,MAAI,CAAC,YAAY,SAAS,GAAG;AACzB,UAAM,IAAI,UAAU,6CAA6C;AAAA,EACrE;AACA,MAAIH,WAAU,UAAa,CAAC,eAAeA,MAAK,GAAG;AAC/C,UAAM,IAAI,UAAU,sDAAsD;AAAA,EAC9E;AACA,MAAI,CAAC,UAAU,aAAa;AACxB,UAAM,IAAI,UAAU,2CAA2C;AAAA,EACnE;AACA,QAAMK,OAAM,UAAU,IAAIE;AAC1B,QAAM,QAAQ,MAAM,IAAI;AAAA,IACpB,KAAK,SAAS,UAAU;AAAA,IACxB,KAAK;AAAA,IACL,KAAK,MAAM,UAAU,SAAS;AAAA,EAClC,GAAG;AAAA,IACC,KAAKF;AAAA,IACL,KAAK,YAAY;AAAA,IACjB;AAAA,IACA,OAAAL;AAAA,IACA,KAAK,GAAG,IAAI,MAAM,GAAG,IAAI,QAAQ;AAAA,IACjC,KAAK,cAAc,KAAK,MAAM,OAAO,OAAO,OAAO,WAAW,IAAI,WAAW,CAAC,CAAC,IAAI;AAAA,EACvF,GAAG,UAAU;AACb,EAAAC,SAAQ,IAAI,QAAQ,KAAK;AAC7B;AAEA,eAAe,qBAAqBF,MAAK;AACrC,QAAM,EAAE,KAAK,GAAAS,IAAG,GAAAC,IAAG,GAAAC,IAAG,GAAAC,IAAG,IAAI,IAAI,MAAM,OAAO,OAAO,UAAU,OAAOZ,IAAG;AACzE,QAAM,MAAM,EAAE,KAAK,GAAAS,IAAG,GAAAC,IAAG,GAAAC,IAAG,GAAAC,IAAG,IAAI;AACnC,WAAS,IAAIZ,MAAK,GAAG;AACrB,SAAO;AACX;AACA,eAAe,UAAUA,MAAK;AAC1B,eAAa,WAAW,oBAAI,QAAQ;AACpC,SAAO,SAAS,IAAIA,IAAG,KAAK,qBAAqBA,IAAG;AACxD;AACA,SAAS,iBAAiB,OAAO,UAAUI,UAAS;AAChD,MAAI,OAAO,UAAU,UAAU;AAC3B,QAAIA,WAAU,YAAY,GAAG;AACzB,YAAM,IAAI,UAAU,6BAA6B,QAAQ,oBAAoB;AAAA,IACjF;AACA,UAAM,IAAI,UAAU,OAAO,QAAQ,oBAAoB;AAAA,EAC3D;AACA,SAAO,IAAI,IAAI,KAAK;AACxB;AACA,SAAS,gBAAgB,IAAI,UAAUA,UAAS;AAC5C,MAAIA,WAAU,YAAY,KAAK,GAAG,yBAAyB,YAAY,GAAG,uBAAuB;AAC7F,WAAO,iBAAiB,GAAG,sBAAsB,QAAQ,GAAG,UAAUA,QAAO;AAAA,EACjF;AACA,SAAO,iBAAiB,GAAG,QAAQ,GAAG,QAAQ;AAClD;AAcO,SAAS,cAAc,OAAO;AACjC,QAAM,QAAQ;AACd,MAAI,OAAO,UAAU,YAAY,MAAM,QAAQ,KAAK,KAAK,UAAU,MAAM;AACrE,WAAO;AAAA,EACX;AACA,SAAO,MAAM,UAAU;AAC3B;AACA,SAAS,QAAQ,OAAO;AACpB,MAAI,MAAM,UAAU,KAAK,MAAM,CAAC,MAAM,OAAO,MAAM,MAAM,SAAS,CAAC,MAAM,KAAK;AAC1E,WAAO,MAAM,MAAM,GAAG,EAAE;AAAA,EAC5B;AACA,SAAO;AACX;AAGA,SAAS,QAAQ,QAAQ,QAAQ;AAC7B,QAAM,MAAM,OAAO,MAAM,YAAY,EAAE,MAAM,CAAC;AAC9C,MAAI,CAAC,IAAI,QAAQ;AACb,WAAO,EAAE,QAAQ,OAAO,YAAY,GAAG,YAAY,CAAC,EAAE;AAAA,EAC1D;AACA,MAAI,IAAI,SAAS,CAAC,IAAI,IAAI,IAAI,SAAS,CAAC,EAAE,QAAQ,MAAM,EAAE;AAC1D,QAAM,aAAa,CAAC;AACpB,WAASP,KAAI,GAAGA,KAAI,IAAI,QAAQA,MAAK,GAAG;AACpC,UAAM,MAAMA;AACZ,QAAI,IAAI,GAAG,EAAE,CAAC,MAAM,KAAK;AACrB,aAAO,IAAI,GAAG,EAAE,MAAM,EAAE,MAAM,OAAO,EAAEA,KAAI,IAAI,QAAQ;AACnD,YAAI,GAAG,KAAK,IAAIA,EAAC;AAAA,MACrB;AAAA,IACJ;AACA,UAAMG,OAAM,IAAI,MAAM,CAAC,EAAE,QAAQ,gBAAgB,EAAE,EAAE,YAAY;AACjE,eAAWA,IAAG,IAAI,QAAQ,IAAI,GAAG,CAAC;AAAA,EACtC;AACA,SAAO;AAAA,IACH,QAAQ,OAAO,YAAY;AAAA,IAC3B;AAAA,EACJ;AACJ;AACO,SAAS,+BAA+B,UAAU;AACrD,MAAI,CAAC,gBAAgB,UAAU,QAAQ,GAAG;AACtC,UAAM,IAAI,UAAU,4CAA4C;AAAA,EACpE;AACA,QAAM,SAAS,SAAS,QAAQ,IAAI,kBAAkB;AACtD,MAAI,WAAW,MAAM;AACjB,WAAO;AAAA,EACX;AACA,QAAM,SAAS,CAAC;AAChB,aAAW,EAAE,GAAG,QAAQ,OAAAa,OAAM,KAAK,OAAO,SAAS,cAAc,GAAG;AAChE,WAAO,KAAK,CAAC,QAAQA,MAAK,CAAC;AAAA,EAC/B;AACA,MAAI,CAAC,OAAO,QAAQ;AAChB,WAAO;AAAA,EACX;AACA,QAAM,aAAa,OAAO,IAAI,CAAC,CAAC,QAAQ,OAAO,GAAGhB,IAAG,WAAW;AAC5D,UAAM,OAAO,OAAOA,KAAI,CAAC;AACzB,QAAI;AACJ,QAAI,MAAM;AACN,mBAAa,OAAO,MAAM,SAAS,KAAK,CAAC,CAAC;AAAA,IAC9C,OACK;AACD,mBAAa,OAAO,MAAM,OAAO;AAAA,IACrC;AACA,WAAO,QAAQ,QAAQ,UAAU;AAAA,EACrC,CAAC;AACD,SAAO;AACX;AAiCA,eAAsB,yBAAyB,aAAa,QAAQ,KAAKK,UAASK,OAAMH,UAAS;AAC7F,MAAI,CAAC,eAAe,WAAW,GAAG;AAC9B,UAAM,IAAI,UAAU,0CAA0C;AAAA,EAClE;AACA,MAAI,EAAE,eAAe,MAAM;AACvB,UAAM,IAAI,UAAU,kCAAkC;AAAA,EAC1D;AACA,EAAAF,WAAU,eAAeA,QAAO;AAChC,MAAIE,UAAS,SAAS,QAAW;AAC7B,IAAAF,SAAQ,IAAI,iBAAiB,UAAU,WAAW,EAAE;AAAA,EACxD,OACK;AACD,UAAM,aAAaA,UAASE,SAAQ,MAAM,KAAK,OAAO,aAAa,EAAE,CAAC,SAAS,GAAGA,WAAU,SAAS,EAAE,CAAC,GAAG,WAAW;AACtH,IAAAF,SAAQ,IAAI,iBAAiB,QAAQ,WAAW,EAAE;AAAA,EACtD;AACA,UAAQE,WAAU,WAAW,KAAK,OAAO,IAAI,MAAM;AAAA,IAC/C,MAAAG;AAAA,IACA,SAAS,OAAO,YAAYL,SAAQ,QAAQ,CAAC;AAAA,IAC7C;AAAA,IACA,UAAU;AAAA,IACV,QAAQE,UAAS,SAAS,OAAOA,SAAQ,MAAM,IAAI;AAAA,EACvD,CAAC,EAAE,KAAK,gBAAgB;AAC5B;AACA,eAAsB,gBAAgB,IAAI,QAAQ,aAAaA,UAAS;AACpE,WAAS,EAAE;AACX,eAAa,MAAM;AACnB,QAAM,MAAM,gBAAgB,IAAI,qBAAqBA,QAAO;AAC5D,QAAMF,WAAU,eAAeE,UAAS,OAAO;AAC/C,MAAI,OAAO,8BAA8B;AACrC,IAAAF,SAAQ,IAAI,UAAU,iBAAiB;AAAA,EAC3C,OACK;AACD,IAAAA,SAAQ,IAAI,UAAU,kBAAkB;AACxC,IAAAA,SAAQ,OAAO,UAAU,iBAAiB;AAAA,EAC9C;AACA,SAAO,yBAAyB,aAAa,OAAO,KAAKA,UAAS,MAAM;AAAA,IACpE,GAAGE;AAAA,IACH,CAAC,SAAS,GAAG,aAAa,MAAM;AAAA,EACpC,CAAC;AACL;AAwIA,eAAe,qBAAqB,IAAI,QAAQ,QAAQ,KAAKG,OAAML,UAASE,UAAS;AACjF,QAAM,qBAAqB,IAAI,QAAQG,OAAML,UAASE,UAAS,gBAAgB;AAC/E,EAAAF,SAAQ,IAAI,gBAAgB,iDAAiD;AAC7E,UAAQE,WAAU,WAAW,KAAK,OAAO,IAAI,MAAM;AAAA,IAC/C,MAAAG;AAAA,IACA,SAAS,OAAO,YAAYL,SAAQ,QAAQ,CAAC;AAAA,IAC7C;AAAA,IACA,UAAU;AAAA,IACV,QAAQE,UAAS,SAAS,OAAOA,SAAQ,MAAM,IAAI;AAAA,EACvD,CAAC,EAAE,KAAK,gBAAgB;AAC5B;AACA,eAAe,qBAAqB,IAAI,QAAQ,WAAW,YAAYA,UAAS;AAC5E,QAAM,MAAM,gBAAgB,IAAI,kBAAkBA,QAAO;AACzD,aAAW,IAAI,cAAc,SAAS;AACtC,QAAMF,WAAU,eAAeE,UAAS,OAAO;AAC/C,EAAAF,SAAQ,IAAI,UAAU,kBAAkB;AACxC,MAAIE,UAAS,SAAS,QAAW;AAC7B,UAAM,aAAaF,UAASE,SAAQ,MAAM,KAAK,QAAQ,aAAa,MAAM,CAAC;AAAA,EAC/E;AACA,SAAO,qBAAqB,IAAI,QAAQ,QAAQ,KAAK,YAAYF,UAASE,QAAO;AACrF;AAYO,SAAS,0BAA0B,KAAK;AAC3C,MAAI,CAAC,IAAI,UAAU;AACf,WAAO;AAAA,EACX;AACA,QAAM,SAAS,cAAc,IAAI,GAAG;AACpC,MAAI,CAAC,QAAQ;AACT,UAAM,IAAI,UAAU,gFAAgF;AAAA,EACxG;AACA,SAAO;AACX;AACA,eAAe,kCAAkC,IAAI,QAAQ,UAAU,gBAAgB,OAAO,qBAAqB,OAAO;AACtH,WAAS,EAAE;AACX,eAAa,MAAM;AACnB,MAAI,CAAC,gBAAgB,UAAU,QAAQ,GAAG;AACtC,UAAM,IAAI,UAAU,4CAA4C;AAAA,EACpE;AACA,MAAI,SAAS,WAAW,KAAK;AACzB,QAAI;AACJ,QAAK,MAAM,MAAM,qBAAqB,QAAQ,GAAI;AAC9C,aAAO;AAAA,IACX;AACA,UAAM,IAAI,IAAI,qDAAqD;AAAA,EACvE;AACA,yBAAuB,QAAQ;AAC/B,MAAIC;AACJ,MAAI;AACA,IAAAA,QAAO,MAAM,SAAS,KAAK;AAAA,EAC/B,SACO,OAAO;AACV,UAAM,IAAI,IAAI,2CAA2C,EAAE,MAAM,CAAC;AAAA,EACtE;AACA,MAAI,CAAC,aAAaA,KAAI,GAAG;AACrB,UAAM,IAAI,IAAI,4CAA4C;AAAA,EAC9D;AACA,MAAI,CAAC,eAAeA,MAAK,YAAY,GAAG;AACpC,UAAM,IAAI,IAAI,oEAAoE;AAAA,EACtF;AACA,MAAI,CAAC,eAAeA,MAAK,UAAU,GAAG;AAClC,UAAM,IAAI,IAAI,kEAAkE;AAAA,EACpF;AACA,EAAAA,MAAK,aAAaA,MAAK,WAAW,YAAY;AAC9C,MAAIA,MAAK,eAAe,UAAUA,MAAK,eAAe,UAAU;AAC5D,UAAM,IAAI,0BAA0B,gCAAgC;AAAA,EACxE;AACA,MAAIA,MAAK,eAAe,WACnB,OAAOA,MAAK,eAAe,YAAYA,MAAK,cAAc,IAAI;AAC/D,UAAM,IAAI,IAAI,iEAAiE;AAAA,EACnF;AACA,MAAI,CAAC,sBACDA,MAAK,kBAAkB,UACvB,CAAC,eAAeA,MAAK,aAAa,GAAG;AACrC,UAAM,IAAI,IAAI,qEAAqE;AAAA,EACvF;AACA,MAAIA,MAAK,UAAU,UAAa,OAAOA,MAAK,UAAU,UAAU;AAC5D,UAAM,IAAI,IAAI,mDAAmD;AAAA,EACrE;AACA,MAAI,CAAC,eAAe;AAChB,QAAIA,MAAK,aAAa,UAAa,CAAC,eAAeA,MAAK,QAAQ,GAAG;AAC/D,YAAM,IAAI,IAAI,gEAAgE;AAAA,IAClF;AACA,QAAIA,MAAK,UAAU;AACf,YAAM,EAAE,OAAO,IAAI,MAAM,YAAYA,MAAK,UAAU,sBAAsB,KAAK,QAAW,OAAO,8BAA8B,GAAG,qCAAqC,GAAG,kBAAkB,aAAa,MAAM,GAAG,kBAAkB,MAAM,CAAC,EACtO,KAAK,iBAAiB,KAAK,QAAW,CAAC,OAAO,OAAO,OAAO,OAAO,KAAK,CAAC,CAAC,EAC1E,KAAK,eAAe,KAAK,QAAW,GAAG,MAAM,CAAC,EAC9C,KAAK,iBAAiB,KAAK,QAAW,OAAO,SAAS,CAAC;AAC5D,UAAI,MAAM,QAAQ,OAAO,GAAG,KAAK,OAAO,IAAI,WAAW,KAAK,OAAO,QAAQ,OAAO,WAAW;AACzF,cAAM,IAAI,IAAI,0DAA0D;AAAA,MAC5E;AACA,UAAI,OAAO,qBAAqB,OAAO,OAAO,cAAc,UAAU;AAClE,cAAM,IAAI,IAAI,mEAAmE;AAAA,MACrF;AACA,oBAAc,IAAIA,OAAM,MAAM;AAAA,IAClC;AAAA,EACJ;AACA,SAAOA;AACX;AAUA,SAAS,iBAAiB,UAAU,QAAQ;AACxC,MAAI,MAAM,QAAQ,OAAO,OAAO,GAAG,GAAG;AAClC,QAAI,CAAC,OAAO,OAAO,IAAI,SAAS,QAAQ,GAAG;AACvC,YAAM,IAAI,IAAI,6CAA6C;AAAA,IAC/D;AAAA,EACJ,WACS,OAAO,OAAO,QAAQ,UAAU;AACrC,UAAM,IAAI,IAAI,6CAA6C;AAAA,EAC/D;AACA,SAAO;AACX;AAOA,SAAS,eAAe,UAAU,QAAQ;AACtC,MAAI,OAAO,OAAO,QAAQ,UAAU;AAChC,UAAM,IAAI,IAAI,2CAA2C;AAAA,EAC7D;AACA,SAAO;AACX;AAEA,SAAS,MAAM,cAAc;AACzB,UAAQ,IAAI,YAAY;AACxB,SAAO;AACX;AACA,eAAsB,8BAA8B,IAAI,QAAQ,oBAAoB,aAAa,cAAcD,UAAS;AACpH,WAAS,EAAE;AACX,eAAa,MAAM;AACnB,MAAI,CAAC,QAAQ,IAAI,kBAAkB,GAAG;AAClC,UAAM,IAAI,UAAU,mIAAmI;AAAA,EAC3J;AACA,MAAI,CAAC,eAAe,WAAW,GAAG;AAC9B,UAAM,IAAI,UAAU,0CAA0C;AAAA,EAClE;AACA,MAAI,CAAC,eAAe,YAAY,GAAG;AAC/B,UAAM,IAAI,UAAU,2CAA2C;AAAA,EACnE;AACA,QAAM,OAAO,sBAAsB,oBAAoB,MAAM;AAC7D,MAAI,CAAC,MAAM;AACP,UAAM,IAAI,IAAI,+CAA+C;AAAA,EACjE;AACA,QAAM,aAAa,IAAI,gBAAgBA,UAAS,oBAAoB;AACpE,aAAW,IAAI,gBAAgB,WAAW;AAC1C,aAAW,IAAI,iBAAiB,YAAY;AAC5C,aAAW,IAAI,QAAQ,IAAI;AAC3B,SAAO,qBAAqB,IAAI,QAAQ,sBAAsB,YAAYA,QAAO;AACrF;AAiBA,SAAS,iBAAiB,UAAU,QAAQ;AACxC,aAAW,SAAS,UAAU;AAC1B,QAAI,OAAO,OAAO,KAAK,MAAM,QAAW;AACpC,YAAM,IAAI,IAAI,QAAQ,KAAK,MAAM,cAAc,KAAK,CAAC,iBAAiB;AAAA,IAC1E;AAAA,EACJ;AACA,SAAO;AACX;AAGA,eAAsB,uCAAuC,IAAI,QAAQ,UAAU,eAAe,QAAQ;AACtG,QAAM,SAAS,MAAM,kCAAkC,IAAI,QAAQ,QAAQ;AAC3E,MAAI,cAAc,MAAM,GAAG;AACvB,WAAO;AAAA,EACX;AACA,MAAI,CAAC,eAAe,OAAO,QAAQ,GAAG;AAClC,UAAM,IAAI,IAAI,gEAAgE;AAAA,EAClF;AACA,aAAW,SAAS,OAAO,mBAAmB;AAC9C,QAAM,SAAS,0BAA0B,MAAM;AAC/C,OAAK,OAAO,qBAAqB,WAAW,sBACxC,OAAO,cAAc,QAAW;AAChC,UAAM,IAAI,IAAI,0DAA0D;AAAA,EAC5E;AACA,MAAI,WAAW,mBAAmB;AAC9B,QAAI,OAAO,WAAW,YAAY,SAAS,GAAG;AAC1C,YAAM,IAAI,UAAU,iDAAiD;AAAA,IACzE;AACA,UAAME,OAAM,UAAU,IAAI,aAAa,MAAM;AAC7C,UAAM,YAAY,kBAAkB,MAAM;AAC1C,QAAI,OAAO,YAAY,SAASA,OAAM,WAAW;AAC7C,YAAM,IAAI,IAAI,kEAAkE;AAAA,IACpF;AAAA,EACJ;AACA,UAAQ,eAAe;AAAA,IACnB,KAAK;AAAA,IACL,KAAK;AACD,UAAI,OAAO,UAAU,QAAW;AAC5B,cAAM,IAAI,IAAI,yCAAyC;AAAA,MAC3D;AACA;AAAA,IACJ;AACI,UAAI,CAAC,eAAe,aAAa,GAAG;AAChC,cAAM,IAAI,UAAU,4CAA4C;AAAA,MACpE;AACA,UAAI,OAAO,UAAU,QAAW;AAC5B,cAAM,IAAI,IAAI,gCAAgC;AAAA,MAClD;AACA,UAAI,OAAO,UAAU,eAAe;AAChC,cAAM,IAAI,IAAI,yCAAyC;AAAA,MAC3D;AAAA,EACR;AACA,SAAO;AACX;AACA,eAAsB,uCAAuC,IAAI,QAAQ,UAAU;AAC/E,QAAM,SAAS,MAAM,kCAAkC,IAAI,QAAQ,UAAU,IAAI;AACjF,MAAI,cAAc,MAAM,GAAG;AACvB,WAAO;AAAA,EACX;AACA,MAAI,OAAO,aAAa,QAAW;AAC/B,QAAI,OAAO,OAAO,aAAa,YAAY,OAAO,SAAS,QAAQ;AAC/D,YAAM,IAAI,IAAI,mHAAmH;AAAA,IACrI;AACA,WAAO,OAAO;AAAA,EAClB;AACA,SAAO;AACX;AA6CA,SAAS,uBAAuB,UAAU;AACtC,MAAI,SAAS,UAAU;AACnB,UAAM,IAAI,UAAU,uCAAuC;AAAA,EAC/D;AACJ;AAqGA,eAAe,qBAAqB,UAAU;AAC1C,MAAI,SAAS,SAAS,OAAO,SAAS,SAAS,KAAK;AAChD,2BAAuB,QAAQ;AAC/B,QAAI;AACA,YAAMD,QAAO,MAAM,SAAS,KAAK;AACjC,UAAI,aAAaA,KAAI,KAAK,OAAOA,MAAK,UAAU,YAAYA,MAAK,MAAM,QAAQ;AAC3E,YAAIA,MAAK,sBAAsB,UAAa,OAAOA,MAAK,sBAAsB,UAAU;AACpF,iBAAOA,MAAK;AAAA,QAChB;AACA,YAAIA,MAAK,cAAc,UAAa,OAAOA,MAAK,cAAc,UAAU;AACpE,iBAAOA,MAAK;AAAA,QAChB;AACA,YAAIA,MAAK,SAAS,UAAa,OAAOA,MAAK,SAAS,UAAU;AAC1D,iBAAOA,MAAK;AAAA,QAChB;AACA,YAAIA,MAAK,UAAU,UAAa,OAAOA,MAAK,UAAU,UAAU;AAC5D,iBAAOA,MAAK;AAAA,QAChB;AACA,eAAOA;AAAA,MACX;AAAA,IACJ,QACM;AAAA,IAAE;AAAA,EACZ;AACA,SAAO;AACX;AAOA,SAAS,qBAAqB,WAAW;AACrC,MAAI,OAAO,UAAU,kBAAkB,YAAY,UAAU,gBAAgB,MAAM;AAC/E,UAAM,IAAI,IAAI,GAAG,UAAU,IAAI,2CAA2C;AAAA,EAC9E;AACJ;AACA,SAAS,cAAc,YAAY;AAC/B,UAAQ,YAAY;AAAA,IAChB,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX,KAAK;AACD,aAAO;AAAA,IACX;AACI,YAAM,IAAI,0BAA0B;AAAA,EAC5C;AACJ;AACA,SAAS,YAAYL,MAAK;AACtB,UAAQA,KAAI,UAAU,MAAM;AAAA,IACxB,KAAK;AACD,aAAO;AAAA,QACH,MAAMA,KAAI,UAAU;AAAA,QACpB,MAAM,cAAcA,KAAI,UAAU,UAAU;AAAA,MAChD;AAAA,IACJ,KAAK,WAAW;AACZ,2BAAqBA,KAAI,SAAS;AAClC,cAAQA,KAAI,UAAU,KAAK,MAAM;AAAA,QAC7B,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACD,iBAAO;AAAA,YACH,MAAMA,KAAI,UAAU;AAAA,YACpB,YAAY,SAASA,KAAI,UAAU,KAAK,KAAK,MAAM,EAAE,GAAG,EAAE,KAAK;AAAA,UACnE;AAAA,QACJ;AACI,gBAAM,IAAI,0BAA0B;AAAA,MAC5C;AAAA,IACJ;AAAA,IACA,KAAK;AACD,2BAAqBA,KAAI,SAAS;AAClC,aAAOA,KAAI,UAAU;AAAA,IACzB,KAAK;AAAA,IACL,KAAK;AACD,aAAOA,KAAI,UAAU;AAAA,EAC7B;AACA,QAAM,IAAI,0BAA0B;AACxC;AAEA,eAAe,YAAY,KAAK,UAAU,QAAQQ,YAAWM,iBAAgB;AACzE,QAAM,EAAE,GAAG,iBAAiB,GAAG,SAAS,GAAG,kBAAkB,OAAO,IAAI,IAAI,MAAM,GAAG;AACrF,MAAI,WAAW,GAAG;AACd,UAAM,IAAI,0BAA0B,sCAAsC;AAAA,EAC9E;AACA,MAAI,WAAW,GAAG;AACd,UAAM,IAAI,IAAI,aAAa;AAAA,EAC/B;AACA,MAAI;AACJ,MAAI;AACA,aAAS,KAAK,MAAM,IAAI,KAAK,eAAe,CAAC,CAAC;AAAA,EAClD,SACO,OAAO;AACV,UAAM,IAAI,IAAI,6DAA6D,EAAE,MAAM,CAAC;AAAA,EACxF;AACA,MAAI,CAAC,aAAa,MAAM,GAAG;AACvB,UAAM,IAAI,IAAI,uCAAuC;AAAA,EACzD;AACA,WAAS,MAAM;AACf,MAAI,OAAO,SAAS,QAAW;AAC3B,UAAM,IAAI,IAAI,wCAAwC;AAAA,EAC1D;AACA,QAAM,YAAY,KAAK,gBAAgB;AACvC,MAAId;AACJ,MAAI,WAAW,kBAAkB;AAC7B,IAAAA,OAAM,MAAM,OAAO,MAAM;AACzB,UAAM,QAAQ,GAAG,eAAe,IAAI,OAAO;AAC3C,UAAM,WAAW,MAAM,OAAO,OAAO,OAAO,YAAYA,IAAG,GAAGA,MAAK,WAAW,IAAI,KAAK,CAAC;AACxF,QAAI,CAAC,UAAU;AACX,YAAM,IAAI,IAAI,mCAAmC;AAAA,IACrD;AAAA,EACJ;AACA,MAAI;AACJ,MAAI;AACA,aAAS,KAAK,MAAM,IAAI,KAAK,OAAO,CAAC,CAAC;AAAA,EAC1C,SACO,OAAO;AACV,UAAM,IAAI,IAAI,8DAA8D,EAAE,MAAM,CAAC;AAAA,EACzF;AACA,MAAI,CAAC,aAAa,MAAM,GAAG;AACvB,UAAM,IAAI,IAAI,wCAAwC;AAAA,EAC1D;AACA,QAAMM,OAAM,UAAU,IAAIE;AAC1B,MAAI,OAAO,QAAQ,QAAW;AAC1B,QAAI,OAAO,OAAO,QAAQ,UAAU;AAChC,YAAM,IAAI,IAAI,mDAAmD;AAAA,IACrE;AACA,QAAI,OAAO,OAAOF,OAAMQ,iBAAgB;AACpC,YAAM,IAAI,IAAI,2EAA2E;AAAA,IAC7F;AAAA,EACJ;AACA,MAAI,OAAO,QAAQ,QAAW;AAC1B,QAAI,OAAO,OAAO,QAAQ,UAAU;AAChC,YAAM,IAAI,IAAI,6CAA6C;AAAA,IAC/D;AAAA,EACJ;AACA,MAAI,OAAO,QAAQ,QAAW;AAC1B,QAAI,OAAO,OAAO,QAAQ,UAAU;AAChC,YAAM,IAAI,IAAI,0CAA0C;AAAA,IAC5D;AAAA,EACJ;AACA,MAAI,OAAO,QAAQ,QAAW;AAC1B,QAAI,OAAO,OAAO,QAAQ,UAAU;AAChC,YAAM,IAAI,IAAI,8CAA8C;AAAA,IAChE;AACA,QAAI,OAAO,MAAMR,OAAMQ,iBAAgB;AACnC,YAAM,IAAI,IAAI,qEAAqE;AAAA,IACvF;AAAA,EACJ;AACA,MAAI,OAAO,QAAQ,QAAW;AAC1B,QAAI,OAAO,OAAO,QAAQ,YAAY,CAAC,MAAM,QAAQ,OAAO,GAAG,GAAG;AAC9D,YAAM,IAAI,IAAI,4CAA4C;AAAA,IAC9D;AAAA,EACJ;AACA,SAAO,EAAE,QAAQ,QAAQ,WAAW,KAAAd,KAAI;AAC5C;AAsKA,SAAS,sBAAsB,QAAQ,QAAQ,QAAQ;AACnD,MAAI,WAAW,QAAW;AACtB,QAAI,OAAO,QAAQ,QAAQ;AACvB,YAAM,IAAI,IAAI,uCAAuC;AAAA,IACzD;AACA;AAAA,EACJ;AACA,MAAI,MAAM,QAAQ,MAAM,GAAG;AACvB,QAAI,CAAC,OAAO,SAAS,OAAO,GAAG,GAAG;AAC9B,YAAM,IAAI,IAAI,uCAAuC;AAAA,IACzD;AACA;AAAA,EACJ;AACA,MAAI,OAAO,QAAQ,SAAS;AACxB,UAAM,IAAI,IAAI,uCAAuC;AAAA,EACzD;AACJ;AACA,SAAS,sBAAsB,YAAY,MAAM;AAC7C,QAAM,EAAE,GAAG,OAAO,OAAO,IAAI,WAAW,OAAO,IAAI;AACnD,MAAI,SAAS,GAAG;AACZ,UAAM,IAAI,IAAI,IAAI,IAAI,wCAAwC;AAAA,EAClE;AACA,SAAO;AACX;AAGO,SAAS,qBAAqB,IAAI,QAAQ,YAAY,eAAe;AACxE,WAAS,EAAE;AACX,eAAa,MAAM;AACnB,MAAI,sBAAsB,KAAK;AAC3B,iBAAa,WAAW;AAAA,EAC5B;AACA,MAAI,EAAE,sBAAsB,kBAAkB;AAC1C,UAAM,IAAI,UAAU,6DAA6D;AAAA,EACrF;AACA,MAAI,sBAAsB,YAAY,UAAU,GAAG;AAC/C,UAAM,IAAI,IAAI,wGAAwG;AAAA,EAC1H;AACA,QAAM,MAAM,sBAAsB,YAAY,KAAK;AACnD,QAAMe,SAAQ,sBAAsB,YAAY,OAAO;AACvD,MAAI,CAAC,OAAO,GAAG,gDAAgD;AAC3D,UAAM,IAAI,IAAI,2CAA2C;AAAA,EAC7D;AACA,MAAI,OAAO,QAAQ,GAAG,QAAQ;AAC1B,UAAM,IAAI,IAAI,oDAAoD;AAAA,EACtE;AACA,UAAQ,eAAe;AAAA,IACnB,KAAK;AAAA,IACL,KAAK;AACD,UAAIA,WAAU,QAAW;AACrB,cAAM,IAAI,IAAI,mDAAmD;AAAA,MACrE;AACA;AAAA,IACJ,KAAK;AACD;AAAA,IACJ;AACI,UAAI,CAAC,eAAe,aAAa,GAAG;AAChC,cAAM,IAAI,IAAI,4CAA4C;AAAA,MAC9D;AACA,UAAIA,WAAU,QAAW;AACrB,cAAM,IAAI,IAAI,oCAAoC;AAAA,MACtD;AACA,UAAIA,WAAU,eAAe;AACzB,cAAM,IAAI,IAAI,6CAA6C;AAAA,MAC/D;AAAA,EACR;AACA,QAAM,QAAQ,sBAAsB,YAAY,OAAO;AACvD,MAAI,OAAO;AACP,WAAO;AAAA,MACH;AAAA,MACA,mBAAmB,sBAAsB,YAAY,mBAAmB;AAAA,MACxE,WAAW,sBAAsB,YAAY,WAAW;AAAA,IAC5D;AAAA,EACJ;AACA,QAAM,WAAW,sBAAsB,YAAY,UAAU;AAC7D,QAAM,QAAQ,sBAAsB,YAAY,OAAO;AACvD,MAAI,aAAa,UAAa,UAAU,QAAW;AAC/C,UAAM,IAAI,0BAA0B,6CAA6C;AAAA,EACrF;AACA,SAAO,MAAM,IAAI,gBAAgB,UAAU,CAAC;AAChD;AAjoDA,IAAIZ,aAkBS,WACA,gBACA,aACA,cACPR,UACAC,UAOAE,aA8BA,KA8CO,2BAOA,0BAOP,KACA,YAkbF,UAoDE,cACA,gBA8MO,kBAmFP,eA6GA,SA2BA,eAwBO,eACA,mBA6RP,kBA0QO,gBACA;AA1kDb;AAAA;AACA,QAAI,OAAO,cAAc,eAAe,CAAC,UAAU,WAAW,aAAa,cAAc,GAAG;AACxF,YAAM,OAAO;AACb,YAAM,UAAU;AAChB,MAAAK,cAAa,GAAG,IAAI,IAAI,OAAO;AAAA,IACnC;AAaO,IAAM,YAAY,OAAO;AACzB,IAAM,iBAAiB,OAAO;AAC9B,IAAM,cAAc,OAAO;AAC3B,IAAM,eAAe,OAAO;AACnC,IAAMR,WAAU,IAAI,YAAY;AAChC,IAAMC,WAAU,IAAI,YAAY;AAOhC,IAAME,cAAa;AA8BnB,IAAM,MAAN,MAAU;AAAA,MACN,YAAY,SAAS;AACjB,aAAK,QAAQ,oBAAI,IAAI;AACrB,aAAK,SAAS,oBAAI,IAAI;AACtB,aAAK,UAAU;AAAA,MACnB;AAAA,MACA,IAAIE,MAAK;AACL,YAAIgB,KAAI,KAAK,MAAM,IAAIhB,IAAG;AAC1B,YAAIgB,IAAG;AACH,iBAAOA;AAAA,QACX;AACA,YAAKA,KAAI,KAAK,OAAO,IAAIhB,IAAG,GAAI;AAC5B,eAAK,OAAOA,MAAKgB,EAAC;AAClB,iBAAOA;AAAA,QACX;AACA,eAAO;AAAA,MACX;AAAA,MACA,IAAIhB,MAAK;AACL,eAAO,KAAK,MAAM,IAAIA,IAAG,KAAK,KAAK,OAAO,IAAIA,IAAG;AAAA,MACrD;AAAA,MACA,IAAIA,MAAK,OAAO;AACZ,YAAI,KAAK,MAAM,IAAIA,IAAG,GAAG;AACrB,eAAK,MAAM,IAAIA,MAAK,KAAK;AAAA,QAC7B,OACK;AACD,eAAK,OAAOA,MAAK,KAAK;AAAA,QAC1B;AACA,eAAO;AAAA,MACX;AAAA,MACA,OAAOA,MAAK;AACR,YAAI,KAAK,MAAM,IAAIA,IAAG,GAAG;AACrB,iBAAO,KAAK,MAAM,OAAOA,IAAG;AAAA,QAChC;AACA,YAAI,KAAK,OAAO,IAAIA,IAAG,GAAG;AACtB,iBAAO,KAAK,OAAO,OAAOA,IAAG;AAAA,QACjC;AACA,eAAO;AAAA,MACX;AAAA,MACA,OAAOA,MAAK,OAAO;AACf,aAAK,MAAM,IAAIA,MAAK,KAAK;AACzB,YAAI,KAAK,MAAM,QAAQ,KAAK,SAAS;AACjC,eAAK,SAAS,KAAK;AACnB,eAAK,QAAQ,oBAAI,IAAI;AAAA,QACzB;AAAA,MACJ;AAAA,IACJ;AACO,IAAM,4BAAN,cAAwC,MAAM;AAAA,MACjD,YAAYiB,UAAS;AACjB,cAAMA,YAAW,yBAAyB;AAC1C,aAAK,OAAO,KAAK,YAAY;AAC7B,cAAM,oBAAoB,MAAM,KAAK,WAAW;AAAA,MACpD;AAAA,IACJ;AACO,IAAM,2BAAN,cAAuC,MAAM;AAAA,MAChD,YAAYA,UAASb,UAAS;AAC1B,cAAMa,UAASb,QAAO;AACtB,aAAK,OAAO,KAAK,YAAY;AAC7B,cAAM,oBAAoB,MAAM,KAAK,WAAW;AAAA,MACpD;AAAA,IACJ;AACA,IAAM,MAAM;AACZ,IAAM,aAAa,IAAI,IAAI,GAAG;AAse9B,IAAM,eAAe;AACrB,IAAM,iBAAiB;AA8MhB,IAAM,mBAAmB,OAAO;AAmFvC,IAAM,gBAAgB,oBAAI,QAAQ;AA6GlC,IAAM,UAAU,oBAAI,QAAQ;AA2B5B,IAAM,gBAAgB;AAAA,MAClB,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,WAAW;AAAA,MACX,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACT;AASO,IAAM,gBAAgB,OAAO;AAC7B,IAAM,oBAAoB,OAAO;AA6RxC,IAAM,mBAAmB,OAAO;AA0QzB,IAAM,iBAAiB,OAAO;AAC9B,IAAM,gBAAgB,OAAO;AAAA;AAAA;;;ACrkDpC,eAAsB,WAAW,MAAM,OAAO,QAAQc,UAAS,MAAM;AACjE,QAAM,EAAE,SAAS,QAAAC,QAAO,IAAID;AAC5B,EAAAC,QAAO,MAAM,UAAU,KAAK,YAAY,CAAC,IAAI,EAAE,OAAO,OAAO,CAAC;AAC9D,QAAM,UAAU,oBAAI,KAAK;AACzB,UAAQ,QAAQ,QAAQ,QAAQ,IAAI,SAAS,GAAI;AACjD,QAAM,QAAQ,EAAE,MAAM;AACtB,MAAI,SAAS,WAAW;AACpB,UAAM,OAAO;AACjB,QAAM,OAAO,QAAQ,IAAI,EAAE;AAC3B,SAAO;AAAA,IACH;AAAA,IACA,OAAO,MAAMC,QAAO,EAAE,GAAGF,SAAQ,KAAK,QAAQ,OAAO,MAAM,KAAK,CAAC;AAAA,IACjE,SAAS,EAAE,GAAG,QAAQ,IAAI,EAAE,SAAS,QAAQ;AAAA,EACjD;AACJ;AAyCO,SAAS,YAAY,OAAO;AAC/B,MAAI;AACA,UAAMG,WAAU,IAAI,YAAY;AAChC,WAAO,KAAK,MAAMA,SAAQ,OAAYC,mBAAU,OAAO,KAAK,CAAC,CAAC;AAAA,EAClE,QACM;AAAA,EAAE;AACZ;AA+FO,SAAS,YAAY,OAAO,UAAU,mBAAmB;AAC5D,MAAI;AACJ,MAAI;AACJ,MAAI,SAAS,oBAAoB,CAAC,OAAO,OAAO;AAC5C,UAAM,IAAI,aAAa,yDAAyD;AAAA,EACpF;AACA,QAAMC,SAAQ,YAAY,OAAO,KAAK;AACtC,gBAAcA,QAAO;AACrB,MAAI,mBAAmB;AACnB,QAAI,CAACA,QAAO;AACR,aAAO,EAAE,YAAY;AACzB,oBAAgB,GAAGA,OAAM,MAAM,IAAI,IAAI,gBAAgB,KAAK,CAAC;AAAA,EACjE;AACA,SAAO,EAAE,aAAa,cAAc;AACxC;AA/KA,IAoBM,cACO,MAsCP,eAQO,OAkDP,eACO,OA0DP,4BACO;AAjLb;AAAA;AAAA;AACA;AACA;AACA;AAiBA,IAAM,eAAe,KAAK;AACnB,IAAM,OAAO;AAAA,MAChB,MAAM,OAAOL,UAAS;AAClB,cAAM,gBAAkB,2BAA2B;AACnD,cAAM,QAAQ,MAAQ,2BAA2B,aAAa;AAC9D,cAAM,SAAS;AACf,cAAM,SAAS,MAAM,WAAW,oBAAoB,eAAe,QAAQA,QAAO;AAClF,eAAO,EAAE,QAAQ,MAAM;AAAA,MAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQA,MAAM,IAAI,SAAS,YAAYA,UAAS;AACpC,cAAM,EAAE,SAAS,IAAIA;AACrB,YAAI,CAAC,UAAU,QAAQ,SAAS,MAAM;AAClC;AACJ,cAAM,eAAe,UAAUA,SAAQ,QAAQ,iBAAiB,IAAI;AACpE,YAAI,CAAC;AACD,gBAAM,IAAI,aAAa,wCAAwC;AACnE,cAAM,QAAQ,MAAMM,QAAO;AAAA,UACvB,GAAGN,SAAQ;AAAA,UACX,OAAO;AAAA,UACP,MAAMA,SAAQ,QAAQ,iBAAiB;AAAA,QAC3C,CAAC;AACD,YAAI,CAAC,OAAO;AACR,gBAAM,IAAI,aAAa,+CAA+C;AAE1E,mBAAW,KAAK;AAAA,UACZ,MAAMA,SAAQ,QAAQ,iBAAiB;AAAA,UACvC,OAAO;AAAA,UACP,SAAS,EAAE,GAAGA,SAAQ,QAAQ,iBAAiB,SAAS,QAAQ,EAAE;AAAA,QACtE,CAAC;AACD,eAAO,MAAM;AAAA,MACjB;AAAA,IACJ;AACA,IAAM,gBAAgB,KAAK;AAQpB,IAAM,QAAQ;AAAA,MACjB,MAAM,OAAOA,UAAS,MAAM;AACxB,cAAM,EAAE,SAAS,IAAIA;AACrB,YAAI,CAAC,SAAS,OAAO,SAAS,OAAO,GAAG;AACpC,cAAI,MAAM;AACN,kBAAM,IAAI,aAAa,0EAA0E;AAAA,UACrG;AACA;AAAA,QACJ;AACA,cAAM,eAAoBI,mBAAU,OAAO,KAAK,UAAU,EAAE,GAAG,MAAM,QAAU,oBAAoB,EAAE,CAAC,CAAC;AACvG,cAAM,SAAS;AACf,cAAM,SAAS,MAAM,WAAW,SAAS,cAAc,QAAQJ,UAAS,IAAI;AAC5E,eAAO,EAAE,QAAQ,OAAO,aAAa;AAAA,MACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQA,MAAM,IAAI,SAAS,YAAYA,UAAS,aAAa;AACjD,cAAM,EAAE,SAAS,IAAIA;AACrB,YAAI,CAAC,SAAS,OAAO,SAAS,OAAO;AACjC;AACJ,cAAMK,SAAQ,UAAUL,SAAQ,QAAQ,MAAM,IAAI;AAClD,YAAI,CAACK;AACD,gBAAM,IAAI,aAAa,2BAA2B;AAEtD,cAAM,eAAe,MAAMC,QAAO;AAAA,UAC9B,GAAGN,SAAQ;AAAA,UACX,OAAOK;AAAA,UACP,MAAML,SAAQ,QAAQ,MAAM;AAAA,QAChC,CAAC;AACD,YAAI,CAAC,cAAc;AACf,gBAAM,IAAI,aAAa,2CAA2C;AACtE,cAAM,eAAe,YAAY,aAAa,KAAK;AACnD,YAAI,CAAC;AACD,gBAAM,IAAI,aAAa,4CAA4C;AACvE,YAAI,aAAa,WAAW;AACxB,gBAAM,IAAI,aAAa,gDAAgD,aAAa,MAAM,UAAU,WAAW,EAAE;AAErH,mBAAW,KAAK;AAAA,UACZ,MAAMA,SAAQ,QAAQ,MAAM;AAAA,UAC5B,OAAO;AAAA,UACP,SAAS,EAAE,GAAGA,SAAQ,QAAQ,MAAM,SAAS,QAAQ,EAAE;AAAA,QAC3D,CAAC;AACD,eAAO,aAAa;AAAA,MACxB;AAAA,IACJ;AACA,IAAM,gBAAgB,KAAK;AACpB,IAAM,QAAQ;AAAA,MACjB,MAAM,OAAOA,UAAS;AAClB,YAAI,CAACA,SAAQ,SAAS,OAAO,SAAS,OAAO;AACzC;AACJ,cAAM,QAAU,oBAAoB;AACpC,cAAM,SAAS;AACf,cAAM,SAAS,MAAM,WAAW,SAAS,OAAO,QAAQA,QAAO;AAC/D,eAAO,EAAE,QAAQ,MAAM;AAAA,MAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQA,MAAM,IAAI,SAAS,YAAYA,UAAS;AACpC,cAAM,EAAE,SAAS,IAAIA;AACrB,YAAI,CAAC,UAAU,QAAQ,SAAS,OAAO;AACnC;AACJ,cAAMO,SAAQ,UAAUP,SAAQ,QAAQ,MAAM,IAAI;AAClD,YAAI,CAACO;AACD,gBAAM,IAAI,aAAa,2BAA2B;AACtD,cAAM,QAAQ,MAAMD,QAAO;AAAA,UACvB,GAAGN,SAAQ;AAAA,UACX,OAAOO;AAAA,UACP,MAAMP,SAAQ,QAAQ,MAAM;AAAA,QAChC,CAAC;AACD,YAAI,CAAC,OAAO;AACR,gBAAM,IAAI,aAAa,kCAAkC;AAE7D,mBAAW,KAAK;AAAA,UACZ,MAAMA,SAAQ,QAAQ,MAAM;AAAA,UAC5B,OAAO;AAAA,UACP,SAAS,EAAE,GAAGA,SAAQ,QAAQ,MAAM,SAAS,QAAQ,EAAE;AAAA,QAC3D,CAAC;AACD,eAAO,MAAM;AAAA,MACjB;AAAA,IACJ;AAoBA,IAAM,6BAA6B,KAAK;AACjC,IAAM,oBAAoB;AAAA,MAC7B,MAAM,OAAOA,UAAS,WAAW,cAAc;AAC3C,cAAM,SAAS;AACf,cAAM,OAAO,EAAE,WAAW,aAAa;AACvC,cAAM,SAAS,MAAM,WAAW,qBAAqB,KAAK,UAAU,IAAI,GAAG,QAAQA,QAAO;AAC1F,eAAO,EAAE,OAAO;AAAA,MACpB;AAAA;AAAA;AAAA;AAAA,MAIA,MAAM,IAAIA,UAAS,SAAS,YAAY;AACpC,cAAM,YAAY,UAAUA,SAAQ,QAAQ,kBAAkB,IAAI;AAClE,YAAI,CAAC;AACD,gBAAM,IAAI,aAAa,2BAA2B;AACtD,cAAM,QAAQ,MAAMM,QAAO;AAAA,UACvB,GAAGN,SAAQ;AAAA,UACX,OAAO;AAAA,UACP,MAAMA,SAAQ,QAAQ,kBAAkB;AAAA,QAC5C,CAAC;AACD,YAAI,CAAC,OAAO;AACR,gBAAM,IAAI,aAAa,sCAAsC;AAEjE,cAAM,SAAS;AAAA,UACX,MAAMA,SAAQ,QAAQ,kBAAkB;AAAA,UACxC,OAAO;AAAA,UACP,SAAS,EAAE,GAAGA,SAAQ,QAAQ,kBAAkB,SAAS,QAAQ,EAAE;AAAA,QACvE;AACA,mBAAW,KAAK,MAAM;AACtB,eAAO,KAAK,MAAM,MAAM,KAAK;AAAA,MACjC;AAAA,IACJ;AAAA;AAAA;;;ACnMA,eAAsB,YAAY,OAAO,SAASQ,UAAS,aAAa;AACpE,QAAM,EAAE,QAAAC,SAAQ,SAAS,IAAID;AAC7B,MAAI;AACJ,QAAM,EAAE,OAAO,SAAS,IAAI;AAE5B,OAAK,CAAC,OAAO,OAAO,MAAM,IAAI,SAAS,kBAClC,CAAC,UAAU,OAAO,SAAS,IAAI,SAAS,eAAe;AAGxD,UAAM,SAAS,IAAI,IAAI,SAAS,MAAM;AACtC,UAAM,oBAAoB,MAAQ,iBAAiB,MAAM;AACzD,UAAM,eAAe,MAAQ,yBAAyB,QAAQ,iBAAiB;AAC/E,QAAI,CAAC,aAAa;AACd,YAAM,IAAI,UAAU,8DAA8D;AACtF,QAAI,CAAC,aAAa;AACd,YAAM,IAAI,UAAU,iEAAiE;AACzF,SAAK;AAAA,EACT,OACK;AACD,SAAK;AAAA,MACD,QAAQ,SAAS,UAAU;AAAA;AAAA,MAC3B,gBAAgB,OAAO,IAAI,SAAS;AAAA,MACpC,mBAAmB,UAAU,IAAI,SAAS;AAAA,IAC9C;AAAA,EACJ;AACA,QAAM,SAAS;AAAA,IACX,WAAW,SAAS;AAAA,IACpB,eAAe,SAAS;AAAA,IACxB,GAAG,SAAS;AAAA,EAChB;AACA,QAAM,aAAa,CAAC;AACpB,QAAME,SAAQ,MAAa,MAAM,IAAI,SAAS,YAAYF,UAAS,WAAW;AAC9E,QAAM,kBAAoB,qBAAqB,IAAI,QAAQ,IAAI,gBAAgB,KAAK,GAAG,SAAS,OAAO,SAAS,OAAO,IAAIE,SAAU,cAAc;AAEnJ,MAAM,cAAc,eAAe,GAAG;AAClC,UAAM,QAAQ,EAAE,YAAY,SAAS,IAAI,GAAG,gBAAgB;AAC5D,IAAAD,QAAO,MAAM,sBAAsB,KAAK;AACxC,UAAM,IAAI,mBAAmB,oCAAoC,KAAK;AAAA,EAC1E;AACA,QAAM,eAAe,MAAa,KAAK,IAAI,SAAS,YAAYD,QAAO;AACvE,MAAI,eAAe,SAAS;AAC5B,MAAI,CAACA,SAAQ,qBAAqB,SAAS,kBAAkB;AACzD,mBAAe,SAAS;AAAA,EAC5B;AACA,MAAI,oBAAoB,MAAQ;AAAA,IAA8B;AAAA,IAAI;AAAA,IAAQ;AAAA,IAAiB;AAAA,IAAc,gBAAgB;AAAA;AAAA,EACzH;AACA,MAAI,SAAS,OAAO,SAAS;AACzB,wBACK,MAAM,SAAS,MAAM,QAAQ,kBAAkB,MAAM,CAAC,KACnD;AAAA,EACZ;AACA,MAAI;AACJ,MAAK,aAAe,+BAA+B,iBAAiB,GAAI;AACpE,eAAW,aAAa,YAAY;AAChC,cAAQ,IAAI,aAAa,SAAS;AAAA,IACtC;AACA,UAAM,IAAI,MAAM,oDAAoD;AAAA,EACxE;AACA,MAAI,UAAU,CAAC;AACf,MAAI;AACJ,MAAI,SAAS,SAAS,QAAQ;AAC1B,UAAMG,SAAQ,MAAa,MAAM,IAAI,SAAS,YAAYH,QAAO;AACjE,UAAM,SAAS,MAAQ,uCAAuC,IAAI,QAAQ,mBAAmBG,UAAW,aAAa;AACrH,QAAM,cAAc,MAAM,GAAG;AACzB,cAAQ,IAAI,SAAS,MAAM;AAC3B,YAAM,IAAI,MAAM,uCAAuC;AAAA,IAC3D;AACA,cAAY,0BAA0B,MAAM;AAC5C,aAAS;AAAA,EACb,OACK;AACD,aAAS,MAAQ,uCAAuC,IAAI,QAAQ,iBAAiB;AACrF,QAAM,cAAc,MAAM,GAAG;AACzB,cAAQ,IAAI,SAAS,MAAM;AAC3B,YAAM,IAAI,MAAM,4CAA4C;AAAA,IAChE;AACA,QAAI,UAAU,SAAS;AACnB,YAAM,WAAW,MAAM,SAAS,QAAQ,EAAE,QAAQ,SAAS,CAAC;AAC5D,UAAI,oBAAoB;AACpB,kBAAU;AAAA,IAClB,WACS,UAAU,KAAK;AACpB,YAAM,mBAAmB,MAAQ,gBAAgB,IAAI,QAAQ,OAAO,YAAY;AAChF,gBAAU,MAAM,iBAAiB,KAAK;AAAA,IAC1C,OACK;AACD,YAAM,IAAI,UAAU,iCAAiC;AAAA,IACzD;AAAA,EACJ;AACA,MAAI,OAAO,YAAY;AACnB,WAAO,aACH,KAAK,MAAM,KAAK,IAAI,IAAI,GAAI,IAAI,OAAO,OAAO,UAAU;AAAA,EAChE;AACA,QAAM,gBAAgB,MAAM,kBAAkB,SAAS,UAAU,QAAQF,OAAM;AAC/E,SAAO,EAAE,GAAG,eAAe,SAAS,SAAS,WAAW;AAC5D;AAKA,eAAsB,kBAAkB,cAAc,UAAU,QAAQA,SAAQ;AAC5E,MAAI;AACA,UAAM,kBAAkB,MAAM,SAAS,QAAQ,cAAc,MAAM;AACnE,UAAM,OAAO;AAAA,MACT,GAAG;AAAA,MACH,IAAI,OAAO,WAAW;AAAA,MACtB,OAAO,gBAAgB,OAAO,YAAY;AAAA,IAC9C;AACA,WAAO;AAAA,MACH;AAAA,MACA,SAAS;AAAA,QACL,GAAG;AAAA,QACH,UAAU,SAAS;AAAA,QACnB,MAAM,SAAS;AAAA,QACf,mBAAmB,gBAAgB,MAAM,OAAO,WAAW;AAAA,MAC/D;AAAA,IACJ;AAAA,EACJ,SACOG,IAAG;AAQN,IAAAH,QAAO,MAAM,4BAA4B,YAAY;AACrD,IAAAA,QAAO,MAAM,IAAI,uBAAuBG,IAAG,EAAE,UAAU,SAAS,GAAG,CAAC,CAAC;AAAA,EACzE;AACJ;AA7IA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;;;ACUO,SAAS,qBAAqB,QAAQ,UAAU,kBAAkB;AACrE,QAAM,EAAE,MAAM,SAAS,MAAM,IAAI,oBAAoB,CAAC;AACtD,UAAQ,QAAQ;AAAA,IACZ,KAAK,gBAAgB;AAIjB,aAAO;AAAA,IACX;AAAA,IACA,KAAK,YAAY;AAMb,UAAI,QAAQ,aAAa;AACrB,eAAO;AACX;AAAA,IACJ;AAAA,IACA,KAAK,QAAW;AAQZ,UAAI,CAAC,UAAU;AACX,YAAI,MAAM;AACN,cAAI,QAAQ;AACR,mBAAO;AAAA,UACX,OACK;AACD,mBAAO;AAAA,UACX;AAAA,QACJ,OACK;AACD,iBAAO;AAAA,QACX;AAAA,MACJ;AACA;AAAA,IACJ;AAAA,EACJ;AAEA,SAAO;AACX;AAUA,eAAsB,wBAAwBC,UAAS,SAAS,MAAM,YAAY;AAE9E,QAAM,aAAa,MAAM,uBAAuBA,UAAS,SAAS,IAAI;AAEtE,QAAM,EAAE,OAAO,IAAI,MAAM,kBAAkB,OAAOA,UAAS,WAAW,WAAW,IAAI;AACrF,SAAO;AAAA,IACH,QAAQ;AAAA,IACR,SAAS,CAAC,GAAI,cAAc,CAAC,GAAI,MAAM;AAAA,IACvC,MAAM;AAAA,MACF,QAAQ;AAAA,MACR,SAAS;AAAA,IACb;AAAA,IACA,SAAS;AAAA,MACL,gBAAgB;AAAA,IACpB;AAAA,EACJ;AACJ;AAUA,eAAsB,0BAA0BA,UAAS,SAAS,MAAM,YAAY;AAEhF,QAAM,cAAc,MAAM,yBAAyBA,UAAS,SAAS,IAAI;AAEzE,QAAM,EAAE,OAAO,IAAI,MAAM,kBAAkB,OAAOA,UAAS,YAAY,SAAS;AAChF,SAAO;AAAA,IACH,QAAQ;AAAA,IACR,SAAS,CAAC,GAAI,cAAc,CAAC,GAAI,MAAM;AAAA,IACvC,MAAM;AAAA,MACF,QAAQ;AAAA,MACR,SAAS;AAAA,IACb;AAAA,IACA,SAAS;AAAA,MACL,gBAAgB;AAAA,IACpB;AAAA,EACJ;AACJ;AACA,eAAsB,mBAAmBA,UAAS,SAAS,YAAY;AACnE,QAAM,EAAE,SAAS,SAAS,IAAIA;AAE9B,QAAM,OAAO,QAAQ,QAAQ,OAAO,QAAQ,KAAK,SAAS,WACpD,KAAK,MAAM,QAAQ,KAAK,IAAI,IAC5B;AACN,MAAI,CAAC,QACD,OAAO,SAAS,YAChB,EAAE,QAAQ,SACV,OAAO,KAAK,OAAO,UAAU;AAC7B,UAAM,IAAI,UAAU,2CAA2C;AAAA,EACnE;AAEA,QAAM,eAAe,SAAS,WAAW,KAAK,EAAE,CAAC;AAEjD,QAAM,gBAAgB,MAAM,QAAQ,iBAAiB,YAAY;AACjE,MAAI,CAAC,eAAe;AAChB,UAAM,IAAI,UAAU,iDAAiD,KAAK,UAAU;AAAA,MAChF;AAAA,IACJ,CAAC,CAAC,EAAE;AAAA,EACR;AAEA,QAAM,EAAE,WAAW,kBAAkB,IAAI,MAAM,kBAAkB,IAAIA,UAAS,QAAQ,SAAS,UAAU;AAEzG,MAAI;AACJ,MAAI;AACA,UAAM,gBAAgB,SAAS,iBAAiBA,UAAS,OAAO;AAChE,mBAAe,MAAM,SAAS,eAAe,6BAA6B;AAAA,MACtE,GAAG,SAAS;AAAA,MACZ;AAAA,MACA,UAAU;AAAA,MACV,eAAe,yBAAyB,aAAa;AAAA,MACrD,gBAAgB,cAAc;AAAA,MAC9B,cAAc,cAAc;AAAA,IAChC,CAAC;AAAA,EACL,SACOC,IAAG;AACN,UAAM,IAAI,0BAA0BA,EAAC;AAAA,EACzC;AACA,QAAM,EAAE,UAAU,mBAAmB,IAAI;AAEzC,MAAI,CAAC,UAAU;AACX,UAAM,IAAI,0BAA0B,yDAAyD;AAAA,EACjG;AAEA,MAAI;AACA,UAAM,EAAE,WAAW,IAAI;AACvB,UAAM,QAAQ,2BAA2B,cAAc,cAAc,UAAU;AAAA,EACnF,SACOA,IAAG;AACN,UAAM,IAAI,aAAa,kGAAkG,KAAK,UAAU;AAAA,MACpI;AAAA,MACA,YAAY,cAAc;AAAA,MAC1B,YAAY,mBAAmB;AAAA,IACnC,CAAC,CAAC,IAAIA,EAAC;AAAA,EACX;AAEA,QAAM,UAAU,MAAM,QAAQ,WAAW,cAAc,mBAAmB,SAAS,EAAE;AACrF,MAAI,CAAC,SAAS;AACV,UAAM,IAAI,UAAU,2CAA2C,KAAK,UAAU;AAAA,MAC1E;AAAA,MACA,mBAAmB,cAAc;AAAA,IACrC,CAAC,CAAC,EAAE;AAAA,EACR;AACA,QAAM,OAAO,MAAM,QAAQ,QAAQ,QAAQ,MAAM;AACjD,MAAI,CAAC,MAAM;AACP,UAAM,IAAI,UAAU,wCAAwC,KAAK,UAAU;AAAA,MACvE;AAAA,MACA,mBAAmB,cAAc;AAAA,MACjC,QAAQ,QAAQ;AAAA,IACpB,CAAC,CAAC,EAAE;AAAA,EACR;AACA,SAAO;AAAA,IACH;AAAA,IACA;AAAA,EACJ;AACJ;AACA,eAAsB,eAAeD,UAAS,SAAS,YAAY;AAC/D,QAAM,EAAE,SAAS,IAAIA;AAErB,QAAM,OAAO,QAAQ,QAAQ,OAAO,QAAQ,KAAK,SAAS,WACpD,KAAK,MAAM,QAAQ,KAAK,IAAI,IAC5B;AACN,MAAI,CAAC,QACD,OAAO,SAAS,YAChB,EAAE,QAAQ,SACV,OAAO,KAAK,OAAO,UAAU;AAC7B,UAAM,IAAI,UAAU,yCAAyC;AAAA,EACjE;AAEA,QAAM,EAAE,WAAW,mBAAmB,cAAc,KAAK,IAAI,MAAM,kBAAkB,IAAIA,UAAS,QAAQ,SAAS,UAAU;AAC7H,MAAI,CAAC,MAAM;AACP,UAAM,IAAI,UAAU,8DAA8D;AAAA,EACtF;AAEA,MAAI;AACJ,MAAI;AACA,UAAM,gBAAgB,SAAS,iBAAiBA,UAAS,OAAO;AAChE,mBAAe,MAAM,SAAS,eAAe,2BAA2B;AAAA,MACpE,GAAG,SAAS;AAAA,MACZ;AAAA,MACA,UAAU;AAAA,MACV,gBAAgB,cAAc;AAAA,MAC9B,cAAc,cAAc;AAAA,IAChC,CAAC;AAAA,EACL,SACOC,IAAG;AACN,UAAM,IAAI,0BAA0BA,EAAC;AAAA,EACzC;AAEA,MAAI,CAAC,aAAa,YAAY,CAAC,aAAa,kBAAkB;AAC1D,UAAM,IAAI,0BAA0B,uDAAuD;AAAA,EAC/F;AAEA,QAAM,UAAU;AAAA,IACZ,mBAAmB,SAAS,aAAa,iBAAiB,YAAY;AAAA,IACtE,UAAUD,SAAQ,SAAS;AAAA,IAC3B,MAAM,SAAS;AAAA,EACnB;AAEA,QAAM,gBAAgB;AAAA,IAClB,mBAAmB,QAAQ;AAAA,IAC3B,SAAS,aAAa,iBAAiB;AAAA,IACvC,cAAc,SAAS,aAAa,iBAAiB,YAAY;AAAA,IACjE,qBAAqB,SAAS,aAAa,iBAAiB,mBAAmB;AAAA,IAC/E,oBAAoB,aAAa,iBAAiB;AAAA,IAClD,sBAAsB,aAAa,iBAAiB;AAAA,IACpD,YAAY,mBAAmB,KAAK,SAC/B,UAAU;AAAA,EACnB;AAEA,SAAO;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACJ;AASA,eAAe,yBAAyBA,UAAS,SAAS,MAAM;AAC5D,QAAM,EAAE,UAAU,QAAQ,IAAIA;AAE9B,QAAM,iBAAiB,QAAQ,KAAK,IAAI,IAClC,MAAM,QAAQ,2BAA2B,KAAK,EAAE,IAChD;AACN,QAAM,gBAAgB,SAAS,iBAAiBA,UAAS,OAAO;AAEhE,SAAO,MAAM,SAAS,eAAe,8BAA8B;AAAA,IAC/D,GAAG,SAAS;AAAA,IACZ,MAAM,cAAc;AAAA,IACpB,kBAAkB,gBAAgB,IAAI,CAACE,QAAO;AAAA,MAC1C,IAAI,WAAWA,GAAE,YAAY;AAAA,MAC7B,MAAM;AAAA,MACN,YAAY,mBAAmBA,GAAE,UAAU;AAAA,IAC/C,EAAE;AAAA,EACN,CAAC;AACL;AASA,eAAe,uBAAuBF,UAAS,SAAS,MAAM;AAC1D,QAAM,EAAE,UAAU,QAAQ,IAAIA;AAE9B,QAAM,iBAAiB,KAAK,IAAI,IAC1B,MAAM,QAAQ,2BAA2B,KAAK,EAAE,IAChD;AAKN,QAAM,SAAS,aAAa,EAAE;AAC9B,QAAM,gBAAgB,SAAS,iBAAiBA,UAAS,OAAO;AAEhE,SAAO,MAAM,SAAS,eAAe,4BAA4B;AAAA,IAC7D,GAAG,SAAS;AAAA,IACZ;AAAA,IACA,UAAU,KAAK;AAAA,IACf,iBAAiB,KAAK,QAAQ;AAAA,IAC9B,MAAM,cAAc;AAAA,IACpB,QAAQ,cAAc;AAAA,IACtB,oBAAoB,gBAAgB,IAAI,CAACE,QAAO;AAAA,MAC5C,IAAI,WAAWA,GAAE,YAAY;AAAA,MAC7B,MAAM;AAAA,MACN,YAAY,mBAAmBA,GAAE,UAAU;AAAA,IAC/C,EAAE;AAAA,EACN,CAAC;AACL;AACO,SAAS,8BAA8BF,UAAS;AACnD,QAAM,EAAE,UAAU,QAAQ,IAAIA;AAE9B,MAAI,CAAC;AACD,UAAM,IAAI,eAAe,kDAAkD;AAE/E,MAAI,CAAC,YAAY,SAAS,SAAS,YAAY;AAC3C,UAAM,IAAI,gBAAgB,2BAA2B;AAAA,EACzD;AAEA,SAAO,EAAE,GAAGA,UAAS,UAAU,QAAQ;AAC3C;AACA,SAAS,yBAAyB,eAAe;AAC7C,SAAO;AAAA,IACH,GAAG;AAAA,IACH,sBAAsB,cAAc;AAAA,IACpC,YAAY,mBAAmB,cAAc,UAAU;AAAA,IACvD,cAAc,WAAW,cAAc,YAAY;AAAA,IACnD,qBAAqB,WAAW,cAAc,mBAAmB;AAAA,EACrE;AACJ;AACO,SAAS,WAAWG,SAAQ;AAC/B,SAAO,IAAI,WAAW,OAAO,KAAKA,SAAQ,QAAQ,CAAC;AACvD;AACO,SAAS,SAAS,OAAO;AAC5B,SAAO,OAAO,KAAK,KAAK,EAAE,SAAS,QAAQ;AAC/C;AACO,SAAS,mBAAmB,YAAY;AAC3C,SAAO,YAAY,KAAK,GAAG;AAC/B;AACO,SAAS,mBAAmB,SAAS;AACxC,SAAO,UACD,QAAQ,MAAM,GAAG,IACjB;AACV;AAtVA;AAAA;AAAA;AACA;AACA,IAAAC;AAAA;AAAA;;;ACMA,eAAsB,SAAS,SAASC,UAAS,cAAc,SAAS;AACpE,MAAI,CAACA,SAAQ;AACT,UAAM,IAAI,gBAAgB,wCAAwC;AACtE,QAAM,EAAE,OAAO,MAAAC,OAAM,QAAQ,SAAAC,SAAQ,IAAI;AACzC,QAAM,EAAE,UAAU,SAAS,KAAK,aAAa,OAAO,KAAAC,MAAK,QAAQ,WAAW,SAAS,EAAE,UAAU,iBAAiB,QAAQ,cAAc,GAAG,QAAAC,QAAQ,IAAIJ;AACvJ,QAAM,gBAAgB,oBAAoB;AAC1C,MAAI;AACA,QAAI,SAAS,SAAS,WAAW,SAAS,SAAS,QAAQ;AACvD,YAAM,EAAE,eAAe,YAAY,IAAI,YAAY,OAAO,UAAUA,SAAQ,iBAAiB;AAC7F,UAAI,eAAe;AACf,QAAAI,QAAO,MAAM,kBAAkB,EAAE,eAAe,YAAY,CAAC;AAC7D,eAAO,EAAE,UAAU,cAAc;AAAA,MACrC;AACA,YAAM,sBAAsB,MAAM,YAAY,OAAO,QAAQ,SAASJ,UAAS,WAAW;AAC1F,UAAI,oBAAoB,QAAQ,QAAQ;AACpC,gBAAQ,KAAK,GAAG,oBAAoB,OAAO;AAAA,MAC/C;AACA,MAAAI,QAAO,MAAM,wBAAwB,mBAAmB;AACxD,YAAM,EAAE,MAAM,kBAAkB,SAAS,SAAS,aAAc,IAAI;AAMpE,UAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,cAAc;AAChD,eAAO,EAAE,UAAU,GAAG,GAAG,WAAW,QAAQ;AAAA,MAChD;AAKA,UAAI;AACJ,UAAI,SAAS;AACT,cAAM,EAAE,iBAAiB,IAAI;AAC7B,wBAAgB,MAAM,iBAAiB;AAAA,UACnC,mBAAmB,QAAQ;AAAA,UAC3B,UAAU,SAAS;AAAA,QACvB,CAAC;AAAA,MACL;AACA,YAAMC,YAAW,MAAM,iBAAiB;AAAA,QACpC,MAAM,iBAAiB;AAAA,QACvB;AAAA,QACA,SAAS;AAAA,MACb,GAAGL,QAAO;AACV,UAAIK;AACA,eAAO,EAAE,UAAAA,WAAU,QAAQ;AAC/B,YAAM,EAAE,MAAM,SAAAC,UAAS,UAAU,IAAI,MAAM,sBAAsB,aAAa,OAAO,kBAAkB,SAASN,QAAO;AACvH,UAAI,eAAe;AACf,cAAM,eAAe;AAAA,UACjB,MAAM,KAAK;AAAA,UACX,OAAO,KAAK;AAAA,UACZ,SAAS,KAAK;AAAA,UACd,KAAK,KAAK,IAAI,SAAS;AAAA,QAC3B;AACA,cAAM,QAAQ,MAAM,UAAU,IAAI;AAAA,UAC9B,OAAO;AAAA,UACP;AAAA,UACA;AAAA,UACA,SAAS;AAAA,UACT;AAAA,UACA,SAAS,YAAY,WAAW;AAAA,QACpC,CAAC;AAED,YAAI,UAAU,MAAM;AAChB,kBAAQ,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,QACxC,OACK;AACD,gBAAM,OAAOA,SAAQ,QAAQ,aAAa;AAE1C,gBAAM,WAAW,MAAMG,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,KAAK,CAAC;AAEzD,gBAAM,gBAAgB,oBAAI,KAAK;AAC/B,wBAAc,QAAQ,cAAc,QAAQ,IAAI,gBAAgB,GAAI;AACpE,gBAAM,iBAAiB,aAAa,MAAM,UAAU;AAAA,YAChD,SAAS;AAAA,UACb,CAAC;AACD,kBAAQ,KAAK,GAAG,cAAc;AAAA,QAClC;AAAA,MACJ,OACK;AAED,gBAAQ,KAAK;AAAA,UACT,MAAMH,SAAQ,QAAQ,aAAa;AAAA,UACnC,OAAOM,SAAQ;AAAA,UACf,SAAS;AAAA,YACL,GAAGN,SAAQ,QAAQ,aAAa;AAAA,YAChC,SAASM,SAAQ;AAAA,UACrB;AAAA,QACJ,CAAC;AAAA,MACL;AACA,YAAM,OAAO,SAAS;AAAA,QAClB;AAAA,QACA;AAAA,QACA,SAAS;AAAA,QACT;AAAA,MACJ,CAAC;AAID,UAAI,aAAa,MAAM,SAAS;AAC5B,eAAO;AAAA,UACH,UAAU,GAAG,MAAM,OAAO,GAAG,MAAM,QAAQ,SAAS,GAAG,IAAI,MAAM,GAAG,GAAG,IAAI,gBAAgB,EAAE,YAAY,CAAC,CAAC;AAAA,UAC3G;AAAA,QACJ;AAAA,MACJ;AACA,aAAO,EAAE,UAAU,aAAa,QAAQ;AAAA,IAC5C,WACS,SAAS,SAAS,SAAS;AAChC,YAAM,QAAQ,OAAO;AACrB,YAAM,aAAa,OAAO;AAC1B,UAAI,CAAC,SAAS,CAAC,YAAY;AACvB,cAAMC,KAAI,IAAI,UAAU,yIAAyI,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC,OAAO,UAAU,CAAC,CAAC,WAAW,EAAE,CAAC;AACzN,QAAAA,GAAE,OAAO;AACT,cAAMA;AAAA,MACV;AACA,YAAM,SAAS,SAAS,UAAUP,SAAQ;AAE1C,YAAM,SAAS,MAAM,QAAQ,qBAAqB;AAAA,QAC9C;AAAA,QACA,OAAO,MAAM,WAAW,GAAG,KAAK,GAAG,MAAM,EAAE;AAAA,MAC/C,CAAC;AACD,YAAM,YAAY,CAAC,CAAC;AACpB,YAAM,UAAU,SAAS,OAAO,QAAQ,QAAQ,IAAI,KAAK,IAAI,IAAI;AACjE,YAAM,gBAAgB,CAAC,aAAa;AACpC,UAAI;AACA,cAAM,IAAI,aAAa,EAAE,WAAW,QAAQ,CAAC;AACjD,YAAM,OAAQ,MAAM,QAAQ,eAAe,UAAU,KAAM;AAAA,QACvD,IAAI,OAAO,WAAW;AAAA,QACtB,OAAO;AAAA,QACP,eAAe;AAAA,MACnB;AACA,YAAM,UAAU;AAAA,QACZ,mBAAmB,KAAK;AAAA,QACxB,QAAQ,KAAK;AAAA,QACb,MAAM;AAAA,QACN,UAAU,SAAS;AAAA,MACvB;AACA,YAAMK,YAAW,MAAM,iBAAiB,EAAE,MAAM,QAAQ,GAAGL,QAAO;AAClE,UAAIK;AACA,eAAO,EAAE,UAAAA,WAAU,QAAQ;AAE/B,YAAM,EAAE,MAAM,cAAc,SAAAC,UAAS,UAAW,IAAI,MAAM,sBAAsB,aAAa,OAAO,MAAM,SAASN,QAAO;AAC1H,UAAI,eAAe;AACf,cAAM,eAAe;AAAA,UACjB,MAAM,aAAa;AAAA,UACnB,OAAO,aAAa;AAAA,UACpB,SAAS,aAAa;AAAA,UACtB,KAAK,aAAa,IAAI,SAAS;AAAA,QACnC;AACA,cAAMQ,SAAQ,MAAM,UAAU,IAAI;AAAA,UAC9B,OAAO;AAAA,UACP,MAAM;AAAA,UACN;AAAA,UACA;AAAA,UACA,SAAS,YAAY,WAAW;AAAA,QACpC,CAAC;AAED,YAAIA,WAAU,MAAM;AAChB,kBAAQ,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,QACxC,OACK;AACD,gBAAM,OAAOR,SAAQ,QAAQ,aAAa;AAE1C,gBAAM,WAAW,MAAMG,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAAK,QAAO,KAAK,CAAC;AAEzD,gBAAM,gBAAgB,oBAAI,KAAK;AAC/B,wBAAc,QAAQ,cAAc,QAAQ,IAAI,gBAAgB,GAAI;AACpE,gBAAM,iBAAiB,aAAa,MAAM,UAAU;AAAA,YAChD,SAAS;AAAA,UACb,CAAC;AACD,kBAAQ,KAAK,GAAG,cAAc;AAAA,QAClC;AAAA,MACJ,OACK;AAED,gBAAQ,KAAK;AAAA,UACT,MAAMR,SAAQ,QAAQ,aAAa;AAAA,UACnC,OAAOM,SAAQ;AAAA,UACf,SAAS;AAAA,YACL,GAAGN,SAAQ,QAAQ,aAAa;AAAA,YAChC,SAASM,SAAQ;AAAA,UACrB;AAAA,QACJ,CAAC;AAAA,MACL;AACA,YAAM,OAAO,SAAS,EAAE,MAAM,cAAc,SAAS,UAAU,CAAC;AAIhE,UAAI,aAAa,MAAM,SAAS;AAC5B,eAAO;AAAA,UACH,UAAU,GAAG,MAAM,OAAO,GAAG,MAAM,QAAQ,SAAS,GAAG,IAAI,MAAM,GAAG,GAAG,IAAI,gBAAgB,EAAE,YAAY,CAAC,CAAC;AAAA,UAC3G;AAAA,QACJ;AAAA,MACJ;AAEA,aAAO,EAAE,UAAU,aAAa,QAAQ;AAAA,IAC5C,WACS,SAAS,SAAS,iBAAiB,WAAW,QAAQ;AAC3D,YAAM,cAAcL,SAAQ,CAAC;AAE7B,aAAO,QAAQ,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,CAACQ,IAAGC,EAAC,MAAM,IAAI,aAAa,IAAID,IAAGC,EAAC,CAAC;AAC1E,YAAM,oBAAoB,MAAM,SAAS;AAAA,QAAU;AAAA;AAAA,QAEnD,IAAI,QAAQ,KAAK,EAAE,SAAAR,UAAS,QAAQ,MAAM,KAAK,UAAUD,KAAI,EAAE,CAAC;AAAA,MAAC;AACjE,YAAM,OAAO;AACb,UAAI,CAAC;AACD,cAAM,IAAI,kBAAkB;AAAA;AAE5B,aAAK,KAAK,KAAK,IAAI,SAAS,KAAK,OAAO,WAAW;AACvD,YAAM,UAAU;AAAA,QACZ,mBAAmB,KAAK;AAAA,QACxB,MAAM;AAAA,QACN,UAAU,SAAS;AAAA,MACvB;AACA,YAAMI,YAAW,MAAM,iBAAiB,EAAE,MAAM,SAAS,YAAY,GAAGL,QAAO;AAC/E,UAAIK;AACA,eAAO,EAAE,UAAAA,WAAU,QAAQ;AAC/B,YAAM,eAAe;AAAA,QACjB,MAAM,KAAK;AAAA,QACX,OAAO,KAAK;AAAA,QACZ,SAAS,KAAK;AAAA,QACd,KAAK,KAAK;AAAA,MACd;AACA,YAAM,QAAQ,MAAM,UAAU,IAAI;AAAA,QAC9B,OAAO;AAAA,QACP;AAAA,QACA;AAAA,QACA,WAAW;AAAA,QACX,SAAS;AAAA,MACb,CAAC;AAED,UAAI,UAAU,MAAM;AAChB,gBAAQ,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,MACxC,OACK;AACD,cAAM,OAAOL,SAAQ,QAAQ,aAAa;AAE1C,cAAM,WAAW,MAAMG,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,KAAK,CAAC;AAEzD,cAAM,gBAAgB,oBAAI,KAAK;AAC/B,sBAAc,QAAQ,cAAc,QAAQ,IAAI,gBAAgB,GAAI;AACpE,cAAM,iBAAiB,aAAa,MAAM,UAAU;AAAA,UAChD,SAAS;AAAA,QACb,CAAC;AACD,gBAAQ,KAAK,GAAG,cAAc;AAAA,MAClC;AACA,YAAM,OAAO,SAAS,EAAE,MAAM,QAAQ,CAAC;AACvC,aAAO,EAAE,UAAU,aAAa,QAAQ;AAAA,IAC5C,WACS,SAAS,SAAS,cAAc,WAAW,QAAQ;AAExD,YAAM,SAAS,QAAQ,MAAM;AAC7B,UAAI,OAAO,WAAW,YAAa,WAAW,kBAAkB,WAAW,YAAa;AACpF,cAAM,IAAI,UAAU,0BAA0B;AAAA,MAClD;AAGA,YAAM,eAAe,8BAA8BH,QAAO;AAE1D,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,cAAQ,QAAQ;AAAA,QACZ,KAAK,gBAAgB;AACjB,gBAAM,WAAW,MAAM,mBAAmB,cAAc,SAAS,OAAO;AACxE,iBAAO,SAAS;AAChB,oBAAU,SAAS;AACnB;AAAA,QACJ;AAAA,QACA,KAAK,YAAY;AACb,gBAAM,WAAW,MAAM,eAAeA,UAAS,SAAS,OAAO;AAC/D,iBAAO,SAAS;AAChB,oBAAU,SAAS;AACnB,0BAAgB,SAAS;AACzB;AAAA,QACJ;AAAA,MACJ;AAEA,YAAM,iBAAiB,EAAE,MAAM,QAAQ,GAAGA,QAAO;AAEjD,YAAM,EAAE,MAAM,cAAc,WAAW,SAAAM,UAAS,SAAS,eAAe,IAAI,MAAM,sBAAsB,aAAa,OAAO,MAAM,SAASN,QAAO;AAClJ,UAAI,CAAC,gBAAgB;AAEjB,cAAM,IAAI,UAAU,mCAAmC;AAAA,MAC3D;AAEA,UAAI,iBAAiB,aAAa,IAAI;AAClC,cAAM,aAAa,QAAQ,oBAAoB,EAAE,GAAG,eAAe,QAAQ,aAAa,GAAG,CAAC;AAAA,MAChG;AAEA,UAAI,eAAe;AACf,cAAM,eAAe;AAAA,UACjB,MAAM,aAAa;AAAA,UACnB,OAAO,aAAa;AAAA,UACpB,SAAS,aAAa;AAAA,UACtB,KAAK,aAAa,IAAI,SAAS;AAAA,QACnC;AACA,cAAM,QAAQ,MAAM,UAAU,IAAI;AAAA,UAC9B,OAAO;AAAA,UACP,MAAM;AAAA,UACN,SAAS;AAAA,UACT;AAAA,UACA,SAAS,YAAY,WAAW;AAAA,QACpC,CAAC;AAED,YAAI,UAAU,MAAM;AAChB,kBAAQ,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,QACxC,OACK;AACD,gBAAM,OAAOA,SAAQ,QAAQ,aAAa;AAE1C,gBAAM,WAAW,MAAMG,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,KAAK,CAAC;AAEzD,gBAAM,gBAAgB,oBAAI,KAAK;AAC/B,wBAAc,QAAQ,cAAc,QAAQ,IAAI,gBAAgB,GAAI;AACpE,gBAAM,iBAAiB,aAAa,MAAM,UAAU;AAAA,YAChD,SAAS;AAAA,UACb,CAAC;AACD,kBAAQ,KAAK,GAAG,cAAc;AAAA,QAClC;AAAA,MACJ,OACK;AAED,gBAAQ,KAAK;AAAA,UACT,MAAMH,SAAQ,QAAQ,aAAa;AAAA,UACnC,OAAOM,SAAQ;AAAA,UACf,SAAS;AAAA,YACL,GAAGN,SAAQ,QAAQ,aAAa;AAAA,YAChC,SAASM,SAAQ;AAAA,UACrB;AAAA,QACJ,CAAC;AAAA,MACL;AACA,YAAM,OAAO,SAAS,EAAE,MAAM,cAAc,SAAS,gBAAgB,UAAU,CAAC;AAIhF,UAAI,aAAa,MAAM,SAAS;AAC5B,eAAO;AAAA,UACH,UAAU,GAAG,MAAM,OAAO,GAAG,MAAM,QAAQ,SAAS,GAAG,IAAI,MAAM,GAAG,GAAG,IAAI,gBAAgB,EAAE,YAAY,CAAC,CAAC;AAAA,UAC3G;AAAA,QACJ;AAAA,MACJ;AAEA,aAAO,EAAE,UAAU,aAAa,QAAQ;AAAA,IAC5C;AACA,UAAM,IAAI,gBAAgB,+BAA+B,SAAS,IAAI,oBAAoB;AAAA,EAC9F,SACOC,IAAG;AACN,QAAIA,cAAa;AACb,YAAMA;AACV,UAAM,QAAQ,IAAI,mBAAmBA,IAAG,EAAE,UAAU,SAAS,GAAG,CAAC;AACjE,IAAAH,QAAO,MAAM,gCAAgC,EAAE,QAAQ,OAAO,MAAAH,MAAK,CAAC;AACpE,UAAM;AAAA,EACV;AACJ;AACA,eAAe,iBAAiB,QAAQU,SAAQ;AAC5C,MAAI;AACJ,QAAM,EAAE,QAAAC,SAAQ,UAAAP,UAAS,IAAIM,QAAO;AACpC,MAAI;AACA,iBAAa,MAAMC,QAAO,MAAM;AAAA,EACpC,SACOL,IAAG;AACN,QAAIA,cAAa;AACb,YAAMA;AACV,UAAM,IAAI,aAAaA,EAAC;AAAA,EAC5B;AACA,MAAI,CAAC;AACD,UAAM,IAAI,aAAa,cAAc;AACzC,MAAI,OAAO,eAAe;AACtB;AACJ,SAAO,MAAMF,UAAS,EAAE,KAAK,YAAY,SAASM,QAAO,IAAI,OAAO,CAAC;AACzE;AA3XA,IAAAE,iBAAA;AAAA;AACA;AACA;AACA;AACA;AACA,IAAAC;AACA;AAAA;AAAA;;;ACHA,eAAsB,QAAQC,UAAS,cAAc,SAAS,UAAU,YAAY;AAChF,QAAM,EAAE,SAAS,KAAAC,MAAK,QAAQ,WAAW,QAAAC,SAAQ,SAAS,EAAE,UAAU,iBAAiB,QAAQ,cAAc,EAAG,IAAIF;AACpH,QAAM,WAAW;AAAA,IACb,MAAM;AAAA,IACN,SAAS,EAAE,gBAAgB,mBAAmB;AAAA,IAC9C;AAAA,EACJ;AACA,QAAM,eAAe,aAAa;AAClC,MAAI,CAAC;AACD,WAAO;AACX,MAAI,oBAAoB,OAAO;AAC3B,QAAI;AACA,YAAM,OAAOA,SAAQ,QAAQ,aAAa;AAC1C,YAAM,UAAU,MAAMC,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,cAAc,KAAK,CAAC;AACtE,UAAI,CAAC;AACD,cAAM,IAAI,MAAM,aAAa;AAEjC,YAAM,QAAQ,MAAM,UAAU,IAAI;AAAA,QAC9B,OAAO;AAAA,QACP,GAAI,YAAY,EAAE,SAAS,SAAS;AAAA,QACpC,SAAS;AAAA,MACb,CAAC;AACD,YAAM,aAAa,SAAS,aAAa;AACzC,UAAI,UAAU,MAAM;AAGhB,cAAME,WAAU;AAAA,UACZ,MAAM,EAAE,MAAM,MAAM,MAAM,OAAO,MAAM,OAAO,OAAO,MAAM,QAAQ;AAAA,UACnE,SAAS,WAAW,YAAY;AAAA,QACpC;AAEA,cAAMC,cAAa,MAAM,UAAU,QAAQ,EAAE,SAAAD,UAAS,MAAM,CAAC;AAE7D,iBAAS,OAAOC;AAEhB,cAAM,WAAW,MAAMH,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,KAAK,CAAC;AAEzD,cAAM,iBAAiB,aAAa,MAAM,UAAU;AAAA,UAChD,SAAS;AAAA,QACb,CAAC;AACD,iBAAS,SAAS,KAAK,GAAG,cAAc;AACxC,cAAM,OAAO,UAAU,EAAE,SAASG,aAAY,MAAM,CAAC;AAAA,MACzD,OACK;AACD,iBAAS,SAAS,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,MAClD;AAAA,IACJ,SACOC,IAAG;AACN,MAAAH,QAAO,MAAM,IAAI,gBAAgBG,EAAC,CAAC;AAEnC,eAAS,SAAS,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,IAClD;AACA,WAAO;AAAA,EACX;AAEA,MAAI;AACA,UAAM,EAAE,mBAAmB,eAAe,cAAc,IAAI;AAC5D,QAAI,iBAAiB,MAAM,kBAAkB,YAAY;AAEzD,QAAI,kBACA,eAAe,QAAQ,QAAQ,QAAQ,IAAI,KAAK,IAAI,GAAG;AACvD,YAAM,cAAc,YAAY;AAChC,uBAAiB;AAAA,IACrB;AACA,QAAI,gBAAgB;AAChB,YAAM,EAAE,MAAM,SAAAF,SAAQ,IAAI;AAC1B,YAAM,mBAAmBH,SAAQ,QAAQ;AAIzC,YAAM,8BAA8BG,SAAQ,QAAQ,QAAQ,IACxD,gBAAgB,MAChB,mBAAmB;AACvB,YAAM,aAAa,SAAS,aAAa;AAGzC,UAAI,+BAA+B,KAAK,IAAI,GAAG;AAC3C,cAAM,cAAc;AAAA,UAChB;AAAA,UACA,SAAS;AAAA,QACb,CAAC;AAAA,MACL;AAEA,YAAM,iBAAiB,MAAM,UAAU,QAAQ;AAAA;AAAA;AAAA;AAAA,QAI3C,SAAS,EAAE,GAAGA,UAAS,KAAK;AAAA,QAC5B;AAAA,QACA;AAAA,QACA,GAAI,WAAW,EAAE,SAAS,SAAS,IAAI,CAAC;AAAA,MAC5C,CAAC;AAED,eAAS,OAAO;AAEhB,eAAS,SAAS,KAAK;AAAA,QACnB,MAAMH,SAAQ,QAAQ,aAAa;AAAA,QACnC,OAAO;AAAA,QACP,SAAS;AAAA,UACL,GAAGA,SAAQ,QAAQ,aAAa;AAAA,UAChC,SAAS;AAAA,QACb;AAAA,MACJ,CAAC;AAED,YAAM,OAAO,UAAU,EAAE,SAAS,eAAe,CAAC;AAAA,IACtD,WACS,cAAc;AAGnB,eAAS,SAAS,KAAK,GAAG,aAAa,MAAM,CAAC;AAAA,IAClD;AAAA,EACJ,SACOK,IAAG;AACN,IAAAH,QAAO,MAAM,IAAI,kBAAkBG,EAAC,CAAC;AAAA,EACzC;AACA,SAAO;AACX;AAvHA;AAAA;AAAA;AACA;AAAA;AAAA;;;ACMA,eAAsB,oBAAoB,OAAOC,UAAS;AACtD,QAAM,EAAE,QAAAC,SAAQ,SAAS,IAAID;AAC7B,MAAI,MAAM,SAAS,eAAe;AAClC,MAAI;AAEJ,MAAI,CAAC,OAAO,IAAI,SAAS,cAAc;AAInC,UAAM,SAAS,IAAI,IAAI,SAAS,MAAM;AACtC,UAAM,oBAAoB,MAAQ,iBAAiB,MAAM;AACzD,UAAME,MAAK,MAAQ,yBAAyB,QAAQ,iBAAiB;AACrE,QAAI,CAACA,IAAG,wBAAwB;AAC5B,YAAM,IAAI,UAAU,iEAAiE;AAAA,IACzF;AACA,UAAM,IAAI,IAAIA,IAAG,sBAAsB;AAAA,EAC3C;AACA,QAAM,aAAa,IAAI;AACvB,MAAI,eAAe,SAAS;AAC5B,MAAI;AACJ,MAAI,CAACF,SAAQ,qBAAqB,SAAS,kBAAkB;AACzD,mBAAe,SAAS;AACxB,WAAO,EAAE,QAAQ,SAAS,YAAY;AACtC,IAAAC,QAAO,MAAM,wBAAwB,EAAE,cAAc,KAAK,CAAC;AAAA,EAC/D;AACA,QAAM,SAAS,OAAO,OAAO;AAAA,IACzB,eAAe;AAAA;AAAA,IAEf,WAAW,SAAS;AAAA,IACpB;AAAA;AAAA,IAEA,GAAG,SAAS,eAAe;AAAA,EAC/B,GAAG,OAAO,YAAY,SAAS,eAAe,IAAI,gBAAgB,CAAC,CAAC,GAAG,KAAK;AAC5E,aAAWE,MAAK;AACZ,eAAW,IAAIA,IAAG,OAAOA,EAAC,CAAC;AAC/B,QAAM,UAAU,CAAC;AACjB,QAAMC,SAAQ,MAAa,MAAM,OAAOJ,UAAS,IAAI;AACrD,MAAII,QAAO;AACP,eAAW,IAAI,SAASA,OAAM,KAAK;AACnC,YAAQ,KAAKA,OAAM,MAAM;AAAA,EAC7B;AACA,MAAI,SAAS,QAAQ,SAAS,MAAM,GAAG;AACnC,QAAI,MAAM,CAAC,GAAG,kCAAkC,SAAS,MAAM,GAAG;AAG9D,UAAI,SAAS,SAAS;AAClB,iBAAS,SAAS,CAAC,OAAO;AAAA,IAClC,OACK;AACD,YAAM,EAAE,OAAO,OAAO,IAAI,MAAa,KAAK,OAAOJ,QAAO;AAC1D,iBAAW,IAAI,kBAAkB,KAAK;AACtC,iBAAW,IAAI,yBAAyB,MAAM;AAC9C,cAAQ,KAAK,MAAM;AAAA,IACvB;AAAA,EACJ;AACA,QAAMK,SAAQ,MAAa,MAAM,OAAOL,QAAO;AAC/C,MAAIK,QAAO;AACP,eAAW,IAAI,SAASA,OAAM,KAAK;AACnC,YAAQ,KAAKA,OAAM,MAAM;AAAA,EAC7B;AAGA,MAAI,SAAS,SAAS,UAAU,CAAC,IAAI,aAAa,IAAI,OAAO,GAAG;AAC5D,QAAI,aAAa,IAAI,SAAS,sBAAsB;AAAA,EACxD;AACA,EAAAJ,QAAO,MAAM,8BAA8B,EAAE,KAAK,SAAS,SAAS,CAAC;AACrE,SAAO,EAAE,UAAU,IAAI,SAAS,GAAG,QAAQ;AAC/C;AA1EA;AAAA;AAAA;AACA;AAAA;AAAA;;;ACMA,eAAsB,UAAU,SAASK,UAAS;AAC9C,QAAM,EAAE,MAAAC,MAAK,IAAI;AACjB,QAAM,EAAE,UAAU,WAAW,QAAQ,IAAID;AACzC,QAAM,aAAa,SAAS,uBAAuB;AACnD,QAAM,QAAQ,WAAWC,OAAM,KAAK;AACpC,QAAM,cAAc,EAAE,IAAI,OAAO,WAAW,GAAG,OAAO,eAAe,KAAK;AAC1E,QAAM,OAAQ,MAAM,QAAQ,eAAe,KAAK,KAAM;AACtD,QAAM,UAAU;AAAA,IACZ,mBAAmB;AAAA,IACnB,QAAQ,KAAK;AAAA,IACb,MAAM;AAAA,IACN,UAAU,SAAS;AAAA,EACvB;AACA,MAAI;AACJ,MAAI;AACA,iBAAa,MAAM,UAAU,OAAO;AAAA,MAChC;AAAA,MACA;AAAA,MACA,OAAO,EAAE,qBAAqB,KAAK;AAAA,IACvC,CAAC;AAAA,EACL,SACOC,IAAG;AACN,UAAM,IAAI,aAAaA,EAAC;AAAA,EAC5B;AACA,MAAI,CAAC;AACD,UAAM,IAAI,aAAa,cAAc;AACzC,MAAI,OAAO,eAAe,UAAU;AAChC,WAAO;AAAA,MACH,UAAU,MAAM,UAAU,SAAS;AAAA,QAC/B,KAAK;AAAA,QACL,SAASF,SAAQ,IAAI;AAAA,MACzB,CAAC;AAAA,IACL;AAAA,EACJ;AACA,QAAM,EAAE,aAAa,MAAM,IAAIA;AAC/B,QAAM,QAAS,MAAM,SAAS,4BAA4B,KAAM,aAAa,EAAE;AAC/E,QAAM,qBAAqB;AAC3B,QAAM,UAAU,IAAI,KAAK,KAAK,IAAI,KAAK,SAAS,UAAU,sBAAsB,GAAI;AACpF,QAAM,SAAS,SAAS,UAAUA,SAAQ;AAC1C,QAAM,UAAU,IAAI,IAAIA,SAAQ,UAAUA,SAAQ,IAAI,MAAM;AAC5D,QAAM,cAAc,SAAS,wBAAwB;AAAA,IACjD,YAAY;AAAA,IACZ;AAAA,IACA;AAAA,IACA,KAAK,GAAG,OAAO,aAAa,SAAS,EAAE,IAAI,IAAI,gBAAgB;AAAA,MAC3D;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAC,CAAC;AAAA,IACF;AAAA,IACA;AAAA,IACA,SAAS,UAAU,OAAO;AAAA,EAC9B,CAAC;AACD,QAAM,cAAc,QAAQ,0BAA0B;AAAA,IAClD,YAAY;AAAA,IACZ,OAAO,MAAM,WAAW,GAAG,KAAK,GAAG,MAAM,EAAE;AAAA,IAC3C;AAAA,EACJ,CAAC;AACD,QAAM,QAAQ,IAAI,CAAC,aAAa,WAAW,CAAC;AAC5C,SAAO;AAAA,IACH,UAAU,GAAG,OAAO,mBAAmB,IAAI,gBAAgB;AAAA,MACvD,UAAU,SAAS;AAAA,MACnB,MAAM,SAAS;AAAA,IACnB,CAAC,CAAC;AAAA,EACN;AACJ;AACA,SAAS,kBAAkB,OAAO;AAC9B,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,kCAAkC;AAGtD,MAAI,CAAC,OAAO,MAAM,IAAI,MAAM,YAAY,EAAE,KAAK,EAAE,MAAM,GAAG;AAG1D,WAAS,OAAO,MAAM,GAAG,EAAE,CAAC;AAC5B,SAAO,GAAG,KAAK,IAAI,MAAM;AAC7B;AAnFA;AAAA;AAAA,IAAAG;AACA;AAAA;AAAA;;;ACCA,eAAsB,OAAO,SAAS,SAASC,UAAS;AACpD,QAAM,YAAY,GAAGA,SAAQ,IAAI,MAAM,GAAGA,SAAQ,QAAQ;AAC1D,MAAI,CAACA,SAAQ;AACT,WAAO,EAAE,UAAU,WAAW,QAAQ;AAC1C,UAAQA,SAAQ,SAAS,MAAM;AAAA,IAC3B,KAAK;AAAA,IACL,KAAK,QAAQ;AACT,YAAM,EAAE,UAAAC,WAAU,SAAS,YAAY,IAAI,MAAM,oBAAoB,QAAQ,OAAOD,QAAO;AAC3F,UAAI;AACA,gBAAQ,KAAK,GAAG,WAAW;AAC/B,aAAO,EAAE,UAAAC,WAAU,QAAQ;AAAA,IAC/B;AAAA,IACA,KAAK,SAAS;AACV,YAAM,WAAW,MAAM,UAAU,SAASD,QAAO;AACjD,aAAO,EAAE,GAAG,UAAU,QAAQ;AAAA,IAClC;AAAA,IACA;AACI,aAAO,EAAE,UAAU,WAAW,QAAQ;AAAA,EAC9C;AACJ;AArBA,IAAAE,eAAA;AAAA;AAAA;AACA;AAAA;AAAA;;;ACOA,eAAsB,QAAQ,SAAS,cAAcC,UAAS;AAC1D,QAAM,EAAE,KAAAC,MAAK,QAAQ,aAAaC,WAAU,QAAAC,SAAQ,SAAAC,SAAQ,IAAIJ;AAChE,QAAM,eAAe,aAAa;AAClC,MAAI,CAAC;AACD,WAAO,EAAE,UAAAE,WAAU,QAAQ;AAC/B,MAAI;AACA,QAAIE,SAAQ,aAAa,OAAO;AAC5B,YAAM,OAAOJ,SAAQ,QAAQ,aAAa;AAC1C,YAAM,QAAQ,MAAMC,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,cAAc,KAAK,CAAC;AACpE,YAAM,OAAO,UAAU,EAAE,MAAM,CAAC;AAAA,IACpC,OACK;AACD,YAAMG,WAAU,MAAMJ,SAAQ,SAAS,cAAc,YAAY;AACjE,YAAM,OAAO,UAAU,EAAE,SAAAI,SAAQ,CAAC;AAAA,IACtC;AAAA,EACJ,SACOC,IAAG;AACN,IAAAF,QAAO,MAAM,IAAI,aAAaE,EAAC,CAAC;AAAA,EACpC;AACA,UAAQ,KAAK,GAAG,aAAa,MAAM,CAAC;AACpC,SAAO,EAAE,UAAAH,WAAU,QAAQ;AAC/B;AA7BA,IAAAI,gBAAA;AAAA;AAAA;AAAA;AAAA;;;ACGA,eAAsB,gBAAgBC,UAAS,cAAc;AACzD,QAAM,EAAE,SAAS,KAAAC,MAAK,SAAS,EAAE,UAAU,gBAAgB,EAAG,IAAID;AAClE,QAAM,eAAe,aAAa;AAClC,MAAI,CAAC;AACD,WAAO;AAEX,MAAI,oBAAoB,OAAO;AAC3B,UAAM,OAAOA,SAAQ,QAAQ,aAAa;AAC1C,UAAM,UAAU,MAAMC,KAAI,OAAO,EAAE,GAAGA,MAAK,OAAO,cAAc,KAAK,CAAC;AACtE,QAAI,WAAW,QAAQ,KAAK;AACxB,aAAO;AAAA,QACH,IAAI,QAAQ;AAAA,QACZ,MAAM,QAAQ;AAAA,QACd,OAAO,QAAQ;AAAA,QACf,OAAO,QAAQ;AAAA,MACnB;AAAA,IACJ;AAAA,EACJ,OACK;AACD,UAAM,iBAAiB,MAAM,SAAS,kBAAkB,YAAY;AACpE,QAAI,gBAAgB;AAChB,aAAO,eAAe;AAAA,IAC1B;AAAA,EACJ;AACA,SAAO;AACX;AA5BA,IAAAC,gBAAA;AAAA;AAAA;AAAA;;;ACMA,eAAsB,gBAAgB,SAASC,UAAS,cAAc,SAAS;AAG3E,QAAM,gBAAgB,8BAA8BA,QAAO;AAC3D,QAAM,EAAE,SAAS,IAAI;AAErB,QAAM,EAAE,OAAO,IAAK,QAAQ,SAAS,CAAC;AAEtC,MAAI,WAAW,cAAc,WAAW,kBAAkB,OAAO,WAAW,aAAa;AACrF,WAAO;AAAA,MACH,QAAQ;AAAA,MACR,MAAM,EAAE,OAAO,iBAAiB;AAAA,MAChC;AAAA,MACA,SAAS;AAAA,QACL,gBAAgB;AAAA,MACpB;AAAA,IACJ;AAAA,EACJ;AAEA,QAAM,cAAc,MAAM,gBAAgBA,UAAS,YAAY;AAG/D,QAAM,sBAAsB,cAAc;AAAA,IACtC,MAAM;AAAA,IACN,QAAQ;AAAA,EACZ,IAAI,MAAM,SAAS,YAAYA,UAAS,OAAO;AAC/C,QAAM,WAAW,qBAAqB;AAEtC,QAAM,WAAW,qBAAqB,QAAQ,CAAC,CAAC,aAAa,mBAAmB;AAChF,UAAQ,UAAU;AAAA,IACd,KAAK;AACD,aAAO,0BAA0B,eAAe,SAAS,UAAU,OAAO;AAAA,IAC9E,KAAK;AACD,UAAI,OAAO,UAAU,UAAU,UAAU;AACrC,eAAO,wBAAwB,eAAe,SAAS,UAAU,OAAO;AAAA,MAC5E;AAAA,IACJ;AACI,aAAO;AAAA,QACH,QAAQ;AAAA,QACR,MAAM,EAAE,OAAO,kBAAkB;AAAA,QACjC;AAAA,QACA,SAAS;AAAA,UACL,gBAAgB;AAAA,QACpB;AAAA,MACJ;AAAA,EACR;AACJ;AApDA;AAAA;AAAA,IAAAC;AACA;AAAA;AAAA;;;ACDA,IAAAC,gBAAA;AAAA;AAAA,IAAAC;AACA;AACA,IAAAC;AACA,IAAAC;AACA;AAAA;AAAA;;;ACGA,eAAsB,aAAa,SAAS,aAAa;AACrD,QAAM,EAAE,QAAQ,YAAY,OAAO,OAAO,IAAI;AAC9C,QAAM,eAAe,YAAY,kBAAkB;AACnD,QAAM,EAAE,SAAAC,UAAS,QAAQ,IAAI,MAAM,KAAK;AAAA,IACpC;AAAA,IACA;AAAA,IACA;AAAA,IACA,KAAK,QAAQ;AAAA,IACb,aAAa,QAAQ,MAAM,eAAe,QAAQ,OAAO;AAAA,IACzD,WAAW,QAAQ,MAAM;AAAA,IACzB,SAAS,QAAQ;AAAA,IACjB,QAAQ,WAAW;AAAA,IACnB;AAAA,EACJ,CAAC;AACD,QAAM,eAAe,IAAI,aAAaA,SAAQ,QAAQ,cAAc,QAAQ,SAASA,SAAQ,MAAM;AACnG,MAAI,WAAW,OAAO;AAClB,UAAM,SAAS,WAAW,EAAE,GAAGA,UAAS,OAAO,QAAQ,OAAO,QAAQ,CAAC;AACvE,YAAQ,QAAQ;AAAA,MACZ,KAAK;AACD,eAAO,MAAc,SAAS,SAASA,UAAS,cAAc,OAAO;AAAA,MACzE,KAAK;AACD,eAAO,OAAO,KAAK,cAAcA,UAAS,OAAO;AAAA,MACrD,KAAK;AACD,eAAO,OAAO,MAAM,KAAK;AAAA,MAC7B,KAAK;AACD,eAAO,OAAO,UAAUA,SAAQ,SAAS;AAAA,MAC7C,KAAK;AACD,eAAO,MAAc,QAAQA,UAAS,cAAc,OAAO;AAAA,MAC/D,KAAK;AACD,eAAO,OAAO,OAAO,YAAY,KAAK;AAAA,MAC1C,KAAK;AACD,eAAO,OAAO,QAAQ;AAAA,MAC1B,KAAK;AACD,eAAO,OAAO,cAAc;AAAA,MAChC,KAAK;AACD,eAAO,MAAc,gBAAgB,SAASA,UAAS,cAAc,OAAO;AAAA,MAChF;AAAA,IACJ;AAAA,EACJ,OACK;AACD,UAAM,EAAE,kBAAkB,IAAIA;AAC9B,YAAQ,QAAQ;AAAA,MACZ,KAAK;AACD,YAAIA,SAAQ,SAAS,SAAS;AAE1B,uBAAa,QAAQ,iBAAiB;AAC1C,eAAO,MAAc,SAAS,SAASA,UAAS,cAAc,OAAO;AAAA,MACzE,KAAK;AACD,qBAAa,QAAQ,iBAAiB;AACtC,eAAO,MAAc,QAAQA,UAAS,cAAc,SAAS,MAAM,QAAQ,MAAM,IAAI;AAAA,MACzF,KAAK;AACD,qBAAa,QAAQ,iBAAiB;AACtC,eAAO,MAAc,OAAO,SAAS,SAASA,QAAO;AAAA,MACzD,KAAK;AACD,qBAAa,QAAQ,iBAAiB;AACtC,eAAO,MAAc,QAAQ,SAAS,cAAcA,QAAO;AAAA,MAC/D;AAAA,IACJ;AAAA,EACJ;AACA,QAAM,IAAI,cAAc,yBAAyB,MAAM,EAAE;AAC7D;AAnEA,IA6Ea,eAUA;AAvFb;AAAA;AAAA;AACA;AACA;AACA;AACA,IAAAC;AACA;AAwEO,IAAM,gBAAgB,OAAO,iBAAiB;AAU9C,IAAM,MAAM,OAAO,iBAAiB;AAAA;AAAA;;;ACtFpC,SAAS,eAAe,WAAWC,SAAQ;AAC9C,MAAI;AACA,UAAM,MAAM,UAAU;AACtB,QAAI,OAAO,CAACA,QAAO;AACf,MAAAA,QAAO,WAAW,IAAI,IAAI,GAAG,EAAE;AAAA,EACvC,QACM;AAAA,EACN,UACA;AACI,IAAAA,QAAO,aAAaA,QAAO,WAAW;AAAA,EAC1C;AACA,MAAI,CAACA,QAAO,QAAQ,QAAQ;AACxB,IAAAA,QAAO,SAAS,CAAC;AACjB,UAAM,SAAS,UAAU;AACzB,QAAI;AACA,MAAAA,QAAO,OAAO,KAAK,MAAM;AAC7B,eAAWC,MAAK,CAAC,GAAG,GAAG,CAAC,GAAG;AACvB,YAAMC,UAAS,UAAU,eAAeD,EAAC,EAAE;AAC3C,UAAIC;AACA,QAAAF,QAAO,OAAO,QAAQE,OAAM;AAAA,IACpC;AAAA,EACJ;AACA,EAAAF,QAAO,qBAAqBA,QAAO,mBAAmB,UAAU;AAChE,EAAAA,QAAO,cAAcA,QAAO,YAAY,CAAC,EAAE,UAAU,YACjD,UAAU,mBACV,UAAU,UACV,UAAU,YACV,UAAU,aAAa;AAC3B,EAAAA,QAAO,YAAYA,QAAO,UAAU,IAAI,CAACG,OAAM;AAC3C,UAAM,gBAAgB,OAAOA,OAAM,aAAaA,GAAE,CAAC,CAAC,IAAIA;AACxD,UAAM,KAAK,cAAc,GAAG,YAAY;AACxC,QAAI,cAAc,SAAS,WAAW,cAAc,SAAS,QAAQ;AACjE,oBAAc,aAAa,cAAc,WAAW,UAAU,QAAQ,EAAE,KAAK;AAC7E,oBAAc,iBAAiB,cAAc,eAAe,UAAU,QAAQ,EAAE,SAAS;AACzF,UAAI,cAAc,SAAS,QAAQ;AAC/B,sBAAc,WAAW,cAAc,SAAS,UAAU,QAAQ,EAAE,SAAS;AAAA,MACjF;AAAA,IACJ,WACS,cAAc,SAAS,SAAS;AACrC,oBAAc,WAAW,cAAc,SAAS,UAAU,QAAQ,EAAE,MAAM;AAAA,IAC9E;AACA,WAAO;AAAA,EACX,CAAC;AACL;AA5CA;AAAA;AAAA;AAAA;;;ACgEA,eAAsB,KAAK,SAASC,SAAQ;AACxC,YAAUA,QAAO,QAAQA,QAAO,KAAK;AACrC,QAAM,kBAAkB,MAAM,kBAAkB,SAASA,OAAM;AAE/D,MAAI,CAAC;AACD,WAAO,SAAS,KAAK,gBAAgB,EAAE,QAAQ,IAAI,CAAC;AACxD,QAAM,kBAAkB,aAAa,iBAAiBA,OAAM;AAC5D,MAAI,MAAM,QAAQ,eAAe,GAAG;AAChC,oBAAgB,QAAQ,OAAO,IAAI;AAAA,EACvC,WACS,iBAAiB;AAEtB,WAAO,MAAM,eAAe;AAC5B,UAAM,YAAY,oBAAI,IAAI;AAAA,MACtB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ,CAAC;AACD,QAAI,CAAC,UAAU,IAAI,gBAAgB,MAAM,KACrC,gBAAgB,WAAW,OAAO;AAClC,YAAMC,WAAU;AAChB,aAAO,SAAS,KAAK,EAAE,SAAAA,SAAQ,GAAG,EAAE,QAAQ,IAAI,CAAC;AAAA,IACrD;AACA,UAAM,EAAE,OAAO,MAAM,IAAID;AAGzB,UAAM,kBAAkB,OAAO,SAC3B,gBAAgB,IAAI,aACf,IAAI,aAAa,GAChB,WAAW,MAAM,KAAK;AAEhC,QAAI,CAAC,OAAO,SAAS,iBAAiB;AAClC,UAAI,iBAAiB;AACjB,eAAO,MAAM,IAAI,cAAc,kBAAkB,OAAO,KAAK,oCAAoC,CAAC;AAAA,MACtG;AACA,YAAME,QAAO,WAAW,EAAE,MAAM,CAAC,EAAE,MAAM,eAAe;AACxD,aAAO,WAAWA,KAAI;AAAA,IAC1B;AACA,WAAO,SAAS,SAAS,GAAG,MAAM,KAAK,sBAAsB;AAAA,EACjE;AACA,QAAM,aAAa,QAAQ,SAAS,IAAI,wBAAwB;AAChE,QAAM,QAAQF,QAAO,QAAQ;AAC7B,MAAI;AACA,UAAM,mBAAmB,MAAM,aAAa,iBAAiBA,OAAM;AACnE,QAAI;AACA,aAAO;AACX,UAAM,WAAW,WAAW,gBAAgB;AAC5C,UAAM,MAAM,SAAS,QAAQ,IAAI,UAAU;AAC3C,QAAI,CAAC,cAAc,CAAC;AAChB,aAAO;AACX,WAAO,SAAS,KAAK,EAAE,IAAI,GAAG,EAAE,SAAS,SAAS,QAAQ,CAAC;AAAA,EAC/D,SACOG,IAAG;AACN,UAAM,QAAQA;AACd,WAAO,MAAM,KAAK;AAClB,UAAM,cAAc,iBAAiB;AACrC,QAAI,eAAe,SAAS,CAAC;AACzB,YAAM;AAGV,QAAI,QAAQ,WAAW,UAAU,gBAAgB,WAAW;AACxD,aAAO,SAAS,KAAK,MAAM,EAAE,QAAQ,IAAI,CAAC;AAC9C,UAAM,wBAAwB,cAAc,KAAK;AACjD,UAAM,OAAO,wBAAwB,MAAM,OAAO;AAClD,UAAM,SAAS,IAAI,gBAAgB,EAAE,OAAO,KAAK,CAAC;AAClD,QAAI,iBAAiB;AACjB,aAAO,IAAI,QAAQ,MAAM,IAAI;AACjC,UAAM,WAAY,eAAe,MAAM,QAAS;AAChD,UAAM,WAAWH,QAAO,QAAQ,QAAQ,KAAK,IAAI,SAAS,YAAY,CAAC;AACvE,UAAM,MAAM,GAAG,gBAAgB,IAAI,MAAM,GAAGA,QAAO,QAAQ,GAAG,QAAQ,IAAI,MAAM;AAChF,QAAI;AACA,aAAO,SAAS,KAAK,EAAE,IAAI,CAAC;AAChC,WAAO,SAAS,SAAS,GAAG;AAAA,EAChC;AACJ;AA3IA;AAAA;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAI;AACA;AAAA;AAAA;;;ACOA,SAAS,SAAS,QAAQ,UAAU;AAClC,MAAI,MAAM,MAAM,KAAK,SAAS,OAAO,SAAS,KAAK;AACjD,UAAM,IAAI,MAAM,qBAAqB;AAAA,EACvC;AACA,QAAM,IAAI;AAAA;AAAA,IAER;AAAA,IACA,SAAS,SAAS;AAAA,EACpB;AACF;AACA,SAAS,KAAK,MAAMC,OAAM;AACxB,QAAMC,QAAO,KAAK,UAAU,IAAI;AAChC,QAAMC,WAAU,IAAI,QAAQF,OAAM,OAAO;AACzC,MAAI,CAACE,SAAQ,IAAI,gBAAgB,GAAG;AAClC,IAAAA,SAAQ,IAAI,kBAAkBC,SAAQ,OAAOF,KAAI,EAAE,WAAW,SAAS,CAAC;AAAA,EAC1E;AACA,MAAI,CAACC,SAAQ,IAAI,cAAc,GAAG;AAChC,IAAAA,SAAQ,IAAI,gBAAgB,kBAAkB;AAAA,EAChD;AACA,SAAO,IAAI,SAASD,OAAM;AAAA,IACxB,GAAGD;AAAA,IACH,SAAAE;AAAA,EACF,CAAC;AACH;AAEA,SAAS,KAAKD,OAAMD,OAAM;AACxB,QAAME,WAAU,IAAI,QAAQF,OAAM,OAAO;AACzC,MAAI,CAACE,SAAQ,IAAI,gBAAgB,GAAG;AAClC,UAAM,UAAUC,SAAQ,OAAOF,KAAI;AACnC,IAAAC,SAAQ,IAAI,kBAAkB,QAAQ,WAAW,SAAS,CAAC;AAC3D,WAAO,IAAI,SAAS,SAAS;AAAA,MAC3B,GAAGF;AAAA,MACH,SAAAE;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO,IAAI,SAASD,OAAM;AAAA,IACxB,GAAGD;AAAA,IACH,SAAAE;AAAA,EACF,CAAC;AACH;AACA,SAAS,KAAK,QAAQ,MAAM;AAC1B,SAAO,IAAI,cAAc,QAAQ,IAAI;AACvC;AA7FA,IAAM,WAmBA,UAUA,gBAYA,eAkCAC;AA3EN;AAAA;AAAA,IAAM,YAAN,MAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,MAKd,YAAY,QAAQF,OAAM;AACxB,aAAK,SAAS;AACd,YAAI,OAAOA,UAAS,UAAU;AAC5B,eAAK,OAAO,EAAE,SAASA,MAAK;AAAA,QAC9B,WAAWA,OAAM;AACf,eAAK,OAAOA;AAAA,QACd,OAAO;AACL,eAAK,OAAO,EAAE,SAAS,UAAU,MAAM,GAAG;AAAA,QAC5C;AAAA,MACF;AAAA,MACA,WAAW;AACT,eAAO,KAAK,UAAU,KAAK,IAAI;AAAA,MACjC;AAAA,IACF;AACA,IAAM,WAAN,MAAe;AAAA;AAAA;AAAA;AAAA;AAAA,MAKb,YAAY,QAAQ,UAAU;AAC5B,aAAK,SAAS;AACd,aAAK,WAAW;AAAA,MAClB;AAAA,IACF;AACA,IAAM,iBAAN,cAA6B,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMjC,YAAY,QAAQ,OAAOG,UAAS;AAClC,cAAMA,QAAO;AACb,aAAK,SAAS;AACd,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AACA,IAAM,gBAAN,MAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,MAKlB,YAAY,QAAQ,MAAM;AACxB,aAAK,SAAS;AACd,aAAK,OAAO;AAAA,MACd;AAAA,IACF;AAyBA,IAAMD,WAAU,IAAI,YAAY;AAAA;AAAA;;;AC3EhC;AAAA;AAAA;AAEA,QAAI,sBAAsB;AAAA,MACxB,cAAc;AAAA,MACd,KAAK;AAAA,MACL,QAAQ;AAAA,IACV;AAEA,aAAS,iBAAiB,KAAK;AAC7B,aAAO,OAAO,QAAQ,YAAY,CAAC,CAAC,IAAI,KAAK;AAAA,IAC/C;AAEA,aAASE,aAAY,gBAAgBC,UAAS;AAC5C,UAAI,QAAQ,eAAe,MAAM,GAAG,EAAE,OAAO,gBAAgB;AAE7D,UAAI,mBAAmB,MAAM,MAAM;AACnC,UAAI,SAAS,mBAAmB,gBAAgB;AAChD,UAAI,OAAO,OAAO;AAClB,UAAI,QAAQ,OAAO;AAEnB,MAAAA,WAAUA,WACN,OAAO,OAAO,CAAC,GAAG,qBAAqBA,QAAO,IAC9C;AAEJ,UAAI;AACF,gBAAQA,SAAQ,eAAe,mBAAmB,KAAK,IAAI;AAAA,MAC7D,SAASC,IAAG;AACV,gBAAQ;AAAA,UACN,gFACE,QACA;AAAA,UACFA;AAAA,QACF;AAAA,MACF;AAEA,UAAI,SAAS;AAAA,QACX;AAAA,QACA;AAAA,MACF;AAEA,YAAM,QAAQ,SAAU,MAAM;AAC5B,YAAI,QAAQ,KAAK,MAAM,GAAG;AAC1B,YAAIC,OAAM,MAAM,MAAM,EAAE,SAAS,EAAE,YAAY;AAC/C,YAAIC,SAAQ,MAAM,KAAK,GAAG;AAC1B,YAAID,SAAQ,WAAW;AACrB,iBAAO,UAAU,IAAI,KAAKC,MAAK;AAAA,QACjC,WAAWD,SAAQ,WAAW;AAC5B,iBAAO,SAAS,SAASC,QAAO,EAAE;AAAA,QACpC,WAAWD,SAAQ,UAAU;AAC3B,iBAAO,SAAS;AAAA,QAClB,WAAWA,SAAQ,YAAY;AAC7B,iBAAO,WAAW;AAAA,QACpB,WAAWA,SAAQ,YAAY;AAC7B,iBAAO,WAAWC;AAAA,QACpB,OAAO;AACL,iBAAOD,IAAG,IAAIC;AAAA,QAChB;AAAA,MACF,CAAC;AAED,aAAO;AAAA,IACT;AAEA,aAAS,mBAAmB,kBAAkB;AAG5C,UAAI,OAAO;AACX,UAAI,QAAQ;AACZ,UAAI,eAAe,iBAAiB,MAAM,GAAG;AAC7C,UAAI,aAAa,SAAS,GAAG;AAC3B,eAAO,aAAa,MAAM;AAC1B,gBAAQ,aAAa,KAAK,GAAG;AAAA,MAC/B,OAAO;AACL,gBAAQ;AAAA,MACV;AAEA,aAAO,EAAE,MAAY,MAAa;AAAA,IACpC;AAEA,aAASC,OAAM,OAAOJ,UAAS;AAC7B,MAAAA,WAAUA,WACN,OAAO,OAAO,CAAC,GAAG,qBAAqBA,QAAO,IAC9C;AAEJ,UAAI,CAAC,OAAO;AACV,YAAI,CAACA,SAAQ,KAAK;AAChB,iBAAO,CAAC;AAAA,QACV,OAAO;AACL,iBAAO,CAAC;AAAA,QACV;AAAA,MACF;AAEA,UAAI,MAAM,SAAS;AACjB,YAAI,OAAO,MAAM,QAAQ,iBAAiB,YAAY;AAGpD,kBAAQ,MAAM,QAAQ,aAAa;AAAA,QACrC,WAAW,MAAM,QAAQ,YAAY,GAAG;AAEtC,kBAAQ,MAAM,QAAQ,YAAY;AAAA,QACpC,OAAO;AAEL,cAAI,MACF,MAAM,QACJ,OAAO,KAAK,MAAM,OAAO,EAAE,KAAK,SAAUE,MAAK;AAC7C,mBAAOA,KAAI,YAAY,MAAM;AAAA,UAC/B,CAAC,CACH;AAEF,cAAI,CAAC,OAAO,MAAM,QAAQ,UAAU,CAACF,SAAQ,QAAQ;AACnD,oBAAQ;AAAA,cACN;AAAA,YACF;AAAA,UACF;AACA,kBAAQ;AAAA,QACV;AAAA,MACF;AACA,UAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACzB,gBAAQ,CAAC,KAAK;AAAA,MAChB;AAEA,MAAAA,WAAUA,WACN,OAAO,OAAO,CAAC,GAAG,qBAAqBA,QAAO,IAC9C;AAEJ,UAAI,CAACA,SAAQ,KAAK;AAChB,eAAO,MAAM,OAAO,gBAAgB,EAAE,IAAI,SAAU,KAAK;AACvD,iBAAOD,aAAY,KAAKC,QAAO;AAAA,QACjC,CAAC;AAAA,MACH,OAAO;AACL,YAAI,UAAU,CAAC;AACf,eAAO,MAAM,OAAO,gBAAgB,EAAE,OAAO,SAAUK,UAAS,KAAK;AACnE,cAAI,SAASN,aAAY,KAAKC,QAAO;AACrC,UAAAK,SAAQ,OAAO,IAAI,IAAI;AACvB,iBAAOA;AAAA,QACT,GAAG,OAAO;AAAA,MACZ;AAAA,IACF;AAaA,aAASC,oBAAmB,eAAe;AACzC,UAAI,MAAM,QAAQ,aAAa,GAAG;AAChC,eAAO;AAAA,MACT;AACA,UAAI,OAAO,kBAAkB,UAAU;AACrC,eAAO,CAAC;AAAA,MACV;AAEA,UAAI,iBAAiB,CAAC;AACtB,UAAI,MAAM;AACV,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI;AAEJ,eAAS,iBAAiB;AACxB,eAAO,MAAM,cAAc,UAAU,KAAK,KAAK,cAAc,OAAO,GAAG,CAAC,GAAG;AACzE,iBAAO;AAAA,QACT;AACA,eAAO,MAAM,cAAc;AAAA,MAC7B;AAEA,eAAS,iBAAiB;AACxB,aAAK,cAAc,OAAO,GAAG;AAE7B,eAAO,OAAO,OAAO,OAAO,OAAO,OAAO;AAAA,MAC5C;AAEA,aAAO,MAAM,cAAc,QAAQ;AACjC,gBAAQ;AACR,gCAAwB;AAExB,eAAO,eAAe,GAAG;AACvB,eAAK,cAAc,OAAO,GAAG;AAC7B,cAAI,OAAO,KAAK;AAEd,wBAAY;AACZ,mBAAO;AAEP,2BAAe;AACf,wBAAY;AAEZ,mBAAO,MAAM,cAAc,UAAU,eAAe,GAAG;AACrD,qBAAO;AAAA,YACT;AAGA,gBAAI,MAAM,cAAc,UAAU,cAAc,OAAO,GAAG,MAAM,KAAK;AAEnE,sCAAwB;AAExB,oBAAM;AACN,6BAAe,KAAK,cAAc,UAAU,OAAO,SAAS,CAAC;AAC7D,sBAAQ;AAAA,YACV,OAAO;AAGL,oBAAM,YAAY;AAAA,YACpB;AAAA,UACF,OAAO;AACL,mBAAO;AAAA,UACT;AAAA,QACF;AAEA,YAAI,CAAC,yBAAyB,OAAO,cAAc,QAAQ;AACzD,yBAAe,KAAK,cAAc,UAAU,OAAO,cAAc,MAAM,CAAC;AAAA,QAC1E;AAAA,MACF;AAEA,aAAO;AAAA,IACT;AAEA,WAAO,UAAUF;AACjB,WAAO,QAAQ,QAAQA;AACvB,WAAO,QAAQ,cAAcL;AAC7B,WAAO,QAAQ,qBAAqBO;AAAA;AAAA;;;ACpKrB,SAAR,OAAwBC,SAAQ;AACnC,QAAM,UAAUA,SAAQ,YAAY,WAAW;AAC/C,QAAM,aAAaA,SAAQ,YAAY,UACjC,GAAGA,SAAQ,YAAY,OAAO,YAC9B;AACN,SAAO;AAAA,IACH,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,MAAM;AAAA,IACN,eAAe;AAAA,MACX,KAAK,GAAG,OAAO;AAAA,MACf,QAAQ,EAAE,OAAO,uBAAuB;AAAA,IAC5C;AAAA,IACA,OAAO,GAAG,OAAO;AAAA,IACjB,UAAU;AAAA,MACN,KAAK,GAAG,UAAU;AAAA,MAClB,MAAM,QAAQ,EAAE,QAAQ,SAAS,GAAG;AAChC,cAAM,UAAU,MAAM,MAAM,SAAS,UAAU,KAAK;AAAA,UAChD,SAAS;AAAA,YACL,eAAe,UAAU,OAAO,YAAY;AAAA,YAC5C,cAAc;AAAA,UAClB;AAAA,QACJ,CAAC,EAAE,KAAK,OAAO,QAAQ,MAAM,IAAI,KAAK,CAAC;AACvC,YAAI,CAAC,QAAQ,OAAO;AAGhB,gBAAM,MAAM,MAAM,MAAM,GAAG,UAAU,gBAAgB;AAAA,YACjD,SAAS;AAAA,cACL,eAAe,UAAU,OAAO,YAAY;AAAA,cAC5C,cAAc;AAAA,YAClB;AAAA,UACJ,CAAC;AACD,cAAI,IAAI,IAAI;AACR,kBAAM,SAAS,MAAM,IAAI,KAAK;AAC9B,oBAAQ,SAAS,OAAO,KAAK,CAACC,OAAMA,GAAE,OAAO,KAAK,OAAO,CAAC,GAAG;AAAA,UACjE;AAAA,QACJ;AACA,eAAO;AAAA,MACX;AAAA,IACJ;AAAA,IACA,QAAQ,SAAS;AACb,aAAO;AAAA,QACH,IAAI,QAAQ,GAAG,SAAS;AAAA,QACxB,MAAM,QAAQ,QAAQ,QAAQ;AAAA,QAC9B,OAAO,QAAQ;AAAA,QACf,OAAO,QAAQ;AAAA,MACnB;AAAA,IACJ;AAAA,IACA,OAAO,EAAE,MAAM,eAAe,IAAI,WAAW,MAAM,OAAO;AAAA,IAC1D,SAASD;AAAA,EACb;AACJ;AAhHA;AAAA;AAAA;AAAA;;;ACmNO,SAAS,cAAcE,SAAQ;AAClC,QAAMC,KAAID;AACV,SAAO;AAAA;AAAA,IAEH,YAAY,CAAC,EAAE,IAAI,KAAK,GAAG,KAAK,MAAM;AAClC,aAAOC,GAAE,KAAK,OAAO,EAAE,KAAK,CAAC;AAAA,IACjC;AAAA,IACA,SAAS,CAAC,OAAOA,GAAE,KAAK,WAAW,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;AAAA,IACpD,gBAAgB,CAAC,UAAUA,GAAE,KAAK,WAAW,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;AAAA,IACjE,MAAM,iBAAiB,4BAA4B;AAC/C,YAAM,UAAU,MAAMA,GAAE,QAAQ,WAAW;AAAA,QACvC,OAAO,EAAE,2BAA2B;AAAA,QACpC,QAAQ,EAAE,MAAM,KAAK;AAAA,MACzB,CAAC;AACD,aAAO,SAAS,QAAQ;AAAA,IAC5B;AAAA,IACA,YAAY,CAAC,EAAE,IAAI,GAAG,KAAK,MAAMA,GAAE,KAAK,OAAO,EAAE,OAAO,EAAE,GAAG,GAAG,KAAK,CAAC;AAAA,IACtE,YAAY,CAAC,OAAOA,GAAE,KAAK,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;AAAA,IACnD,aAAa,CAAC,SAASA,GAAE,QAAQ,OAAO,EAAE,KAAK,CAAC;AAAA,IAChD,eAAe,CAAC,+BAA+BA,GAAE,QAAQ,OAAO;AAAA,MAC5D,OAAO,EAAE,2BAA2B;AAAA,IACxC,CAAC;AAAA,IACD,MAAM,kBAAkB,cAAc;AAClC,YAAM,iBAAiB,MAAMA,GAAE,QAAQ,WAAW;AAAA,QAC9C,OAAO,EAAE,aAAa;AAAA,QACtB,SAAS,EAAE,MAAM,KAAK;AAAA,MAC1B,CAAC;AACD,UAAI,CAAC;AACD,eAAO;AACX,YAAM,EAAE,MAAM,GAAGC,SAAQ,IAAI;AAC7B,aAAO,EAAE,MAAM,SAAAA,SAAQ;AAAA,IAC3B;AAAA,IACA,eAAe,CAAC,SAASD,GAAE,QAAQ,OAAO,EAAE,KAAK,CAAC;AAAA,IAClD,eAAe,CAAC,SAASA,GAAE,QAAQ,OAAO,EAAE,OAAO,EAAE,cAAc,KAAK,aAAa,GAAG,KAAK,CAAC;AAAA,IAC9F,eAAe,CAAC,iBAAiBA,GAAE,QAAQ,OAAO,EAAE,OAAO,EAAE,aAAa,EAAE,CAAC;AAAA,IAC7E,MAAM,wBAAwB,MAAM;AAChC,YAAM,oBAAoB,MAAMA,GAAE,kBAAkB,OAAO,EAAE,KAAK,CAAC;AAEnE,UAAI,kBAAkB;AAClB,eAAO,kBAAkB;AAC7B,aAAO;AAAA,IACX;AAAA,IACA,MAAM,qBAAqB,kBAAkB;AACzC,UAAI;AACA,cAAM,oBAAoB,MAAMA,GAAE,kBAAkB,OAAO;AAAA,UACvD,OAAO,EAAE,iBAAiB;AAAA,QAC9B,CAAC;AAED,YAAI,kBAAkB;AAClB,iBAAO,kBAAkB;AAC7B,eAAO;AAAA,MACX,SACO,OAAO;AAGV,YAAI,MAAM,SAAS;AACf,iBAAO;AACX,cAAM;AAAA,MACV;AAAA,IACJ;AAAA,IACA,MAAM,WAAW,mBAAmB,UAAU;AAC1C,aAAOA,GAAE,QAAQ,UAAU;AAAA,QACvB,OAAO,EAAE,mBAAmB,SAAS;AAAA,MACzC,CAAC;AAAA,IACL;AAAA,IACA,MAAM,oBAAoB,eAAe;AACrC,aAAOA,GAAE,cACJ,OAAO;AAAA,QACR,MAAM;AAAA,MACV,CAAC,EACI,KAAK,mBAAmB;AAAA,IACjC;AAAA,IACA,MAAM,iBAAiB,cAAc;AACjC,YAAM,gBAAgB,MAAMA,GAAE,cAAc,WAAW;AAAA,QACnD,OAAO,EAAE,aAAa;AAAA,MAC1B,CAAC;AACD,aAAO,gBAAgB,oBAAoB,aAAa,IAAI;AAAA,IAChE;AAAA,IACA,MAAM,2BAA2B,QAAQ;AACrC,YAAM,iBAAiB,MAAMA,GAAE,cAAc,SAAS;AAAA,QAClD,OAAO,EAAE,OAAO;AAAA,MACpB,CAAC;AACD,aAAO,eAAe,IAAI,mBAAmB;AAAA,IACjD;AAAA,IACA,MAAM,2BAA2B,cAAc,SAAS;AACpD,aAAOA,GAAE,cACJ,OAAO;AAAA,QACR,OAAO,EAAE,aAA2B;AAAA,QACpC,MAAM,EAAE,QAAQ;AAAA,MACpB,CAAC,EACI,KAAK,mBAAmB;AAAA,IACjC;AAAA,EACJ;AACJ;AACA,SAAS,oBAAoB,eAAe;AACxC,QAAM,EAAE,YAAY,IAAI,MAAM,GAAG,MAAM,IAAI;AAC3C,SAAO;AAAA,IACH,GAAG;AAAA,IACH,YAAY,cAAc;AAAA,EAC9B;AACJ;AAvTA;AAAA;AAAA;AAAA;;;ACAA;AAAA;AAAA;AAAa,QAAI,KAAG,OAAO;AAAe,QAAI,KAAG,OAAO;AAAyB,QAAI,KAAG,OAAO;AAAoB,QAAI,KAAG,OAAO,UAAU;AAAe,QAAI,KAAG,CAACE,IAAEC,OAAI;AAAC,eAAQC,MAAKD;AAAE,WAAGD,IAAEE,IAAE,EAAC,KAAID,GAAEC,EAAC,GAAE,YAAW,KAAE,CAAC;AAAA,IAAC;AAA9D,QAAgE,KAAG,CAACF,IAAEC,IAAEC,IAAEC,OAAI;AAAC,UAAGF,MAAG,OAAOA,MAAG,YAAU,OAAOA,MAAG;AAAW,iBAAQG,MAAK,GAAGH,EAAC;AAAE,WAAC,GAAG,KAAKD,IAAEI,EAAC,KAAGA,OAAIF,MAAG,GAAGF,IAAEI,IAAE,EAAC,KAAI,MAAIH,GAAEG,EAAC,GAAE,YAAW,EAAED,KAAE,GAAGF,IAAEG,EAAC,MAAID,GAAE,WAAU,CAAC;AAAE,aAAOH;AAAA,IAAC;AAAE,QAAI,KAAG,CAAAA,OAAG,GAAG,GAAG,CAAC,GAAE,cAAa,EAAC,OAAM,KAAE,CAAC,GAAEA,EAAC;AAAE,QAAI,KAAG,CAAC;AAAE,OAAG,IAAG,EAAC,SAAQ,MAAI,IAAG,QAAO,MAAI,IAAG,YAAW,MAAI,IAAG,gBAAe,MAAI,IAAG,kBAAiB,MAAI,GAAE,CAAC;AAAE,WAAO,UAAQ,GAAG,EAAE;AAAE,QAAI,KAAG,CAAC;AAAE,OAAG,IAAG,EAAC,WAAU,MAAI,GAAE,CAAC;AAAE,aAAS,MAAMA,IAAE;AAAC,aAAO,CAAAC,OAAGA;AAAA,IAAC;AAAC,QAAI,KAAG,OAAO;AAAd,QAAgB,KAAG,oBAAI;AAAvB,QAA+B,KAAG,MAAK;AAAA,MAAC,YAAYA,IAAE;AAAC,QAAAA,OAAI,KAAG,GAAG,IAAI,MAAK,UAAU,OAAO,KAAK,SAAS,CAAC,CAAC,IAAE,GAAG,IAAI,MAAK,cAAc,OAAO,KAAK,cAAc,GAAE,GAAG,EAAE,OAAO,KAAK,SAAS,GAAE,IAAI,CAAC;AAAA,MAAC;AAAA,MAAC,WAAU;AAAC,eAAO,KAAK,YAAY;AAAA,MAAI;AAAA,MAAC,WAAU;AAAC,eAAO,GAAG,IAAI,IAAI;AAAA,MAAC;AAAA,IAAC;AAA7Q,QAA+Q,IAAE,cAAc,GAAE;AAAA,MAAC,gBAAe;AAAC,eAAM;AAAA,MAAW;AAAA,IAAC;AAApU,QAAsUI,KAAE,cAAc,EAAC;AAAA,IAAC;AAAE,OAAGA,IAAE,QAAQ;AAAE,QAAI,IAAE,cAAc,EAAC;AAAA,IAAC;AAAE,OAAG,GAAE,UAAU;AAAE,QAAI,IAAE,cAAc,EAAC;AAAA,IAAC;AAAE,OAAG,GAAE,SAAS;AAAE,QAAI,KAAG,EAAC,SAAQ,EAAC,QAAOA,IAAE,UAAS,GAAE,SAAQ,EAAC,GAAE,WAAU,EAAC,QAAO,IAAIA,GAAE,EAAE,GAAE,UAAS,IAAI,EAAE,EAAE,GAAE,SAAQ,IAAI,EAAE,EAAE,EAAC,EAAC;AAAE,aAAS,GAAGL,IAAEC,IAAE;AAAC,aAAO,eAAeD,IAAE,QAAO,EAAC,OAAMC,IAAE,cAAa,KAAE,CAAC;AAAA,IAAC;AAAC,QAAI,KAAG,oBAAI,IAAI,CAAC,UAAS,YAAW,mBAAkB,OAAO,UAAS,OAAO,aAAY,OAAO,oBAAmB,OAAO,WAAW,CAAC;AAAE,aAAS,GAAGD,IAAE;AAAC,aAAO,IAAI,MAAMA,IAAE,EAAC,IAAIC,IAAEC,IAAE;AAAC,YAAGA,MAAKD;AAAE,iBAAOA,GAAEC,EAAC;AAAE,YAAG,CAAC,GAAG,IAAIA,EAAC;AAAE,gBAAM,IAAI,UAAU,uBAAuB,OAAO,OAAOA,EAAC,CAAC,CAAC;AAAA,MAAC,EAAC,CAAC;AAAA,IAAC;AAAC,QAAI,KAAG;AAAP,QAA4B,KAAG;AAAO,aAAS,KAAI;AAAC,UAAIF,IAAEC,IAAEC;AAAE,aAAO,OAAO,WAAS,WAAS,YAAU,OAAO,eAAa,WAAS,iBAAeF,KAAE,WAAW,cAAY,OAAK,SAAOA,GAAE,eAAa,KAAG,YAAU,WAAW,OAAK,SAAO,WAAW,YAAU,YAAUE,MAAGD,KAAE,WAAW,YAAU,OAAK,SAAOA,GAAE,YAAU,OAAK,SAAOC,GAAE,UAAQ,KAAG,SAAO,WAAW,MAAI,QAAM,WAAW,SAAO,WAAS;AAAA,IAAS;AAAC,QAAI,KAAG,EAAC,MAAK,WAAU,SAAQ,sBAAqB,MAAK,wBAAuB,SAAQ,0BAAyB,cAAa,2CAA0C;AAAE,aAAS,KAAI;AAAC,UAAIF,KAAE,GAAG;AAAE,aAAM,EAAC,IAAGA,IAAE,YAAW,GAAGA,EAAC,KAAGA,IAAE,QAAO,CAAC,WAAU,QAAO,WAAU,YAAY,EAAE,SAASA,EAAC,EAAC;AAAA,IAAC;AAAC,QAAIM,KAAE;AAAN,QAAW,IAAE;AAAb,QAAiB,KAAG;AAApB,QAAuC,KAAG;AAA1C,QAA+iC,KAAG;AAAljC,QAAujE,KAAG,EAAC,WAAU,IAAG,UAAS,GAAE,QAAO,GAAE,UAAS,IAAG,UAAS,IAAG,MAAK,CAACA,IAAE,MAAKA,IAAE,QAAO,MAAE;AAA5oE,QAA8oE;AAA9oE,QAAipE;AAAjpE,QAAmpEC,KAAE;AAArpE,QAAwpE,KAAG;AAA3pE,QAA6qEC,KAAE,KAAG;AAAlrE,QAAusE,KAAG,KAAG;AAA7sE,QAAwuE,KAAG,KAAG;AAA9uE,QAAmwE,KAAG;AAAtwE,QAAyxEC,KAAE,KAAK;AAAhyE,QAAsyEC,KAAE,KAAK;AAA7yE,QAAizE,KAAG;AAApzE,QAAi2E,KAAG;AAAp2E,QAA65E,KAAG;AAAh6E,QAAg9E,KAAG;AAAn9E,QAAw/E,IAAE;AAA1/E,QAA8/EC,KAAE;AAAhgF,QAAkgF,KAAG;AAArgF,QAAshF,KAAG,GAAG,SAAO;AAAniF,QAAqiF,KAAG,GAAG,SAAO;AAAljF,QAAojFC,KAAE,EAAC,aAAY,GAAE;AAAE,IAAAA,GAAE,gBAAcA,GAAE,MAAI,WAAU;AAAC,UAAIZ,KAAE,IAAI,KAAK,YAAY,IAAI;AAAE,aAAOA,GAAE,IAAE,MAAIA,GAAE,IAAE,IAAGa,GAAEb,EAAC;AAAA,IAAC;AAAE,IAAAY,GAAE,OAAK,WAAU;AAAC,aAAOC,GAAE,IAAI,KAAK,YAAY,IAAI,GAAE,KAAK,IAAE,GAAE,CAAC;AAAA,IAAC;AAAE,IAAAD,GAAE,YAAUA,GAAE,QAAM,SAASZ,IAAEC,IAAE;AAAC,UAAIC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,UAAGH,KAAE,IAAII,GAAEJ,EAAC,GAAEC,KAAE,IAAIG,GAAEH,EAAC,GAAE,CAACD,GAAE,KAAG,CAACC,GAAE;AAAE,eAAO,IAAIG,GAAE,GAAG;AAAE,UAAGJ,GAAE,GAAGC,EAAC;AAAE,cAAM,MAAMO,KAAEP,EAAC;AAAE,aAAOC,KAAEC,GAAE,IAAIH,EAAC,GAAEE,KAAE,IAAEF,KAAEG,GAAE,IAAIF,EAAC,IAAE,IAAEA,KAAE,IAAIG,GAAED,EAAC;AAAA,IAAC;AAAE,IAAAS,GAAE,aAAWA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,KAAE,MAAKC,KAAED,GAAE,GAAEE,MAAGhB,KAAE,IAAIc,GAAE,YAAYd,EAAC,GAAG,GAAEiB,KAAEH,GAAE,GAAEI,KAAElB,GAAE;AAAE,UAAG,CAACe,MAAG,CAACC;AAAE,eAAM,CAACC,MAAG,CAACC,KAAE,MAAID,OAAIC,KAAED,KAAEF,OAAIC,KAAE,IAAE,CAACD,KAAEE,KAAE,IAAE,IAAE;AAAG,UAAG,CAACF,GAAE,CAAC,KAAG,CAACC,GAAE,CAAC;AAAE,eAAOD,GAAE,CAAC,IAAEE,KAAED,GAAE,CAAC,IAAE,CAACE,KAAE;AAAE,UAAGD,OAAIC;AAAE,eAAOD;AAAE,UAAGH,GAAE,MAAId,GAAE;AAAE,eAAOc,GAAE,IAAEd,GAAE,IAAEiB,KAAE,IAAE,IAAE;AAAG,WAAId,KAAEY,GAAE,QAAOX,KAAEY,GAAE,QAAOf,KAAE,GAAEC,KAAEC,KAAEC,KAAED,KAAEC,IAAEH,KAAEC,IAAE,EAAED;AAAE,YAAGc,GAAEd,EAAC,MAAIe,GAAEf,EAAC;AAAE,iBAAOc,GAAEd,EAAC,IAAEe,GAAEf,EAAC,IAAEgB,KAAE,IAAE,IAAE;AAAG,aAAOd,OAAIC,KAAE,IAAED,KAAEC,KAAEa,KAAE,IAAE,IAAE;AAAA,IAAE;AAAE,IAAAL,GAAE,SAAOA,GAAE,MAAI,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOA,GAAE,IAAEA,GAAE,EAAE,CAAC,KAAGF,KAAEG,GAAE,WAAUF,KAAEE,GAAE,UAASA,GAAE,YAAUH,KAAE,KAAK,IAAIE,GAAE,GAAEA,GAAE,GAAG,CAAC,IAAES,IAAER,GAAE,WAAS,GAAED,KAAE,GAAGC,IAAE,GAAGA,IAAED,EAAC,CAAC,GAAEC,GAAE,YAAUH,IAAEG,GAAE,WAASF,IAAEY,GAAE,KAAG,KAAG,KAAG,IAAEX,GAAE,IAAI,IAAEA,IAAEF,IAAEC,IAAE,IAAE,KAAG,IAAIE,GAAE,CAAC,IAAE,IAAIA,GAAE,GAAG;AAAA,IAAC;AAAE,IAAAS,GAAE,WAASA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,UAAG,CAACA,GAAE,SAAS,KAAGA,GAAE,OAAO;AAAE,eAAO,IAAIC,GAAED,EAAC;AAAE,WAAIZ,KAAE,OAAGO,KAAEK,GAAE,IAAET,GAAES,GAAE,IAAEA,IAAE,IAAE,CAAC,GAAE,CAACL,MAAG,KAAK,IAAIA,EAAC,KAAG,IAAE,KAAGZ,KAAEmB,GAAEF,GAAE,CAAC,GAAEnB,KAAEmB,GAAE,IAAGL,MAAGd,KAAEE,GAAE,SAAO,KAAG,OAAKA,MAAGY,MAAG,KAAGA,MAAG,KAAG,MAAI,OAAMA,KAAEJ,GAAER,IAAE,IAAE,CAAC,GAAEF,KAAES,IAAGT,KAAE,KAAG,CAAC,KAAGA,KAAE,MAAIA,KAAE,IAAE,KAAG,KAAIc,MAAG,IAAE,IAAEZ,KAAE,OAAKF,MAAGE,KAAEY,GAAE,cAAc,GAAEZ,KAAEA,GAAE,MAAM,GAAEA,GAAE,QAAQ,GAAG,IAAE,CAAC,IAAEF,KAAGG,KAAE,IAAIiB,GAAElB,EAAC,GAAEC,GAAE,IAAEgB,GAAE,KAAGhB,KAAE,IAAIiB,GAAEN,GAAE,SAAS,CAAC,GAAEC,MAAGf,KAAEoB,GAAE,aAAW;AAAI,YAAGJ,KAAEb,IAAEc,KAAED,GAAE,MAAMA,EAAC,EAAE,MAAMA,EAAC,GAAEE,KAAED,GAAE,KAAKE,EAAC,GAAEhB,KAAEmB,GAAEJ,GAAE,KAAKC,EAAC,EAAE,MAAMH,EAAC,GAAEE,GAAE,KAAKD,EAAC,GAAEF,KAAE,GAAE,CAAC,GAAEM,GAAEL,GAAE,CAAC,EAAE,MAAM,GAAED,EAAC,OAAKb,KAAEmB,GAAElB,GAAE,CAAC,GAAG,MAAM,GAAEY,EAAC;AAAE,cAAGb,KAAEA,GAAE,MAAMa,KAAE,GAAEA,KAAE,CAAC,GAAEb,MAAG,UAAQ,CAACE,MAAGF,MAAG,QAAO;AAAC,gBAAG,CAACE,OAAIS,GAAEG,IAAEhB,KAAE,GAAE,CAAC,GAAEgB,GAAE,MAAMA,EAAC,EAAE,MAAMA,EAAC,EAAE,GAAGG,EAAC,IAAG;AAAC,cAAAhB,KAAEa;AAAE;AAAA,YAAK;AAAC,YAAAD,MAAG,GAAEX,KAAE;AAAA,UAAC,OAAK;AAAC,aAAC,CAAC,CAACF,MAAG,CAAC,CAACA,GAAE,MAAM,CAAC,KAAGA,GAAE,OAAO,CAAC,KAAG,SAAOW,GAAEV,IAAEH,KAAE,GAAE,CAAC,GAAEC,KAAE,CAACE,GAAE,MAAMA,EAAC,EAAE,MAAMA,EAAC,EAAE,GAAGgB,EAAC;AAAG;AAAA,UAAK;AAAC,aAAOZ,KAAE,MAAGM,GAAEV,IAAEH,IAAEoB,GAAE,UAASnB,EAAC;AAAA,IAAC;AAAE,IAAAW,GAAE,gBAAcA,GAAE,KAAG,WAAU;AAAC,UAAIZ,IAAEC,KAAE,KAAK,GAAEC,KAAE;AAAI,UAAGD,IAAE;AAAC,YAAGD,KAAEC,GAAE,SAAO,GAAEC,MAAGF,KAAES,GAAE,KAAK,IAAEE,EAAC,KAAGA,IAAEX,KAAEC,GAAED,EAAC,GAAEA;AAAE,iBAAKA,KAAE,MAAI,GAAEA,MAAG;AAAG,YAAAE;AAAI,QAAAA,KAAE,MAAIA,KAAE;AAAA,MAAE;AAAC,aAAOA;AAAA,IAAC;AAAE,IAAAU,GAAE,YAAUA,GAAE,MAAI,SAASZ,IAAE;AAAC,aAAOsB,GAAE,MAAK,IAAI,KAAK,YAAYtB,EAAC,CAAC;AAAA,IAAC;AAAE,IAAAY,GAAE,qBAAmBA,GAAE,WAAS,SAASZ,IAAE;AAAC,UAAIC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOY,GAAES,GAAErB,IAAE,IAAIC,GAAEF,EAAC,GAAE,GAAE,GAAE,CAAC,GAAEE,GAAE,WAAUA,GAAE,QAAQ;AAAA,IAAC;AAAE,IAAAU,GAAE,SAAOA,GAAE,KAAG,SAASZ,IAAE;AAAC,aAAO,KAAK,IAAIA,EAAC,MAAI;AAAA,IAAC;AAAE,IAAAY,GAAE,QAAM,WAAU;AAAC,aAAOC,GAAE,IAAI,KAAK,YAAY,IAAI,GAAE,KAAK,IAAE,GAAE,CAAC;AAAA,IAAC;AAAE,IAAAD,GAAE,cAAYA,GAAE,KAAG,SAASZ,IAAE;AAAC,aAAO,KAAK,IAAIA,EAAC,IAAE;AAAA,IAAC;AAAE,IAAAY,GAAE,uBAAqBA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,KAAE,KAAK,IAAID,EAAC;AAAE,aAAOC,MAAG,KAAGA,OAAI;AAAA,IAAC;AAAE,IAAAW,GAAE,mBAAiBA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,IAAEU,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAE,IAAID,GAAE,CAAC;AAAE,UAAG,CAACD,GAAE,SAAS;AAAE,eAAO,IAAIC,GAAED,GAAE,IAAE,IAAE,IAAE,GAAG;AAAE,UAAGA,GAAE,OAAO;AAAE,eAAOE;AAAE,MAAAd,KAAEa,GAAE,WAAUZ,KAAEY,GAAE,UAASA,GAAE,YAAUb,KAAE,KAAK,IAAIY,GAAE,GAAEA,GAAE,GAAG,CAAC,IAAE,GAAEC,GAAE,WAAS,GAAEX,KAAEU,GAAE,EAAE,QAAOV,KAAE,MAAIJ,KAAE,KAAK,KAAKI,KAAE,CAAC,GAAEH,MAAG,IAAE,GAAG,GAAED,EAAC,GAAG,SAAS,MAAIA,KAAE,IAAGC,KAAE,iCAAgCa,KAAE,EAAEC,IAAE,GAAED,GAAE,MAAMb,EAAC,GAAE,IAAIc,GAAE,CAAC,GAAE,IAAE;AAAE,eAAQE,IAAEC,KAAElB,IAAEmB,KAAE,IAAIJ,GAAE,CAAC,GAAEG;AAAK,QAAAD,KAAEH,GAAE,MAAMA,EAAC,GAAEA,KAAEE,GAAE,MAAMC,GAAE,MAAME,GAAE,MAAMF,GAAE,MAAME,EAAC,CAAC,CAAC,CAAC;AAAE,aAAON,GAAEC,IAAEC,GAAE,YAAUb,IAAEa,GAAE,WAASZ,IAAE,IAAE;AAAA,IAAC;AAAE,IAAAS,GAAE,iBAAeA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKU,KAAEV,GAAE;AAAY,UAAG,CAACA,GAAE,SAAS,KAAGA,GAAE,OAAO;AAAE,eAAO,IAAIU,GAAEV,EAAC;AAAE,UAAGH,KAAEa,GAAE,WAAUZ,KAAEY,GAAE,UAASA,GAAE,YAAUb,KAAE,KAAK,IAAIG,GAAE,GAAEA,GAAE,GAAG,CAAC,IAAE,GAAEU,GAAE,WAAS,GAAEX,KAAEC,GAAE,EAAE,QAAOD,KAAE;AAAE,QAAAC,KAAE,EAAEU,IAAE,GAAEV,IAAEA,IAAE,IAAE;AAAA,WAAM;AAAC,QAAAJ,KAAE,MAAI,KAAK,KAAKG,EAAC,GAAEH,KAAEA,KAAE,KAAG,KAAGA,KAAE,GAAEI,KAAEA,GAAE,MAAM,IAAE,GAAG,GAAEJ,EAAC,CAAC,GAAEI,KAAE,EAAEU,IAAE,GAAEV,IAAEA,IAAE,IAAE;AAAE,iBAAQW,IAAEC,KAAE,IAAIF,GAAE,CAAC,GAAEG,KAAE,IAAIH,GAAE,EAAE,GAAEI,KAAE,IAAIJ,GAAE,EAAE,GAAEd;AAAK,UAAAe,KAAEX,GAAE,MAAMA,EAAC,GAAEA,KAAEA,GAAE,MAAMY,GAAE,KAAKD,GAAE,MAAME,GAAE,MAAMF,EAAC,EAAE,KAAKG,EAAC,CAAC,CAAC,CAAC;AAAA,MAAC;AAAC,aAAOJ,GAAE,YAAUb,IAAEa,GAAE,WAASZ,IAAEW,GAAET,IAAEH,IAAEC,IAAE,IAAE;AAAA,IAAC;AAAE,IAAAU,GAAE,oBAAkBA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOA,GAAE,SAAS,IAAEA,GAAE,OAAO,IAAE,IAAIC,GAAED,EAAC,KAAGF,KAAEG,GAAE,WAAUF,KAAEE,GAAE,UAASA,GAAE,YAAUH,KAAE,GAAEG,GAAE,WAAS,GAAEmB,GAAEpB,GAAE,KAAK,GAAEA,GAAE,KAAK,GAAEC,GAAE,YAAUH,IAAEG,GAAE,WAASF,EAAC,KAAG,IAAIE,GAAED,GAAE,CAAC;AAAA,IAAC;AAAE,IAAAU,GAAE,gBAAcA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAEF,GAAE,IAAI,EAAE,IAAI,CAAC,GAAEG,KAAEF,GAAE,WAAUY,KAAEZ,GAAE;AAAS,aAAOC,OAAI,KAAGA,OAAI,IAAEF,GAAE,MAAM,IAAEsB,GAAErB,IAAEE,IAAEU,EAAC,IAAE,IAAIZ,GAAE,CAAC,IAAE,IAAIA,GAAE,GAAG,IAAED,GAAE,OAAO,IAAEsB,GAAErB,IAAEE,KAAE,GAAEU,EAAC,EAAE,MAAM,GAAE,KAAGZ,GAAE,YAAUE,KAAE,GAAEF,GAAE,WAAS,GAAED,KAAEA,GAAE,KAAK,GAAED,KAAEuB,GAAErB,IAAEE,KAAE,GAAEU,EAAC,EAAE,MAAM,GAAE,GAAEZ,GAAE,YAAUE,IAAEF,GAAE,WAASY,IAAEd,GAAE,MAAMC,EAAC;AAAA,IAAE;AAAE,IAAAW,GAAE,0BAAwBA,GAAE,QAAM,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOA,GAAE,IAAI,CAAC,IAAE,IAAIC,GAAED,GAAE,GAAG,CAAC,IAAE,IAAE,GAAG,IAAEA,GAAE,SAAS,KAAGF,KAAEG,GAAE,WAAUF,KAAEE,GAAE,UAASA,GAAE,YAAUH,KAAE,KAAK,IAAI,KAAK,IAAIE,GAAE,CAAC,GAAEA,GAAE,GAAG,CAAC,IAAE,GAAEC,GAAE,WAAS,GAAEI,KAAE,OAAGL,KAAEA,GAAE,MAAMA,EAAC,EAAE,MAAM,CAAC,EAAE,KAAK,EAAE,KAAKA,EAAC,GAAEK,KAAE,MAAGJ,GAAE,YAAUH,IAAEG,GAAE,WAASF,IAAEC,GAAE,GAAG,KAAG,IAAIC,GAAED,EAAC;AAAA,IAAC;AAAE,IAAAU,GAAE,wBAAsBA,GAAE,QAAM,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAM,CAACA,GAAE,SAAS,KAAGA,GAAE,OAAO,IAAE,IAAIC,GAAED,EAAC,KAAGF,KAAEG,GAAE,WAAUF,KAAEE,GAAE,UAASA,GAAE,YAAUH,KAAE,IAAE,KAAK,IAAI,KAAK,IAAIE,GAAE,CAAC,GAAEA,GAAE,GAAG,CAAC,IAAE,GAAEC,GAAE,WAAS,GAAEI,KAAE,OAAGL,KAAEA,GAAE,MAAMA,EAAC,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,KAAKA,EAAC,GAAEK,KAAE,MAAGJ,GAAE,YAAUH,IAAEG,GAAE,WAASF,IAAEC,GAAE,GAAG;AAAA,IAAE;AAAE,IAAAU,GAAE,2BAAyBA,GAAE,QAAM,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKU,KAAEV,GAAE;AAAY,aAAOA,GAAE,SAAS,IAAEA,GAAE,KAAG,IAAE,IAAIU,GAAEV,GAAE,IAAI,EAAE,GAAG,CAAC,IAAEA,GAAE,IAAE,IAAEA,GAAE,OAAO,IAAEA,KAAE,GAAG,KAAGJ,KAAEc,GAAE,WAAUb,KAAEa,GAAE,UAASX,KAAEC,GAAE,GAAG,GAAE,KAAK,IAAID,IAAEH,EAAC,IAAE,IAAE,CAACI,GAAE,IAAE,IAAES,GAAE,IAAIC,GAAEV,EAAC,GAAEJ,IAAEC,IAAE,IAAE,KAAGa,GAAE,YAAUZ,KAAEC,KAAEC,GAAE,GAAEA,KAAEkB,GAAElB,GAAE,KAAK,CAAC,GAAE,IAAIU,GAAE,CAAC,EAAE,MAAMV,EAAC,GAAEF,KAAEF,IAAE,CAAC,GAAEc,GAAE,YAAUd,KAAE,GAAEc,GAAE,WAAS,GAAEV,KAAEA,GAAE,GAAG,GAAEU,GAAE,YAAUd,IAAEc,GAAE,WAASb,IAAEG,GAAE,MAAM,GAAE,MAAI,IAAIU,GAAE,GAAG;AAAA,IAAC;AAAE,IAAAF,GAAE,cAAYA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKU,KAAEV,GAAE;AAAY,aAAOA,GAAE,OAAO,IAAE,IAAIU,GAAEV,EAAC,KAAGH,KAAEG,GAAE,IAAI,EAAE,IAAI,CAAC,GAAEF,KAAEY,GAAE,WAAUX,KAAEW,GAAE,UAASb,OAAI,KAAGA,OAAI,KAAGD,KAAEuB,GAAET,IAAEZ,KAAE,GAAEC,EAAC,EAAE,MAAM,GAAE,GAAEH,GAAE,IAAEI,GAAE,GAAEJ,MAAG,IAAIc,GAAE,GAAG,KAAGA,GAAE,YAAUZ,KAAE,GAAEY,GAAE,WAAS,GAAEV,KAAEA,GAAE,IAAI,IAAIU,GAAE,CAAC,EAAE,MAAMV,GAAE,MAAMA,EAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,GAAEU,GAAE,YAAUZ,IAAEY,GAAE,WAASX,IAAEC,GAAE,MAAM,CAAC;AAAA,IAAG;AAAE,IAAAQ,GAAE,iBAAeA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAED,GAAE,WAAUK,KAAEL,GAAE;AAAS,UAAGD,GAAE,SAAS,GAAE;AAAC,YAAGA,GAAE,OAAO;AAAE,iBAAO,IAAIC,GAAED,EAAC;AAAE,YAAGA,GAAE,IAAI,EAAE,GAAG,CAAC,KAAGE,KAAE,KAAG;AAAG,iBAAOL,KAAEQ,GAAEJ,IAAEC,KAAE,GAAEI,EAAC,EAAE,MAAM,IAAG,GAAET,GAAE,IAAEG,GAAE,GAAEH;AAAA,MAAC,OAAK;AAAC,YAAG,CAACG,GAAE;AAAE,iBAAO,IAAIC,GAAE,GAAG;AAAE,YAAGC,KAAE,KAAG;AAAG,iBAAOL,KAAEQ,GAAEJ,IAAEC,KAAE,GAAEI,EAAC,EAAE,MAAM,GAAE,GAAET,GAAE,IAAEG,GAAE,GAAEH;AAAA,MAAC;AAAC,WAAII,GAAE,YAAUH,KAAEI,KAAE,IAAGD,GAAE,WAAS,GAAEjB,KAAE,KAAK,IAAI,IAAGc,KAAEL,KAAE,IAAE,CAAC,GAAEX,KAAEE,IAAEF,IAAE,EAAEA;AAAE,QAAAkB,KAAEA,GAAE,IAAIA,GAAE,MAAMA,EAAC,EAAE,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAAE,WAAIX,KAAE,OAAGN,KAAE,KAAK,KAAKe,KAAEL,EAAC,GAAER,KAAE,GAAEc,KAAEC,GAAE,MAAMA,EAAC,GAAEH,KAAE,IAAII,GAAED,EAAC,GAAEd,KAAEc,IAAElB,OAAI;AAAI,YAAGI,KAAEA,GAAE,MAAMa,EAAC,GAAEH,KAAEC,GAAE,MAAMX,GAAE,IAAID,MAAG,CAAC,CAAC,GAAEC,KAAEA,GAAE,MAAMa,EAAC,GAAEF,KAAED,GAAE,KAAKV,GAAE,IAAID,MAAG,CAAC,CAAC,GAAEY,GAAE,EAAEd,EAAC,MAAI;AAAO,eAAID,KAAEC,IAAEc,GAAE,EAAEf,EAAC,MAAIc,GAAE,EAAEd,EAAC,KAAGA;AAAK;AAAC,aAAOE,OAAIa,KAAEA,GAAE,MAAM,KAAGb,KAAE,CAAC,IAAGK,KAAE,MAAGM,GAAEE,IAAEI,GAAE,YAAUC,IAAED,GAAE,WAASK,IAAE,IAAE;AAAA,IAAC;AAAE,IAAAZ,GAAE,WAAS,WAAU;AAAC,aAAM,CAAC,CAAC,KAAK;AAAA,IAAC;AAAE,IAAAA,GAAE,YAAUA,GAAE,QAAM,WAAU;AAAC,aAAM,CAAC,CAAC,KAAK,KAAGH,GAAE,KAAK,IAAEE,EAAC,IAAE,KAAK,EAAE,SAAO;AAAA,IAAC;AAAE,IAAAC,GAAE,QAAM,WAAU;AAAC,aAAM,CAAC,KAAK;AAAA,IAAC;AAAE,IAAAA,GAAE,aAAWA,GAAE,QAAM,WAAU;AAAC,aAAO,KAAK,IAAE;AAAA,IAAC;AAAE,IAAAA,GAAE,aAAWA,GAAE,QAAM,WAAU;AAAC,aAAO,KAAK,IAAE;AAAA,IAAC;AAAE,IAAAA,GAAE,SAAO,WAAU;AAAC,aAAM,CAAC,CAAC,KAAK,KAAG,KAAK,EAAE,CAAC,MAAI;AAAA,IAAC;AAAE,IAAAA,GAAE,WAASA,GAAE,KAAG,SAASZ,IAAE;AAAC,aAAO,KAAK,IAAIA,EAAC,IAAE;AAAA,IAAC;AAAE,IAAAY,GAAE,oBAAkBA,GAAE,MAAI,SAASZ,IAAE;AAAC,aAAO,KAAK,IAAIA,EAAC,IAAE;AAAA,IAAC;AAAE,IAAAY,GAAE,YAAUA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAED,GAAE,WAAUK,KAAEL,GAAE,UAASM,KAAE;AAAE,UAAGzB,MAAG;AAAK,QAAAA,KAAE,IAAImB,GAAE,EAAE,GAAElB,KAAE;AAAA,WAAO;AAAC,YAAGD,KAAE,IAAImB,GAAEnB,EAAC,GAAEE,KAAEF,GAAE,GAAEA,GAAE,IAAE,KAAG,CAACE,MAAG,CAACA,GAAE,CAAC,KAAGF,GAAE,GAAG,CAAC;AAAE,iBAAO,IAAImB,GAAE,GAAG;AAAE,QAAAlB,KAAED,GAAE,GAAG,EAAE;AAAA,MAAC;AAAC,UAAGE,KAAEgB,GAAE,GAAEA,GAAE,IAAE,KAAG,CAAChB,MAAG,CAACA,GAAE,CAAC,KAAGgB,GAAE,GAAG,CAAC;AAAE,eAAO,IAAIC,GAAEjB,MAAG,CAACA,GAAE,CAAC,IAAE,KAAG,IAAEgB,GAAE,KAAG,IAAE,MAAIhB,KAAE,IAAE,IAAE,CAAC;AAAE,UAAGD;AAAE,YAAGC,GAAE,SAAO;AAAE,UAAAY,KAAE;AAAA,aAAO;AAAC,eAAIV,KAAEF,GAAE,CAAC,GAAEE,KAAE,OAAK;AAAG,YAAAA,MAAG;AAAG,UAAAU,KAAEV,OAAI;AAAA,QAAC;AAAC,UAAGG,KAAE,OAAGS,KAAEI,KAAEK,IAAEV,KAAE,EAAEG,IAAEF,EAAC,GAAEb,KAAEF,KAAE,GAAGkB,IAAEH,KAAE,EAAE,IAAE,EAAEhB,IAAEgB,EAAC,GAAEC,KAAEK,GAAEP,IAAEZ,IAAEa,IAAE,CAAC,GAAE,EAAEC,GAAE,GAAEb,KAAEgB,IAAEI,EAAC;AAAE;AAAG,cAAGR,MAAG,IAAGD,KAAE,EAAEG,IAAEF,EAAC,GAAEb,KAAEF,KAAE,GAAGkB,IAAEH,KAAE,EAAE,IAAE,EAAEhB,IAAEgB,EAAC,GAAEC,KAAEK,GAAEP,IAAEZ,IAAEa,IAAE,CAAC,GAAE,CAACF,IAAE;AAAC,aAACO,GAAEJ,GAAE,CAAC,EAAE,MAAMb,KAAE,GAAEA,KAAE,EAAE,IAAE,KAAG,SAAOa,KAAEJ,GAAEI,IAAEG,KAAE,GAAE,CAAC;AAAG;AAAA,UAAK;AAAA,eAAO,EAAEH,GAAE,GAAEb,MAAG,IAAGoB,EAAC;AAAG,aAAOjB,KAAE,MAAGM,GAAEI,IAAEG,IAAEI,EAAC;AAAA,IAAC;AAAE,IAAAZ,GAAE,QAAMA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEI,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,UAAGzB,KAAE,IAAI0B,GAAE1B,EAAC,GAAE,CAACyB,GAAE,KAAG,CAACzB,GAAE;AAAE,eAAM,CAACyB,GAAE,KAAG,CAACzB,GAAE,IAAEA,KAAE,IAAI0B,GAAE,GAAG,IAAED,GAAE,IAAEzB,GAAE,IAAE,CAACA,GAAE,IAAEA,KAAE,IAAI0B,GAAE1B,GAAE,KAAGyB,GAAE,MAAIzB,GAAE,IAAEyB,KAAE,GAAG,GAAEzB;AAAE,UAAGyB,GAAE,KAAGzB,GAAE;AAAE,eAAOA,GAAE,IAAE,CAACA,GAAE,GAAEyB,GAAE,KAAKzB,EAAC;AAAE,UAAGkB,KAAEO,GAAE,GAAED,KAAExB,GAAE,GAAEgB,KAAEU,GAAE,WAAUT,KAAES,GAAE,UAAS,CAACR,GAAE,CAAC,KAAG,CAACM,GAAE,CAAC,GAAE;AAAC,YAAGA,GAAE,CAAC;AAAE,UAAAxB,GAAE,IAAE,CAACA,GAAE;AAAA,iBAAUkB,GAAE,CAAC;AAAE,UAAAlB,KAAE,IAAI0B,GAAED,EAAC;AAAA;AAAO,iBAAO,IAAIC,GAAET,OAAI,IAAE,KAAG,CAAC;AAAE,eAAOV,KAAEM,GAAEb,IAAEgB,IAAEC,EAAC,IAAEjB;AAAA,MAAC;AAAC,UAAGE,KAAEO,GAAET,GAAE,IAAEW,EAAC,GAAEQ,KAAEV,GAAEgB,GAAE,IAAEd,EAAC,GAAEO,KAAEA,GAAE,MAAM,GAAEJ,KAAEK,KAAEjB,IAAEY,IAAE;AAAC,aAAIM,KAAEN,KAAE,GAAEM,MAAGnB,KAAEiB,IAAEJ,KAAE,CAACA,IAAEC,KAAES,GAAE,WAASvB,KAAEuB,IAAEtB,KAAEiB,IAAEJ,KAAEG,GAAE,SAAQf,KAAE,KAAK,IAAI,KAAK,KAAKa,KAAEL,EAAC,GAAEI,EAAC,IAAE,GAAED,KAAEX,OAAIW,KAAEX,IAAEF,GAAE,SAAO,IAAGA,GAAE,QAAQ,GAAEE,KAAEW,IAAEX;AAAK,UAAAF,GAAE,KAAK,CAAC;AAAE,QAAAA,GAAE,QAAQ;AAAA,MAAC,OAAK;AAAC,aAAIE,KAAEe,GAAE,QAAOH,KAAES,GAAE,QAAOJ,KAAEjB,KAAEY,IAAEK,OAAIL,KAAEZ,KAAGA,KAAE,GAAEA,KAAEY,IAAEZ;AAAI,cAAGe,GAAEf,EAAC,KAAGqB,GAAErB,EAAC,GAAE;AAAC,YAAAiB,KAAEF,GAAEf,EAAC,IAAEqB,GAAErB,EAAC;AAAE;AAAA,UAAK;AAAC,QAAAW,KAAE;AAAA,MAAC;AAAC,WAAIM,OAAInB,KAAEiB,IAAEA,KAAEM,IAAEA,KAAEvB,IAAED,GAAE,IAAE,CAACA,GAAE,IAAGe,KAAEG,GAAE,QAAOf,KAAEqB,GAAE,SAAOT,IAAEZ,KAAE,GAAE,EAAEA;AAAE,QAAAe,GAAEH,IAAG,IAAE;AAAE,WAAIZ,KAAEqB,GAAE,QAAOrB,KAAEW,MAAG;AAAC,YAAGI,GAAE,EAAEf,EAAC,IAAEqB,GAAErB,EAAC,GAAE;AAAC,eAAIC,KAAED,IAAEC,MAAGc,GAAE,EAAEd,EAAC,MAAI;AAAG,YAAAc,GAAEd,EAAC,IAAE,IAAE;AAAE,YAAEc,GAAEd,EAAC,GAAEc,GAAEf,EAAC,KAAG;AAAA,QAAC;AAAC,QAAAe,GAAEf,EAAC,KAAGqB,GAAErB,EAAC;AAAA,MAAC;AAAC,aAAKe,GAAE,EAAEH,EAAC,MAAI;AAAG,QAAAG,GAAE,IAAI;AAAE,aAAKA,GAAE,CAAC,MAAI,GAAEA,GAAE,MAAM;AAAE,UAAEhB;AAAE,aAAOgB,GAAE,CAAC,KAAGlB,GAAE,IAAEkB,IAAElB,GAAE,IAAE,GAAGkB,IAAEhB,EAAC,GAAEK,KAAEM,GAAEb,IAAEgB,IAAEC,EAAC,IAAEjB,MAAG,IAAI0B,GAAET,OAAI,IAAE,KAAG,CAAC;AAAA,IAAC;AAAE,IAAAL,GAAE,SAAOA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOF,KAAE,IAAIG,GAAEH,EAAC,GAAE,CAACE,GAAE,KAAG,CAACF,GAAE,KAAGA,GAAE,KAAG,CAACA,GAAE,EAAE,CAAC,IAAE,IAAIG,GAAE,GAAG,IAAE,CAACH,GAAE,KAAGE,GAAE,KAAG,CAACA,GAAE,EAAE,CAAC,IAAEW,GAAE,IAAIV,GAAED,EAAC,GAAEC,GAAE,WAAUA,GAAE,QAAQ,KAAGI,KAAE,OAAGJ,GAAE,UAAQ,KAAGF,KAAEqB,GAAEpB,IAAEF,GAAE,IAAI,GAAE,GAAE,GAAE,CAAC,GAAEC,GAAE,KAAGD,GAAE,KAAGC,KAAEqB,GAAEpB,IAAEF,IAAE,GAAEG,GAAE,QAAO,CAAC,GAAEF,KAAEA,GAAE,MAAMD,EAAC,GAAEO,KAAE,MAAGL,GAAE,MAAMD,EAAC;AAAA,IAAE;AAAE,IAAAW,GAAE,qBAAmBA,GAAE,MAAI,WAAU;AAAC,aAAO,GAAG,IAAI;AAAA,IAAC;AAAE,IAAAA,GAAE,mBAAiBA,GAAE,KAAG,WAAU;AAAC,aAAO,EAAE,IAAI;AAAA,IAAC;AAAE,IAAAA,GAAE,UAAQA,GAAE,MAAI,WAAU;AAAC,UAAIZ,KAAE,IAAI,KAAK,YAAY,IAAI;AAAE,aAAOA,GAAE,IAAE,CAACA,GAAE,GAAEa,GAAEb,EAAC;AAAA,IAAC;AAAE,IAAAY,GAAE,OAAKA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKI,KAAEJ,GAAE;AAAY,UAAGpB,KAAE,IAAIwB,GAAExB,EAAC,GAAE,CAACoB,GAAE,KAAG,CAACpB,GAAE;AAAE,eAAM,CAACoB,GAAE,KAAG,CAACpB,GAAE,IAAEA,KAAE,IAAIwB,GAAE,GAAG,IAAEJ,GAAE,MAAIpB,KAAE,IAAIwB,GAAExB,GAAE,KAAGoB,GAAE,MAAIpB,GAAE,IAAEoB,KAAE,GAAG,IAAGpB;AAAE,UAAGoB,GAAE,KAAGpB,GAAE;AAAE,eAAOA,GAAE,IAAE,CAACA,GAAE,GAAEoB,GAAE,MAAMpB,EAAC;AAAE,UAAGkB,KAAEE,GAAE,GAAED,KAAEnB,GAAE,GAAEgB,KAAEQ,GAAE,WAAUP,KAAEO,GAAE,UAAS,CAACN,GAAE,CAAC,KAAG,CAACC,GAAE,CAAC;AAAE,eAAOA,GAAE,CAAC,MAAInB,KAAE,IAAIwB,GAAEJ,EAAC,IAAGb,KAAEM,GAAEb,IAAEgB,IAAEC,EAAC,IAAEjB;AAAE,UAAGc,KAAEL,GAAEW,GAAE,IAAET,EAAC,GAAER,KAAEM,GAAET,GAAE,IAAEW,EAAC,GAAEO,KAAEA,GAAE,MAAM,GAAEd,KAAEU,KAAEX,IAAEC,IAAE;AAAC,aAAIA,KAAE,KAAGF,KAAEgB,IAAEd,KAAE,CAACA,IAAEW,KAAEI,GAAE,WAASjB,KAAEiB,IAAEhB,KAAEW,IAAEC,KAAEG,GAAE,SAAQJ,KAAE,KAAK,KAAKE,KAAEL,EAAC,GAAEI,KAAED,KAAEC,KAAED,KAAE,IAAEC,KAAE,GAAEX,KAAEW,OAAIX,KAAEW,IAAEb,GAAE,SAAO,IAAGA,GAAE,QAAQ,GAAEE;AAAK,UAAAF,GAAE,KAAK,CAAC;AAAE,QAAAA,GAAE,QAAQ;AAAA,MAAC;AAAC,WAAIa,KAAEG,GAAE,QAAOd,KAAEe,GAAE,QAAOJ,KAAEX,KAAE,MAAIA,KAAEW,IAAEb,KAAEiB,IAAEA,KAAED,IAAEA,KAAEhB,KAAGD,KAAE,GAAEG;AAAG,QAAAH,MAAGiB,GAAE,EAAEd,EAAC,IAAEc,GAAEd,EAAC,IAAEe,GAAEf,EAAC,IAAEH,MAAG,IAAE,GAAEiB,GAAEd,EAAC,KAAG;AAAE,WAAIH,OAAIiB,GAAE,QAAQjB,EAAC,GAAE,EAAEE,KAAGY,KAAEG,GAAE,QAAOA,GAAE,EAAEH,EAAC,KAAG;AAAG,QAAAG,GAAE,IAAI;AAAE,aAAOlB,GAAE,IAAEkB,IAAElB,GAAE,IAAE,GAAGkB,IAAEf,EAAC,GAAEI,KAAEM,GAAEb,IAAEgB,IAAEC,EAAC,IAAEjB;AAAA,IAAC;AAAE,IAAAY,GAAE,YAAUA,GAAE,KAAG,SAASZ,IAAE;AAAC,UAAIC,IAAEC,KAAE;AAAK,UAAGF,OAAI,UAAQA,OAAI,CAAC,CAACA,MAAGA,OAAI,KAAGA,OAAI;AAAE,cAAM,MAAMQ,KAAER,EAAC;AAAE,aAAOE,GAAE,KAAGD,KAAE,GAAGC,GAAE,CAAC,GAAEF,MAAGE,GAAE,IAAE,IAAED,OAAIA,KAAEC,GAAE,IAAE,MAAID,KAAE,KAAIA;AAAA,IAAC;AAAE,IAAAW,GAAE,QAAM,WAAU;AAAC,UAAIZ,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOa,GAAE,IAAIZ,GAAED,EAAC,GAAEA,GAAE,IAAE,GAAEC,GAAE,QAAQ;AAAA,IAAC;AAAE,IAAAW,GAAE,OAAKA,GAAE,MAAI,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOA,GAAE,SAAS,IAAEA,GAAE,OAAO,IAAE,IAAIC,GAAED,EAAC,KAAGF,KAAEG,GAAE,WAAUF,KAAEE,GAAE,UAASA,GAAE,YAAUH,KAAE,KAAK,IAAIE,GAAE,GAAEA,GAAE,GAAG,CAAC,IAAES,IAAER,GAAE,WAAS,GAAED,KAAE,GAAGC,IAAE,GAAGA,IAAED,EAAC,CAAC,GAAEC,GAAE,YAAUH,IAAEG,GAAE,WAASF,IAAEY,GAAE,IAAE,IAAEX,GAAE,IAAI,IAAEA,IAAEF,IAAEC,IAAE,IAAE,KAAG,IAAIE,GAAE,GAAG;AAAA,IAAC;AAAE,IAAAS,GAAE,aAAWA,GAAE,OAAK,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,KAAE,MAAKC,KAAED,GAAE,GAAEE,KAAEF,GAAE,GAAEG,KAAEH,GAAE,GAAEI,KAAEJ,GAAE;AAAY,UAAGG,OAAI,KAAG,CAACF,MAAG,CAACA,GAAE,CAAC;AAAE,eAAO,IAAIG,GAAE,CAACD,MAAGA,KAAE,MAAI,CAACF,MAAGA,GAAE,CAAC,KAAG,MAAIA,KAAED,KAAE,IAAE,CAAC;AAAE,WAAIR,KAAE,OAAGW,KAAE,KAAK,KAAK,CAACH,EAAC,GAAEG,MAAG,KAAGA,MAAG,IAAE,KAAGjB,KAAEoB,GAAEL,EAAC,IAAGf,GAAE,SAAOgB,MAAG,KAAG,MAAIhB,MAAG,MAAKiB,KAAE,KAAK,KAAKjB,EAAC,GAAEgB,KAAER,IAAGQ,KAAE,KAAG,CAAC,KAAGA,KAAE,KAAGA,KAAE,IAAGC,MAAG,IAAE,IAAEjB,KAAE,OAAKgB,MAAGhB,KAAEiB,GAAE,cAAc,GAAEjB,KAAEA,GAAE,MAAM,GAAEA,GAAE,QAAQ,GAAG,IAAE,CAAC,IAAEgB,KAAGd,KAAE,IAAIgB,GAAElB,EAAC,KAAGE,KAAE,IAAIgB,GAAED,GAAE,SAAS,CAAC,GAAEhB,MAAGe,KAAEE,GAAE,aAAW;AAAI,YAAGL,KAAEX,IAAEA,KAAEW,GAAE,KAAKQ,GAAEP,IAAED,IAAEZ,KAAE,GAAE,CAAC,CAAC,EAAE,MAAM,GAAE,GAAEmB,GAAEP,GAAE,CAAC,EAAE,MAAM,GAAEZ,EAAC,OAAKD,KAAEoB,GAAElB,GAAE,CAAC,GAAG,MAAM,GAAED,EAAC;AAAE,cAAGD,KAAEA,GAAE,MAAMC,KAAE,GAAEA,KAAE,CAAC,GAAED,MAAG,UAAQ,CAACG,MAAGH,MAAG,QAAO;AAAC,gBAAG,CAACG,OAAIS,GAAEC,IAAEG,KAAE,GAAE,CAAC,GAAEH,GAAE,MAAMA,EAAC,EAAE,GAAGC,EAAC,IAAG;AAAC,cAAAZ,KAAEW;AAAE;AAAA,YAAK;AAAC,YAAAZ,MAAG,GAAEE,KAAE;AAAA,UAAC,OAAK;AAAC,aAAC,CAAC,CAACH,MAAG,CAAC,CAACA,GAAE,MAAM,CAAC,KAAGA,GAAE,OAAO,CAAC,KAAG,SAAOY,GAAEV,IAAEc,KAAE,GAAE,CAAC,GAAEjB,KAAE,CAACG,GAAE,MAAMA,EAAC,EAAE,GAAGY,EAAC;AAAG;AAAA,UAAK;AAAC,aAAOR,KAAE,MAAGM,GAAEV,IAAEc,IAAEE,GAAE,UAASnB,EAAC;AAAA,IAAC;AAAE,IAAAY,GAAE,UAAQA,GAAE,MAAI,WAAU;AAAC,UAAIZ,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOA,GAAE,SAAS,IAAEA,GAAE,OAAO,IAAE,IAAIC,GAAED,EAAC,KAAGF,KAAEG,GAAE,WAAUF,KAAEE,GAAE,UAASA,GAAE,YAAUH,KAAE,IAAGG,GAAE,WAAS,GAAED,KAAEA,GAAE,IAAI,GAAEA,GAAE,IAAE,GAAEA,KAAEoB,GAAEpB,IAAE,IAAIC,GAAE,CAAC,EAAE,MAAMD,GAAE,MAAMA,EAAC,CAAC,EAAE,KAAK,GAAEF,KAAE,IAAG,CAAC,GAAEG,GAAE,YAAUH,IAAEG,GAAE,WAASF,IAAEY,GAAE,KAAG,KAAG,KAAG,IAAEX,GAAE,IAAI,IAAEA,IAAEF,IAAEC,IAAE,IAAE,KAAG,IAAIE,GAAE,GAAG;AAAA,IAAC;AAAE,IAAAS,GAAE,QAAMA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE,aAAYK,KAAEL,GAAE,GAAEM,MAAGzB,KAAE,IAAIoB,GAAEpB,EAAC,GAAG;AAAE,UAAGA,GAAE,KAAGmB,GAAE,GAAE,CAACK,MAAG,CAACA,GAAE,CAAC,KAAG,CAACC,MAAG,CAACA,GAAE,CAAC;AAAE,eAAO,IAAIL,GAAE,CAACpB,GAAE,KAAGwB,MAAG,CAACA,GAAE,CAAC,KAAG,CAACC,MAAGA,MAAG,CAACA,GAAE,CAAC,KAAG,CAACD,KAAE,MAAI,CAACA,MAAG,CAACC,KAAEzB,GAAE,IAAE,IAAEA,GAAE,IAAE,CAAC;AAAE,WAAIE,KAAEO,GAAEU,GAAE,IAAER,EAAC,IAAEF,GAAET,GAAE,IAAEW,EAAC,GAAEM,KAAEO,GAAE,QAAON,KAAEO,GAAE,QAAOR,KAAEC,OAAIJ,KAAEU,IAAEA,KAAEC,IAAEA,KAAEX,IAAEC,KAAEE,IAAEA,KAAEC,IAAEA,KAAEH,KAAGD,KAAE,CAAC,GAAEC,KAAEE,KAAEC,IAAEf,KAAEY,IAAEZ;AAAK,QAAAW,GAAE,KAAK,CAAC;AAAE,WAAIX,KAAEe,IAAE,EAAEf,MAAG,KAAG;AAAC,aAAIF,KAAE,GAAEG,KAAEa,KAAEd,IAAEC,KAAED;AAAG,UAAAa,KAAEF,GAAEV,EAAC,IAAEqB,GAAEtB,EAAC,IAAEqB,GAAEpB,KAAED,KAAE,CAAC,IAAEF,IAAEa,GAAEV,IAAG,IAAEY,KAAE,IAAE,GAAEf,KAAEe,KAAE,IAAE;AAAE,QAAAF,GAAEV,EAAC,KAAGU,GAAEV,EAAC,IAAEH,MAAG,IAAE;AAAA,MAAC;AAAC,aAAK,CAACa,GAAE,EAAEC,EAAC;AAAG,QAAAD,GAAE,IAAI;AAAE,aAAOb,KAAE,EAAEC,KAAEY,GAAE,MAAM,GAAEd,GAAE,IAAEc,IAAEd,GAAE,IAAE,GAAGc,IAAEZ,EAAC,GAAEK,KAAEM,GAAEb,IAAEoB,GAAE,WAAUA,GAAE,QAAQ,IAAEpB;AAAA,IAAC;AAAE,IAAAY,GAAE,WAAS,SAASZ,IAAEC,IAAE;AAAC,aAAO,GAAG,MAAK,GAAED,IAAEC,EAAC;AAAA,IAAC;AAAE,IAAAW,GAAE,kBAAgBA,GAAE,OAAK,SAASZ,IAAEC,IAAE;AAAC,UAAIC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOA,KAAE,IAAIC,GAAED,EAAC,GAAEF,OAAI,SAAOE,MAAG,EAAEF,IAAE,GAAE,CAAC,GAAEC,OAAI,SAAOA,KAAEE,GAAE,WAAS,EAAEF,IAAE,GAAE,CAAC,GAAEY,GAAEX,IAAEF,KAAEE,GAAE,IAAE,GAAED,EAAC;AAAA,IAAE;AAAE,IAAAW,GAAE,gBAAc,SAASZ,IAAEC,IAAE;AAAC,UAAIC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOH,OAAI,SAAOE,KAAE,EAAEC,IAAE,IAAE,KAAG,EAAEH,IAAE,GAAE,CAAC,GAAEC,OAAI,SAAOA,KAAEG,GAAE,WAAS,EAAEH,IAAE,GAAE,CAAC,GAAEE,KAAEU,GAAE,IAAIT,GAAED,EAAC,GAAEH,KAAE,GAAEC,EAAC,GAAEC,KAAE,EAAEC,IAAE,MAAGH,KAAE,CAAC,IAAGG,GAAE,MAAM,KAAG,CAACA,GAAE,OAAO,IAAE,MAAID,KAAEA;AAAA,IAAC;AAAE,IAAAU,GAAE,UAAQ,SAASZ,IAAEC,IAAE;AAAC,UAAIC,IAAEC,IAAEC,KAAE,MAAKU,KAAEV,GAAE;AAAY,aAAOJ,OAAI,SAAOE,KAAE,EAAEE,EAAC,KAAG,EAAEJ,IAAE,GAAE,CAAC,GAAEC,OAAI,SAAOA,KAAEa,GAAE,WAAS,EAAEb,IAAE,GAAE,CAAC,GAAEE,KAAEU,GAAE,IAAIC,GAAEV,EAAC,GAAEJ,KAAEI,GAAE,IAAE,GAAEH,EAAC,GAAEC,KAAE,EAAEC,IAAE,OAAGH,KAAEG,GAAE,IAAE,CAAC,IAAGC,GAAE,MAAM,KAAG,CAACA,GAAE,OAAO,IAAE,MAAIF,KAAEA;AAAA,IAAC;AAAE,IAAAU,GAAE,aAAW,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEI,IAAEC,KAAE,MAAKC,KAAED,GAAE,GAAEE,KAAEF,GAAE;AAAY,UAAG,CAACC;AAAE,eAAO,IAAIC,GAAEF,EAAC;AAAE,UAAGP,KAAEhB,KAAE,IAAIyB,GAAE,CAAC,GAAExB,KAAEc,KAAE,IAAIU,GAAE,CAAC,GAAE1B,KAAE,IAAI0B,GAAExB,EAAC,GAAEW,KAAEb,GAAE,IAAE,GAAGyB,EAAC,IAAED,GAAE,IAAE,GAAEV,KAAED,KAAEH,IAAEV,GAAE,EAAE,CAAC,IAAES,GAAE,IAAGK,KAAE,IAAEJ,KAAEI,KAAEA,EAAC,GAAEf,MAAG;AAAK,QAAAA,KAAEc,KAAE,IAAEb,KAAEiB;AAAA,WAAM;AAAC,YAAGF,KAAE,IAAIW,GAAE3B,EAAC,GAAE,CAACgB,GAAE,MAAM,KAAGA,GAAE,GAAGE,EAAC;AAAE,gBAAM,MAAMV,KAAEQ,EAAC;AAAE,QAAAhB,KAAEgB,GAAE,GAAGf,EAAC,IAAEa,KAAE,IAAEb,KAAEiB,KAAEF;AAAA,MAAC;AAAC,WAAIT,KAAE,OAAGS,KAAE,IAAIW,GAAEN,GAAEK,EAAC,CAAC,GAAEP,KAAEQ,GAAE,WAAUA,GAAE,YAAUb,KAAEY,GAAE,SAAOf,KAAE,GAAES,KAAEE,GAAEN,IAAEf,IAAE,GAAE,GAAE,CAAC,GAAEG,KAAEF,GAAE,KAAKkB,GAAE,MAAMjB,EAAC,CAAC,GAAEC,GAAE,IAAIJ,EAAC,KAAG;AAAG,QAAAE,KAAEC,IAAEA,KAAEC,IAAEA,KAAEc,IAAEA,KAAED,GAAE,KAAKG,GAAE,MAAMhB,EAAC,CAAC,GAAEa,KAAEb,IAAEA,KAAEH,IAAEA,KAAEe,GAAE,MAAMI,GAAE,MAAMhB,EAAC,CAAC,GAAEY,KAAEZ;AAAE,aAAOA,KAAEkB,GAAEtB,GAAE,MAAME,EAAC,GAAEC,IAAE,GAAE,GAAE,CAAC,GAAEc,KAAEA,GAAE,KAAKb,GAAE,MAAMc,EAAC,CAAC,GAAEhB,KAAEA,GAAE,KAAKE,GAAE,MAAMD,EAAC,CAAC,GAAEc,GAAE,IAAEC,GAAE,IAAEO,GAAE,GAAED,KAAEF,GAAEJ,IAAEf,IAAEW,IAAE,CAAC,EAAE,MAAMW,EAAC,EAAE,IAAI,EAAE,IAAIH,GAAEL,IAAEf,IAAEY,IAAE,CAAC,EAAE,MAAMW,EAAC,EAAE,IAAI,CAAC,IAAE,IAAE,CAACP,IAAEf,EAAC,IAAE,CAACc,IAAEf,EAAC,GAAEyB,GAAE,YAAUR,IAAEZ,KAAE,MAAGiB;AAAA,IAAC;AAAE,IAAAZ,GAAE,gBAAcA,GAAE,QAAM,SAASZ,IAAEC,IAAE;AAAC,aAAO,GAAG,MAAK,IAAGD,IAAEC,EAAC;AAAA,IAAC;AAAE,IAAAW,GAAE,YAAU,SAASZ,IAAEC,IAAE;AAAC,UAAIC,KAAE,MAAKC,KAAED,GAAE;AAAY,UAAGA,KAAE,IAAIC,GAAED,EAAC,GAAEF,MAAG,MAAK;AAAC,YAAG,CAACE,GAAE;AAAE,iBAAOA;AAAE,QAAAF,KAAE,IAAIG,GAAE,CAAC,GAAEF,KAAEE,GAAE;AAAA,MAAQ,OAAK;AAAC,YAAGH,KAAE,IAAIG,GAAEH,EAAC,GAAEC,OAAI,SAAOA,KAAEE,GAAE,WAAS,EAAEF,IAAE,GAAE,CAAC,GAAE,CAACC,GAAE;AAAE,iBAAOF,GAAE,IAAEE,KAAEF;AAAE,YAAG,CAACA,GAAE;AAAE,iBAAOA,GAAE,MAAIA,GAAE,IAAEE,GAAE,IAAGF;AAAA,MAAC;AAAC,aAAOA,GAAE,EAAE,CAAC,KAAGO,KAAE,OAAGL,KAAEoB,GAAEpB,IAAEF,IAAE,GAAEC,IAAE,CAAC,EAAE,MAAMD,EAAC,GAAEO,KAAE,MAAGM,GAAEX,EAAC,MAAIF,GAAE,IAAEE,GAAE,GAAEA,KAAEF,KAAGE;AAAA,IAAC;AAAE,IAAAU,GAAE,WAAS,WAAU;AAAC,aAAM,CAAC;AAAA,IAAI;AAAE,IAAAA,GAAE,UAAQ,SAASZ,IAAEC,IAAE;AAAC,aAAO,GAAG,MAAK,GAAED,IAAEC,EAAC;AAAA,IAAC;AAAE,IAAAW,GAAE,UAAQA,GAAE,MAAI,SAASZ,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAE,EAAElB,KAAE,IAAIiB,GAAEjB,EAAC;AAAG,UAAG,CAACgB,GAAE,KAAG,CAAChB,GAAE,KAAG,CAACgB,GAAE,EAAE,CAAC,KAAG,CAAChB,GAAE,EAAE,CAAC;AAAE,eAAO,IAAIiB,GAAEP,GAAE,CAACM,IAAEE,EAAC,CAAC;AAAE,UAAGF,KAAE,IAAIC,GAAED,EAAC,GAAEA,GAAE,GAAG,CAAC;AAAE,eAAOA;AAAE,UAAGb,KAAEc,GAAE,WAAUH,KAAEG,GAAE,UAASjB,GAAE,GAAG,CAAC;AAAE,eAAOa,GAAEG,IAAEb,IAAEW,EAAC;AAAE,UAAGb,KAAEQ,GAAET,GAAE,IAAEW,EAAC,GAAEV,MAAGD,GAAE,EAAE,SAAO,MAAIE,KAAEgB,KAAE,IAAE,CAACA,KAAEA,OAAI;AAAG,eAAOd,KAAE,GAAGa,IAAED,IAAEd,IAAEC,EAAC,GAAEH,GAAE,IAAE,IAAE,IAAIiB,GAAE,CAAC,EAAE,IAAIb,EAAC,IAAES,GAAET,IAAED,IAAEW,EAAC;AAAE,UAAGC,KAAEC,GAAE,GAAED,KAAE,GAAE;AAAC,YAAGd,KAAED,GAAE,EAAE,SAAO;AAAE,iBAAO,IAAIiB,GAAE,GAAG;AAAE,YAAGjB,GAAE,EAAEC,EAAC,IAAE,MAAIc,KAAE,IAAGC,GAAE,KAAG,KAAGA,GAAE,EAAE,CAAC,KAAG,KAAGA,GAAE,EAAE,UAAQ;AAAE,iBAAOA,GAAE,IAAED,IAAEC;AAAA,MAAC;AAAC,aAAOd,KAAEQ,GAAE,CAACM,IAAEE,EAAC,GAAEjB,KAAEC,MAAG,KAAG,CAAC,SAASA,EAAC,IAAEO,GAAES,MAAG,KAAK,IAAI,OAAKG,GAAEL,GAAE,CAAC,CAAC,IAAE,KAAK,OAAKA,GAAE,IAAE,EAAE,IAAE,IAAIC,GAAEf,KAAE,EAAE,EAAE,GAAED,KAAEgB,GAAE,OAAK,KAAGhB,KAAEgB,GAAE,OAAK,IAAE,IAAIA,GAAEhB,KAAE,IAAEc,KAAE,IAAE,CAAC,KAAGR,KAAE,OAAGU,GAAE,WAASD,GAAE,IAAE,GAAEd,KAAE,KAAK,IAAI,KAAID,KAAE,IAAI,MAAM,GAAEG,KAAE,GAAGJ,GAAE,MAAM,EAAEgB,IAAEb,KAAED,EAAC,CAAC,GAAEC,EAAC,GAAEC,GAAE,MAAIA,KAAES,GAAET,IAAED,KAAE,GAAE,CAAC,GAAE,EAAEC,GAAE,GAAED,IAAEW,EAAC,MAAIb,KAAEE,KAAE,IAAGC,KAAES,GAAE,GAAGb,GAAE,MAAM,EAAEgB,IAAEf,KAAEC,EAAC,CAAC,GAAED,EAAC,GAAEA,KAAE,GAAE,CAAC,GAAE,CAACoB,GAAEjB,GAAE,CAAC,EAAE,MAAMD,KAAE,GAAEA,KAAE,EAAE,IAAE,KAAG,SAAOC,KAAES,GAAET,IAAED,KAAE,GAAE,CAAC,MAAKC,GAAE,IAAEW,IAAER,KAAE,MAAGU,GAAE,WAASH,IAAED,GAAET,IAAED,IAAEW,EAAC;AAAA,IAAE;AAAE,IAAAF,GAAE,cAAY,SAASZ,IAAEC,IAAE;AAAC,UAAIC,IAAEC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOH,OAAI,SAAOE,KAAE,EAAEC,IAAEA,GAAE,KAAGC,GAAE,YAAUD,GAAE,KAAGC,GAAE,QAAQ,KAAG,EAAEJ,IAAE,GAAE,CAAC,GAAEC,OAAI,SAAOA,KAAEG,GAAE,WAAS,EAAEH,IAAE,GAAE,CAAC,GAAEE,KAAEU,GAAE,IAAIT,GAAED,EAAC,GAAEH,IAAEC,EAAC,GAAEC,KAAE,EAAEC,IAAEH,MAAGG,GAAE,KAAGA,GAAE,KAAGC,GAAE,UAASJ,EAAC,IAAGG,GAAE,MAAM,KAAG,CAACA,GAAE,OAAO,IAAE,MAAID,KAAEA;AAAA,IAAC;AAAE,IAAAU,GAAE,sBAAoBA,GAAE,OAAK,SAASZ,IAAEC,IAAE;AAAC,UAAIC,KAAE,MAAKC,KAAED,GAAE;AAAY,aAAOF,OAAI,UAAQA,KAAEG,GAAE,WAAUF,KAAEE,GAAE,aAAW,EAAEH,IAAE,GAAE,CAAC,GAAEC,OAAI,SAAOA,KAAEE,GAAE,WAAS,EAAEF,IAAE,GAAE,CAAC,IAAGY,GAAE,IAAIV,GAAED,EAAC,GAAEF,IAAEC,EAAC;AAAA,IAAC;AAAE,IAAAW,GAAE,WAAS,WAAU;AAAC,UAAIZ,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAE,EAAEF,IAAEA,GAAE,KAAGC,GAAE,YAAUD,GAAE,KAAGC,GAAE,QAAQ;AAAE,aAAOD,GAAE,MAAM,KAAG,CAACA,GAAE,OAAO,IAAE,MAAIE,KAAEA;AAAA,IAAC;AAAE,IAAAU,GAAE,YAAUA,GAAE,QAAM,WAAU;AAAC,aAAOC,GAAE,IAAI,KAAK,YAAY,IAAI,GAAE,KAAK,IAAE,GAAE,CAAC;AAAA,IAAC;AAAE,IAAAD,GAAE,UAAQA,GAAE,SAAO,WAAU;AAAC,UAAIZ,KAAE,MAAKC,KAAED,GAAE,aAAYE,KAAE,EAAEF,IAAEA,GAAE,KAAGC,GAAE,YAAUD,GAAE,KAAGC,GAAE,QAAQ;AAAE,aAAOD,GAAE,MAAM,IAAE,MAAIE,KAAEA;AAAA,IAAC;AAAE,aAASmB,GAAErB,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,KAAEJ,GAAE,SAAO,GAAEc,KAAE,IAAGC,KAAEf,GAAE,CAAC;AAAE,UAAGI,KAAE,GAAE;AAAC,aAAIU,MAAGC,IAAEd,KAAE,GAAEA,KAAEG,IAAEH;AAAI,UAAAE,KAAEH,GAAEC,EAAC,IAAE,IAAGC,KAAES,KAAER,GAAE,QAAOD,OAAIY,MAAG,EAAEZ,EAAC,IAAGY,MAAGX;AAAE,QAAAY,KAAEf,GAAEC,EAAC,GAAEE,KAAEY,KAAE,IAAGb,KAAES,KAAER,GAAE,QAAOD,OAAIY,MAAG,EAAEZ,EAAC;AAAA,MAAE,WAASa,OAAI;AAAE,eAAM;AAAI,aAAKA,KAAE,OAAK;AAAG,QAAAA,MAAG;AAAG,aAAOD,KAAEC;AAAA,IAAC;AAAC,aAAS,EAAEf,IAAEC,IAAEC,IAAE;AAAC,UAAGF,OAAI,CAAC,CAACA,MAAGA,KAAEC,MAAGD,KAAEE;AAAE,cAAM,MAAMM,KAAER,EAAC;AAAA,IAAC;AAAC,aAAS,EAAEA,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAIC,IAAEU,IAAEC,IAAEC;AAAE,WAAIF,KAAEd,GAAE,CAAC,GAAEc,MAAG,IAAGA,MAAG;AAAG,UAAEb;AAAE,aAAM,EAAEA,KAAE,KAAGA,MAAGU,IAAEP,KAAE,MAAIA,KAAE,KAAK,MAAMH,KAAE,KAAGU,EAAC,GAAEV,MAAGU,KAAGG,KAAEJ,GAAE,IAAGC,KAAEV,EAAC,GAAEe,KAAEhB,GAAEI,EAAC,IAAEU,KAAE,GAAEX,MAAG,OAAKF,KAAE,KAAGA,MAAG,IAAEe,KAAEA,KAAE,MAAI,IAAEf,MAAG,MAAIe,KAAEA,KAAE,KAAG,IAAGD,KAAEb,KAAE,KAAGc,MAAG,SAAOd,KAAE,KAAGc,MAAG,SAAOA,MAAG,OAAKA,MAAG,KAAGD,MAAGb,KAAE,KAAGc,KAAE,KAAGF,MAAGZ,KAAE,KAAGc,KAAE,KAAGF,KAAE,OAAKd,GAAEI,KAAE,CAAC,IAAEU,KAAE,MAAI,MAAIJ,GAAE,IAAGT,KAAE,CAAC,IAAE,MAAIe,MAAGF,KAAE,KAAGE,MAAG,OAAKhB,GAAEI,KAAE,CAAC,IAAEU,KAAE,MAAI,MAAI,IAAEb,KAAE,KAAGA,MAAG,IAAEe,KAAEA,KAAE,MAAI,IAAEf,MAAG,IAAEe,KAAEA,KAAE,MAAI,IAAEf,MAAG,MAAIe,KAAEA,KAAE,KAAG,IAAGD,MAAGZ,MAAGD,KAAE,MAAIc,MAAG,QAAM,CAACb,MAAGD,KAAE,KAAGc,MAAG,QAAMD,OAAIZ,MAAGD,KAAE,MAAIc,KAAE,KAAGF,MAAG,CAACX,MAAGD,KAAE,KAAGc,KAAE,KAAGF,KAAE,OAAKd,GAAEI,KAAE,CAAC,IAAEU,KAAE,MAAI,MAAIJ,GAAE,IAAGT,KAAE,CAAC,IAAE,GAAEc;AAAA,IAAC;AAAC,aAAS,GAAGf,IAAEC,IAAEC,IAAE;AAAC,eAAQC,IAAEC,KAAE,CAAC,CAAC,GAAEU,IAAEC,KAAE,GAAEC,KAAEhB,GAAE,QAAOe,KAAEC,MAAG;AAAC,aAAIF,KAAEV,GAAE,QAAOU;AAAK,UAAAV,GAAEU,EAAC,KAAGb;AAAE,aAAIG,GAAE,CAAC,KAAG,GAAG,QAAQJ,GAAE,OAAOe,IAAG,CAAC,GAAEZ,KAAE,GAAEA,KAAEC,GAAE,QAAOD;AAAI,UAAAC,GAAED,EAAC,IAAED,KAAE,MAAIE,GAAED,KAAE,CAAC,MAAI,WAASC,GAAED,KAAE,CAAC,IAAE,IAAGC,GAAED,KAAE,CAAC,KAAGC,GAAED,EAAC,IAAED,KAAE,GAAEE,GAAED,EAAC,KAAGD;AAAA,MAAE;AAAC,aAAOE,GAAE,QAAQ;AAAA,IAAC;AAAC,aAAS,GAAGJ,IAAEC,IAAE;AAAC,UAAIC,IAAEC,IAAEC;AAAE,UAAGH,GAAE,OAAO;AAAE,eAAOA;AAAE,MAAAE,KAAEF,GAAE,EAAE,QAAOE,KAAE,MAAID,KAAE,KAAK,KAAKC,KAAE,CAAC,GAAEC,MAAG,IAAE,GAAG,GAAEF,EAAC,GAAG,SAAS,MAAIA,KAAE,IAAGE,KAAE,iCAAgCJ,GAAE,aAAWE,IAAED,KAAE,EAAED,IAAE,GAAEC,GAAE,MAAMG,EAAC,GAAE,IAAIJ,GAAE,CAAC,CAAC;AAAE,eAAQc,KAAEZ,IAAEY,QAAK;AAAC,YAAIC,KAAEd,GAAE,MAAMA,EAAC;AAAE,QAAAA,KAAEc,GAAE,MAAMA,EAAC,EAAE,MAAMA,EAAC,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC;AAAA,MAAC;AAAC,aAAOf,GAAE,aAAWE,IAAED;AAAA,IAAC;AAAC,QAAIqB,KAAE,2BAAU;AAAC,eAAStB,GAAEG,IAAEC,IAAEU,IAAE;AAAC,YAAIC,IAAEC,KAAE,GAAEC,KAAEd,GAAE;AAAO,aAAIA,KAAEA,GAAE,MAAM,GAAEc;AAAK,UAAAF,KAAEZ,GAAEc,EAAC,IAAEb,KAAEY,IAAEb,GAAEc,EAAC,IAAEF,KAAED,KAAE,GAAEE,KAAED,KAAED,KAAE;AAAE,eAAOE,MAAGb,GAAE,QAAQa,EAAC,GAAEb;AAAA,MAAC;AAAC,eAASF,GAAEE,IAAEC,IAAEU,IAAEC,IAAE;AAAC,YAAIC,IAAEC;AAAE,YAAGH,MAAGC;AAAE,UAAAE,KAAEH,KAAEC,KAAE,IAAE;AAAA;AAAQ,eAAIC,KAAEC,KAAE,GAAED,KAAEF,IAAEE;AAAI,gBAAGb,GAAEa,EAAC,KAAGZ,GAAEY,EAAC,GAAE;AAAC,cAAAC,KAAEd,GAAEa,EAAC,IAAEZ,GAAEY,EAAC,IAAE,IAAE;AAAG;AAAA,YAAK;AAAC,eAAOC;AAAA,MAAC;AAAC,eAASf,GAAEC,IAAEC,IAAEU,IAAEC,IAAE;AAAC,iBAAQC,KAAE,GAAEF;AAAK,UAAAX,GAAEW,EAAC,KAAGE,IAAEA,KAAEb,GAAEW,EAAC,IAAEV,GAAEU,EAAC,IAAE,IAAE,GAAEX,GAAEW,EAAC,IAAEE,KAAED,KAAEZ,GAAEW,EAAC,IAAEV,GAAEU,EAAC;AAAE,eAAK,CAACX,GAAE,CAAC,KAAGA,GAAE,SAAO;AAAG,UAAAA,GAAE,MAAM;AAAA,MAAC;AAAC,aAAO,SAASA,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAE;AAAC,YAAIC,IAAEC,IAAEC,IAAEI,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAE,GAAE,GAAE,GAAEC,IAAEC,IAAE,IAAGC,IAAE,GAAE,IAAGC,IAAEC,IAAE,KAAG/B,GAAE,aAAY,KAAGA,GAAE,KAAGC,GAAE,IAAE,IAAE,IAAG+B,KAAEhC,GAAE,GAAEiC,KAAEhC,GAAE;AAAE,YAAG,CAAC+B,MAAG,CAACA,GAAE,CAAC,KAAG,CAACC,MAAG,CAACA,GAAE,CAAC;AAAE,iBAAO,IAAI,GAAG,CAACjC,GAAE,KAAG,CAACC,GAAE,MAAI+B,KAAEC,MAAGD,GAAE,CAAC,KAAGC,GAAE,CAAC,IAAE,CAACA,MAAG,MAAID,MAAGA,GAAE,CAAC,KAAG,KAAG,CAACC,KAAE,KAAG,IAAE,KAAG,CAAC;AAAE,aAAInB,MAAGQ,KAAE,GAAEN,KAAEhB,GAAE,IAAEC,GAAE,MAAIa,KAAE,GAAEQ,KAAEd,IAAEQ,KAAEV,GAAEN,GAAE,IAAEsB,EAAC,IAAEhB,GAAEL,GAAE,IAAEqB,EAAC,IAAGQ,KAAEG,GAAE,QAAO,IAAED,GAAE,QAAON,KAAE,IAAI,GAAG,EAAE,GAAE,IAAEA,GAAE,IAAE,CAAC,GAAET,KAAE,GAAEgB,GAAEhB,EAAC,MAAIe,GAAEf,EAAC,KAAG,IAAGA;AAAI;AAAC,YAAGgB,GAAEhB,EAAC,KAAGe,GAAEf,EAAC,KAAG,MAAID,MAAIL,MAAG,QAAMiB,KAAEjB,KAAE,GAAG,WAAUC,KAAE,GAAG,YAAUC,KAAEe,KAAEjB,MAAGX,GAAE,IAAEC,GAAE,KAAG,IAAE2B,KAAEjB,IAAEiB,KAAE;AAAE,YAAE,KAAK,CAAC,GAAEL,KAAE;AAAA,aAAO;AAAC,cAAGK,KAAEA,KAAEN,KAAE,IAAE,GAAEL,KAAE,GAAEa,MAAG,GAAE;AAAC,iBAAIT,KAAE,GAAEY,KAAEA,GAAE,CAAC,GAAEL,OAAKX,KAAE,KAAGI,OAAIO,MAAIX;AAAI,mBAAGI,KAAEP,MAAGkB,GAAEf,EAAC,KAAG,IAAG,EAAEA,EAAC,IAAE,KAAGgB,KAAE,GAAEZ,KAAE,KAAGY,KAAE;AAAE,YAAAV,KAAEF,MAAGJ,KAAE;AAAA,UAAC,OAAK;AAAC,iBAAII,KAAEP,MAAGmB,GAAE,CAAC,IAAE,KAAG,GAAEZ,KAAE,MAAIY,KAAEpC,GAAEoC,IAAEZ,IAAEP,EAAC,GAAEkB,KAAEnC,GAAEmC,IAAEX,IAAEP,EAAC,GAAEgB,KAAEG,GAAE,QAAO,IAAED,GAAE,SAAQH,KAAEC,IAAE,IAAEE,GAAE,MAAM,GAAEF,EAAC,GAAE,IAAE,EAAE,QAAO,IAAEA;AAAG,gBAAE,GAAG,IAAE;AAAE,YAAAC,KAAEE,GAAE,MAAM,GAAEF,GAAE,QAAQ,CAAC,GAAE,KAAGE,GAAE,CAAC,GAAEA,GAAE,CAAC,KAAGnB,KAAE,KAAG,EAAE;AAAG;AAAG,cAAAO,KAAE,GAAEN,KAAEjB,GAAEmC,IAAE,GAAEH,IAAE,CAAC,GAAEf,KAAE,KAAGY,KAAE,EAAE,CAAC,GAAEG,MAAG,MAAIH,KAAEA,KAAEb,MAAG,EAAE,CAAC,KAAG,KAAIO,KAAEM,KAAE,KAAG,GAAEN,KAAE,KAAGA,MAAGP,OAAIO,KAAEP,KAAE,IAAGU,KAAE3B,GAAEoC,IAAEZ,IAAEP,EAAC,GAAEW,KAAED,GAAE,QAAO,IAAE,EAAE,QAAOT,KAAEjB,GAAE0B,IAAE,GAAEC,IAAE,CAAC,GAAEV,MAAG,MAAIM,MAAItB,GAAEyB,IAAEM,KAAEL,KAAEM,KAAEE,IAAER,IAAEX,EAAC,OAAKO,MAAG,MAAIN,KAAEM,KAAE,IAAGG,KAAES,GAAE,MAAM,IAAGR,KAAED,GAAE,QAAOC,KAAE,KAAGD,GAAE,QAAQ,CAAC,GAAEzB,GAAE,GAAEyB,IAAE,GAAEV,EAAC,GAAEC,MAAG,OAAK,IAAE,EAAE,QAAOA,KAAEjB,GAAEmC,IAAE,GAAEH,IAAE,CAAC,GAAEf,KAAE,MAAIM,MAAItB,GAAE,GAAE+B,KAAE,IAAEC,KAAEE,IAAE,GAAEnB,EAAC,KAAI,IAAE,EAAE,UAAQC,OAAI,MAAIM,MAAI,IAAE,CAAC,CAAC,IAAG,EAAEJ,IAAG,IAAEI,IAAEN,MAAG,EAAE,CAAC,IAAE,EAAE,GAAG,IAAEiB,GAAEH,EAAC,KAAG,KAAG,IAAE,CAACG,GAAEH,EAAC,CAAC,GAAE,IAAE;AAAA,oBAAUA,OAAI,KAAG,EAAE,CAAC,MAAI,WAASD;AAAK,YAAAL,KAAE,EAAE,CAAC,MAAI;AAAA,UAAM;AAAC,YAAE,CAAC,KAAG,EAAE,MAAM;AAAA,QAAC;AAAC,YAAGD,MAAG;AAAE,UAAAI,GAAE,IAAEV,IAAE,KAAGO;AAAA,aAAM;AAAC,eAAIN,KAAE,GAAEI,KAAE,EAAE,CAAC,GAAEA,MAAG,IAAGA,MAAG;AAAG,YAAAJ;AAAI,UAAAS,GAAE,IAAET,KAAED,KAAEM,KAAE,GAAEZ,GAAEgB,IAAEb,KAAEF,KAAEe,GAAE,IAAE,IAAEf,IAAEC,IAAEW,EAAC;AAAA,QAAC;AAAC,eAAOG;AAAA,MAAC;AAAA,IAAC,EAAE;AAAE,aAAShB,GAAEb,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAIC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEI,IAAEC,KAAEzB,GAAE;AAAY;AAAE,YAAGC,MAAG,MAAK;AAAC,cAAGmB,KAAEpB,GAAE,GAAE,CAACoB;AAAE,mBAAOpB;AAAE,eAAII,KAAE,GAAEY,KAAEI,GAAE,CAAC,GAAEJ,MAAG,IAAGA,MAAG;AAAG,YAAAZ;AAAI,cAAGU,KAAEb,KAAEG,IAAEU,KAAE;AAAE,YAAAA,MAAGH,IAAEI,KAAEd,IAAEkB,KAAEC,GAAEI,KAAE,CAAC,GAAEP,KAAEE,KAAET,GAAE,IAAGN,KAAEW,KAAE,CAAC,IAAE,KAAG;AAAA,mBAAUS,KAAE,KAAK,MAAMV,KAAE,KAAGH,EAAC,GAAEK,KAAEI,GAAE,QAAOI,MAAGR;AAAE,gBAAGb,IAAE;AAAC,qBAAKa,QAAKQ;AAAG,gBAAAJ,GAAE,KAAK,CAAC;AAAE,cAAAD,KAAEF,KAAE,GAAEb,KAAE,GAAEU,MAAGH,IAAEI,KAAED,KAAEH,KAAE;AAAA,YAAC;AAAM,oBAAM;AAAA,eAAM;AAAC,iBAAIQ,KAAEH,KAAEI,GAAEI,EAAC,GAAEpB,KAAE,GAAEY,MAAG,IAAGA,MAAG;AAAG,cAAAZ;AAAI,YAAAU,MAAGH,IAAEI,KAAED,KAAEH,KAAEP,IAAEa,KAAEF,KAAE,IAAE,IAAEI,KAAET,GAAE,IAAGN,KAAEW,KAAE,CAAC,IAAE,KAAG;AAAA,UAAC;AAAC,cAAGZ,KAAEA,MAAGF,KAAE,KAAGmB,GAAEI,KAAE,CAAC,MAAI,WAAST,KAAE,IAAEI,KAAEA,KAAET,GAAE,IAAGN,KAAEW,KAAE,CAAC,IAAGG,KAAEhB,KAAE,KAAGe,MAAGd,QAAKD,MAAG,KAAGA,OAAIF,GAAE,IAAE,IAAE,IAAE,MAAIiB,KAAE,KAAGA,MAAG,MAAIf,MAAG,KAAGC,MAAGD,MAAG,MAAIY,KAAE,IAAEC,KAAE,IAAEI,KAAET,GAAE,IAAGN,KAAEW,EAAC,IAAE,IAAEK,GAAEI,KAAE,CAAC,KAAG,KAAG,KAAGtB,OAAIF,GAAE,IAAE,IAAE,IAAE,KAAIC,KAAE,KAAG,CAACmB,GAAE,CAAC;AAAE,mBAAOA,GAAE,SAAO,GAAEF,MAAGjB,MAAGD,GAAE,IAAE,GAAEoB,GAAE,CAAC,IAAEV,GAAE,KAAIC,KAAEV,KAAEU,MAAGA,EAAC,GAAEX,GAAE,IAAE,CAACC,MAAG,KAAGmB,GAAE,CAAC,IAAEpB,GAAE,IAAE,GAAEA;AAAE,cAAGc,MAAG,KAAGM,GAAE,SAAOI,IAAER,KAAE,GAAEQ,SAAMJ,GAAE,SAAOI,KAAE,GAAER,KAAEN,GAAE,IAAGC,KAAEG,EAAC,GAAEM,GAAEI,EAAC,IAAET,KAAE,KAAGI,KAAET,GAAE,IAAGN,KAAEW,EAAC,IAAEL,GAAE,IAAGK,EAAC,IAAE,KAAGC,KAAE,IAAGE;AAAE;AAAO,kBAAGM,MAAG,GAAE;AAAC,qBAAIV,KAAE,GAAEC,KAAEK,GAAE,CAAC,GAAEL,MAAG,IAAGA,MAAG;AAAG,kBAAAD;AAAI,qBAAIC,KAAEK,GAAE,CAAC,KAAGJ,IAAEA,KAAE,GAAED,MAAG,IAAGA,MAAG;AAAG,kBAAAC;AAAI,gBAAAF,MAAGE,OAAIhB,GAAE,KAAIoB,GAAE,CAAC,KAAG,MAAIA,GAAE,CAAC,IAAE;AAAI;AAAA,cAAK,OAAK;AAAC,oBAAGA,GAAEI,EAAC,KAAGR,IAAEI,GAAEI,EAAC,KAAG;AAAE;AAAM,gBAAAJ,GAAEI,IAAG,IAAE,GAAER,KAAE;AAAA,cAAC;AAAC,eAAIF,KAAEM,GAAE,QAAOA,GAAE,EAAEN,EAAC,MAAI;AAAG,YAAAM,GAAE,IAAI;AAAA,QAAC;AAAC,aAAOb,OAAIP,GAAE,IAAEyB,GAAE,QAAMzB,GAAE,IAAE,MAAKA,GAAE,IAAE,OAAKA,GAAE,IAAEyB,GAAE,SAAOzB,GAAE,IAAE,GAAEA,GAAE,IAAE,CAAC,CAAC,KAAIA;AAAA,IAAC;AAAC,aAAS,EAAEA,IAAEC,IAAEC,IAAE;AAAC,UAAG,CAACF,GAAE,SAAS;AAAE,eAAO,GAAGA,EAAC;AAAE,UAAIG,IAAEC,KAAEJ,GAAE,GAAEc,KAAEO,GAAErB,GAAE,CAAC,GAAEe,KAAED,GAAE;AAAO,aAAOb,MAAGC,OAAIC,KAAED,KAAEa,MAAG,IAAED,KAAEA,GAAE,OAAO,CAAC,IAAE,MAAIA,GAAE,MAAM,CAAC,IAAE,EAAEX,EAAC,IAAEY,KAAE,MAAID,KAAEA,GAAE,OAAO,CAAC,IAAE,MAAIA,GAAE,MAAM,CAAC,IAAGA,KAAEA,MAAGd,GAAE,IAAE,IAAE,MAAI,QAAMA,GAAE,KAAGI,KAAE,KAAGU,KAAE,OAAK,EAAE,CAACV,KAAE,CAAC,IAAEU,IAAEZ,OAAIC,KAAED,KAAEa,MAAG,MAAID,MAAG,EAAEX,EAAC,MAAIC,MAAGW,MAAGD,MAAG,EAAEV,KAAE,IAAEW,EAAC,GAAEb,OAAIC,KAAED,KAAEE,KAAE,KAAG,MAAIU,KAAEA,KAAE,MAAI,EAAEX,EAAC,QAAMA,KAAEC,KAAE,KAAGW,OAAID,KAAEA,GAAE,MAAM,GAAEX,EAAC,IAAE,MAAIW,GAAE,MAAMX,EAAC,IAAGD,OAAIC,KAAED,KAAEa,MAAG,MAAIX,KAAE,MAAIW,OAAID,MAAG,MAAKA,MAAG,EAAEX,EAAC,KAAIW;AAAA,IAAC;AAAC,aAAS,GAAGd,IAAEC,IAAE;AAAC,UAAIC,KAAEF,GAAE,CAAC;AAAE,WAAIC,MAAGU,IAAET,MAAG,IAAGA,MAAG;AAAG,QAAAD;AAAI,aAAOA;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAEC,IAAEC,IAAE;AAAC,UAAGD,KAAE;AAAG,cAAMM,KAAE,MAAGL,OAAIF,GAAE,YAAUE,KAAG,MAAM,EAAE;AAAE,aAAOW,GAAE,IAAIb,GAAE,EAAE,GAAEC,IAAE,GAAE,IAAE;AAAA,IAAC;AAAC,aAASsB,GAAEvB,IAAEC,IAAEC,IAAE;AAAC,UAAGD,KAAE;AAAG,cAAM,MAAM,EAAE;AAAE,aAAOY,GAAE,IAAIb,GAAE,EAAE,GAAEC,IAAEC,IAAE,IAAE;AAAA,IAAC;AAAC,aAAS,GAAGF,IAAE;AAAC,UAAIC,KAAED,GAAE,SAAO,GAAEE,KAAED,KAAEU,KAAE;AAAE,UAAGV,KAAED,GAAEC,EAAC,GAAEA,IAAE;AAAC,eAAKA,KAAE,MAAI,GAAEA,MAAG;AAAG,UAAAC;AAAI,aAAID,KAAED,GAAE,CAAC,GAAEC,MAAG,IAAGA,MAAG;AAAG,UAAAC;AAAA,MAAG;AAAC,aAAOA;AAAA,IAAC;AAAC,aAAS,EAAEF,IAAE;AAAC,eAAQC,KAAE,IAAGD;AAAK,QAAAC,MAAG;AAAI,aAAOA;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAIC,IAAEU,KAAE,IAAId,GAAE,CAAC,GAAEe,KAAE,KAAK,KAAKZ,KAAEQ,KAAE,CAAC;AAAE,WAAIJ,KAAE,WAAK;AAAC,YAAGL,KAAE,MAAIY,KAAEA,GAAE,MAAMb,EAAC,GAAE,GAAGa,GAAE,GAAEC,EAAC,MAAIX,KAAE,QAAKF,KAAEO,GAAEP,KAAE,CAAC,GAAEA,OAAI,GAAE;AAAC,UAAAA,KAAEY,GAAE,EAAE,SAAO,GAAEV,MAAGU,GAAE,EAAEZ,EAAC,MAAI,KAAG,EAAEY,GAAE,EAAEZ,EAAC;AAAE;AAAA,QAAK;AAAC,QAAAD,KAAEA,GAAE,MAAMA,EAAC,GAAE,GAAGA,GAAE,GAAEc,EAAC;AAAA,MAAC;AAAC,aAAOR,KAAE,MAAGO;AAAA,IAAC;AAAC,aAAS,GAAGd,IAAE;AAAC,aAAOA,GAAE,EAAEA,GAAE,EAAE,SAAO,CAAC,IAAE;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAEC,IAAE;AAAC,eAAQC,IAAEC,KAAE,IAAIJ,GAAEC,GAAE,CAAC,CAAC,GAAEa,KAAE,GAAE,EAAEA,KAAEb,GAAE;AAAQ,YAAGE,KAAE,IAAIH,GAAEC,GAAEa,EAAC,CAAC,GAAEX,GAAE;AAAE,UAAAC,GAAEF,EAAC,EAAEC,EAAC,MAAIC,KAAED;AAAA,aAAO;AAAC,UAAAC,KAAED;AAAE;AAAA,QAAK;AAAC,aAAOC;AAAA,IAAC;AAAC,aAAS,GAAGJ,IAAEC,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,GAAEC,KAAE,GAAEC,KAAE,GAAEI,KAAExB,GAAE,aAAYyB,KAAED,GAAE,UAASE,KAAEF,GAAE;AAAU,UAAG,CAACxB,GAAE,KAAG,CAACA,GAAE,EAAE,CAAC,KAAGA,GAAE,IAAE;AAAG,eAAO,IAAIwB,GAAExB,GAAE,IAAEA,GAAE,EAAE,CAAC,IAAEA,GAAE,IAAE,IAAE,IAAE,IAAE,IAAE,IAAEA,GAAE,IAAEA,GAAE,IAAE,IAAE,IAAEA,KAAE,GAAG;AAAE,WAAIC,MAAG,QAAMM,KAAE,OAAGU,KAAES,MAAGT,KAAEhB,IAAEe,KAAE,IAAIQ,GAAE,OAAM,GAAExB,GAAE,IAAE;AAAI,QAAAA,KAAEA,GAAE,MAAMgB,EAAC,GAAEI,MAAG;AAAE,WAAIjB,KAAE,KAAK,IAAIO,GAAE,GAAEU,EAAC,CAAC,IAAE,KAAK,OAAK,IAAE,IAAE,GAAEH,MAAGd,IAAED,KAAEY,KAAEC,KAAE,IAAIS,GAAE,CAAC,GAAEA,GAAE,YAAUP,QAAI;AAAC,YAAGH,KAAED,GAAEC,GAAE,MAAMd,EAAC,GAAEiB,IAAE,CAAC,GAAEf,KAAEA,GAAE,MAAM,EAAEiB,EAAC,GAAEH,KAAED,GAAE,KAAKO,GAAER,IAAEZ,IAAEe,IAAE,CAAC,CAAC,GAAEI,GAAEL,GAAE,CAAC,EAAE,MAAM,GAAEC,EAAC,MAAII,GAAEN,GAAE,CAAC,EAAE,MAAM,GAAEE,EAAC,GAAE;AAAC,eAAIb,KAAEgB,IAAEhB;AAAK,YAAAW,KAAEF,GAAEE,GAAE,MAAMA,EAAC,GAAEE,IAAE,CAAC;AAAE,cAAGhB,MAAG;AAAK,gBAAGiB,KAAE,KAAG,EAAEH,GAAE,GAAEE,KAAEd,IAAEsB,IAAEP,EAAC;AAAE,cAAAM,GAAE,YAAUP,MAAG,IAAGf,KAAEY,KAAEE,KAAE,IAAIQ,GAAE,CAAC,GAAEL,KAAE,GAAED;AAAA;AAAS,qBAAOL,GAAEE,IAAES,GAAE,YAAUE,IAAED,IAAElB,KAAE,IAAE;AAAA;AAAO,mBAAOiB,GAAE,YAAUE,IAAEX;AAAA,QAAC;AAAC,QAAAA,KAAEC;AAAA,MAAC;AAAA,IAAC;AAAC,aAAS,EAAEhB,IAAEC,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEI,IAAEC,KAAE,GAAEC,KAAE,IAAGC,KAAE3B,IAAE4B,KAAED,GAAE,GAAEE,KAAEF,GAAE,aAAY,IAAEE,GAAE,UAAS,IAAEA,GAAE;AAAU,UAAGF,GAAE,IAAE,KAAG,CAACC,MAAG,CAACA,GAAE,CAAC,KAAG,CAACD,GAAE,KAAGC,GAAE,CAAC,KAAG,KAAGA,GAAE,UAAQ;AAAE,eAAO,IAAIC,GAAED,MAAG,CAACA,GAAE,CAAC,IAAE,KAAG,IAAED,GAAE,KAAG,IAAE,MAAIC,KAAE,IAAED,EAAC;AAAE,UAAG1B,MAAG,QAAMM,KAAE,OAAGY,KAAE,KAAGA,KAAElB,IAAE4B,GAAE,YAAUV,MAAGO,IAAExB,KAAEmB,GAAEO,EAAC,GAAEzB,KAAED,GAAE,OAAO,CAAC,GAAE,KAAK,IAAIY,KAAEa,GAAE,CAAC,IAAE,OAAM;AAAC,eAAKxB,KAAE,KAAGA,MAAG,KAAGA,MAAG,KAAGD,GAAE,OAAO,CAAC,IAAE;AAAG,UAAAyB,KAAEA,GAAE,MAAM3B,EAAC,GAAEE,KAAEmB,GAAEM,GAAE,CAAC,GAAExB,KAAED,GAAE,OAAO,CAAC,GAAEuB;AAAI,QAAAX,KAAEa,GAAE,GAAExB,KAAE,KAAGwB,KAAE,IAAIE,GAAE,OAAK3B,EAAC,GAAEY,QAAKa,KAAE,IAAIE,GAAE1B,KAAE,MAAID,GAAE,MAAM,CAAC,CAAC;AAAA,MAAC;AAAM,eAAOgB,KAAE,GAAGW,IAAEV,KAAE,GAAE,CAAC,EAAE,MAAML,KAAE,EAAE,GAAEa,KAAE,EAAE,IAAIE,GAAE1B,KAAE,MAAID,GAAE,MAAM,CAAC,CAAC,GAAEiB,KAAEO,EAAC,EAAE,KAAKR,EAAC,GAAEW,GAAE,YAAU,GAAE5B,MAAG,OAAKY,GAAEc,IAAE,GAAE,GAAEpB,KAAE,IAAE,IAAEoB;AAAE,WAAIP,KAAEO,IAAEV,KAAEF,KAAEY,KAAEL,GAAEK,GAAE,MAAM,CAAC,GAAEA,GAAE,KAAK,CAAC,GAAER,IAAE,CAAC,GAAEK,KAAEX,GAAEc,GAAE,MAAMA,EAAC,GAAER,IAAE,CAAC,GAAEf,KAAE,OAAI;AAAC,YAAGW,KAAEF,GAAEE,GAAE,MAAMS,EAAC,GAAEL,IAAE,CAAC,GAAED,KAAED,GAAE,KAAKK,GAAEP,IAAE,IAAIc,GAAEzB,EAAC,GAAEe,IAAE,CAAC,CAAC,GAAEE,GAAEH,GAAE,CAAC,EAAE,MAAM,GAAEC,EAAC,MAAIE,GAAEJ,GAAE,CAAC,EAAE,MAAM,GAAEE,EAAC;AAAE,cAAGF,KAAEA,GAAE,MAAM,CAAC,GAAEH,OAAI,MAAIG,KAAEA,GAAE,KAAK,GAAGY,IAAEV,KAAE,GAAE,CAAC,EAAE,MAAML,KAAE,EAAE,CAAC,IAAGG,KAAEK,GAAEL,IAAE,IAAIY,GAAEJ,EAAC,GAAEN,IAAE,CAAC,GAAElB,MAAG;AAAK,gBAAG,EAAEgB,GAAE,GAAEE,KAAEO,IAAE,GAAEV,EAAC;AAAE,cAAAa,GAAE,YAAUV,MAAGO,IAAER,KAAEH,KAAEY,KAAEL,GAAEF,GAAE,MAAM,CAAC,GAAEA,GAAE,KAAK,CAAC,GAAED,IAAE,CAAC,GAAEK,KAAEX,GAAEc,GAAE,MAAMA,EAAC,GAAER,IAAE,CAAC,GAAEf,KAAEY,KAAE;AAAA;AAAO,qBAAOH,GAAEI,IAAEY,GAAE,YAAU,GAAE,GAAEtB,KAAE,IAAE;AAAA;AAAO,mBAAOsB,GAAE,YAAU,GAAEZ;AAAE,QAAAA,KAAEC,IAAEd,MAAG;AAAA,MAAC;AAAA,IAAC;AAAC,aAAS,GAAGJ,IAAE;AAAC,aAAO,OAAOA,GAAE,IAAEA,GAAE,IAAE,CAAC;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,UAAIC,IAAEC,IAAEC;AAAE,YAAKF,KAAED,GAAE,QAAQ,GAAG,KAAG,OAAKA,KAAEA,GAAE,QAAQ,KAAI,EAAE,KAAIE,KAAEF,GAAE,OAAO,IAAI,KAAG,KAAGC,KAAE,MAAIA,KAAEC,KAAGD,MAAG,CAACD,GAAE,MAAME,KAAE,CAAC,GAAEF,KAAEA,GAAE,UAAU,GAAEE,EAAC,KAAGD,KAAE,MAAIA,KAAED,GAAE,SAAQE,KAAE,GAAEF,GAAE,WAAWE,EAAC,MAAI,IAAGA;AAAI;AAAC,WAAIC,KAAEH,GAAE,QAAOA,GAAE,WAAWG,KAAE,CAAC,MAAI,IAAG,EAAEA;AAAE;AAAC,UAAGH,KAAEA,GAAE,MAAME,IAAEC,EAAC,GAAEH,IAAE;AAAC,YAAGG,MAAGD,IAAEH,GAAE,IAAEE,KAAEA,KAAEC,KAAE,GAAEH,GAAE,IAAE,CAAC,GAAEG,MAAGD,KAAE,KAAGS,IAAET,KAAE,MAAIC,MAAGQ,KAAGR,KAAEC,IAAE;AAAC,eAAID,MAAGH,GAAE,EAAE,KAAK,CAACC,GAAE,MAAM,GAAEE,EAAC,CAAC,GAAEC,MAAGO,IAAER,KAAEC;AAAG,YAAAJ,GAAE,EAAE,KAAK,CAACC,GAAE,MAAME,IAAEA,MAAGQ,EAAC,CAAC;AAAE,UAAAV,KAAEA,GAAE,MAAME,EAAC,GAAEA,KAAEQ,KAAEV,GAAE;AAAA,QAAM;AAAM,UAAAE,MAAGC;AAAE,eAAKD;AAAK,UAAAF,MAAG;AAAI,QAAAD,GAAE,EAAE,KAAK,CAACC,EAAC,GAAEM,OAAIP,GAAE,IAAEA,GAAE,YAAY,QAAMA,GAAE,IAAE,MAAKA,GAAE,IAAE,OAAKA,GAAE,IAAEA,GAAE,YAAY,SAAOA,GAAE,IAAE,GAAEA,GAAE,IAAE,CAAC,CAAC;AAAA,MAAG;AAAM,QAAAA,GAAE,IAAE,GAAEA,GAAE,IAAE,CAAC,CAAC;AAAE,aAAOA;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC;AAAE,UAAGlB,GAAE,QAAQ,GAAG,IAAE,IAAG;AAAC,YAAGA,KAAEA,GAAE,QAAQ,gBAAe,IAAI,GAAE,GAAG,KAAKA,EAAC;AAAE,iBAAO,GAAGD,IAAEC,EAAC;AAAA,MAAC,WAASA,OAAI,cAAYA,OAAI;AAAM,eAAM,CAACA,OAAID,GAAE,IAAE,MAAKA,GAAE,IAAE,KAAIA,GAAE,IAAE,MAAKA;AAAE,UAAG,GAAG,KAAKC,EAAC;AAAE,QAAAC,KAAE,IAAGD,KAAEA,GAAE,YAAY;AAAA,eAAU,GAAG,KAAKA,EAAC;AAAE,QAAAC,KAAE;AAAA,eAAU,GAAG,KAAKD,EAAC;AAAE,QAAAC,KAAE;AAAA;AAAO,cAAM,MAAMM,KAAEP,EAAC;AAAE,WAAIa,KAAEb,GAAE,OAAO,IAAI,GAAEa,KAAE,KAAGG,KAAE,CAAChB,GAAE,MAAMa,KAAE,CAAC,GAAEb,KAAEA,GAAE,UAAU,GAAEa,EAAC,KAAGb,KAAEA,GAAE,MAAM,CAAC,GAAEa,KAAEb,GAAE,QAAQ,GAAG,GAAEc,KAAED,MAAG,GAAEX,KAAEH,GAAE,aAAYe,OAAId,KAAEA,GAAE,QAAQ,KAAI,EAAE,GAAEe,KAAEf,GAAE,QAAOa,KAAEE,KAAEF,IAAEV,KAAE,GAAGD,IAAE,IAAIA,GAAED,EAAC,GAAEY,IAAEA,KAAE,CAAC,IAAGI,KAAE,GAAGjB,IAAEC,IAAE,CAAC,GAAEiB,KAAED,GAAE,SAAO,GAAEJ,KAAEK,IAAED,GAAEJ,EAAC,MAAI,GAAE,EAAEA;AAAE,QAAAI,GAAE,IAAI;AAAE,aAAOJ,KAAE,IAAE,IAAIX,GAAEH,GAAE,IAAE,CAAC,KAAGA,GAAE,IAAE,GAAGkB,IAAEC,EAAC,GAAEnB,GAAE,IAAEkB,IAAEX,KAAE,OAAGQ,OAAIf,KAAEsB,GAAEtB,IAAEI,IAAEY,KAAE,CAAC,IAAGC,OAAIjB,KAAEA,GAAE,MAAM,KAAK,IAAIiB,EAAC,IAAE,KAAGP,GAAE,GAAEO,EAAC,IAAE,EAAE,IAAI,GAAEA,EAAC,CAAC,IAAGV,KAAE,MAAGP;AAAA,IAAE;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,UAAIC,IAAEC,KAAEF,GAAE,EAAE;AAAO,UAAGE,KAAE;AAAE,eAAOF,GAAE,OAAO,IAAEA,KAAE,EAAED,IAAE,GAAEC,IAAEA,EAAC;AAAE,MAAAC,KAAE,MAAI,KAAK,KAAKC,EAAC,GAAED,KAAEA,KAAE,KAAG,KAAGA,KAAE,GAAED,KAAEA,GAAE,MAAM,IAAE,GAAG,GAAEC,EAAC,CAAC,GAAED,KAAE,EAAED,IAAE,GAAEC,IAAEA,EAAC;AAAE,eAAQG,IAAEU,KAAE,IAAId,GAAE,CAAC,GAAEe,KAAE,IAAIf,GAAE,EAAE,GAAEgB,KAAE,IAAIhB,GAAE,EAAE,GAAEE;AAAK,QAAAE,KAAEH,GAAE,MAAMA,EAAC,GAAEA,KAAEA,GAAE,MAAMa,GAAE,KAAKV,GAAE,MAAMW,GAAE,MAAMX,EAAC,EAAE,MAAMY,EAAC,CAAC,CAAC,CAAC;AAAE,aAAOf;AAAA,IAAC;AAAC,aAAS,EAAED,IAAEC,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAIU,IAAEC,IAAEC,IAAEC,IAAEC,KAAE,GAAEC,KAAEnB,GAAE,WAAUoB,KAAE,KAAK,KAAKD,KAAER,EAAC;AAAE,WAAIJ,KAAE,OAAGU,KAAEf,GAAE,MAAMA,EAAC,GAAEc,KAAE,IAAIhB,GAAEG,EAAC,OAAI;AAAC,YAAGY,KAAEO,GAAEN,GAAE,MAAMC,EAAC,GAAE,IAAIjB,GAAEC,OAAIA,IAAG,GAAEkB,IAAE,CAAC,GAAEH,KAAEZ,KAAED,GAAE,KAAKY,EAAC,IAAEZ,GAAE,MAAMY,EAAC,GAAEZ,KAAEmB,GAAEP,GAAE,MAAME,EAAC,GAAE,IAAIjB,GAAEC,OAAIA,IAAG,GAAEkB,IAAE,CAAC,GAAEJ,KAAEC,GAAE,KAAKb,EAAC,GAAEY,GAAE,EAAEK,EAAC,MAAI,QAAO;AAAC,eAAIN,KAAEM,IAAEL,GAAE,EAAED,EAAC,MAAIE,GAAE,EAAEF,EAAC,KAAGA;AAAK;AAAC,cAAGA,MAAG;AAAG;AAAA,QAAK;AAAC,QAAAA,KAAEE,IAAEA,KAAEb,IAAEA,KAAEY,IAAEA,KAAED,IAAEI;AAAA,MAAG;AAAC,aAAOX,KAAE,MAAGQ,GAAE,EAAE,SAAOK,KAAE,GAAEL;AAAA,IAAC;AAAC,aAAS,GAAGf,IAAEC,IAAE;AAAC,eAAQC,KAAEF,IAAE,EAAEC;AAAG,QAAAC,MAAGF;AAAE,aAAOE;AAAA,IAAC;AAAC,aAAS,GAAGF,IAAEC,IAAE;AAAC,UAAIC,IAAEC,KAAEF,GAAE,IAAE,GAAEG,KAAEmB,GAAEvB,IAAEA,GAAE,WAAU,CAAC,GAAEc,KAAEV,GAAE,MAAM,GAAE;AAAE,UAAGH,KAAEA,GAAE,IAAI,GAAEA,GAAE,IAAIa,EAAC;AAAE,eAAO,IAAEX,KAAE,IAAE,GAAEF;AAAE,UAAGC,KAAED,GAAE,SAASG,EAAC,GAAEF,GAAE,OAAO;AAAE,YAAEC,KAAE,IAAE;AAAA,WAAM;AAAC,YAAGF,KAAEA,GAAE,MAAMC,GAAE,MAAME,EAAC,CAAC,GAAEH,GAAE,IAAIa,EAAC;AAAE,iBAAO,IAAE,GAAGZ,EAAC,IAAEC,KAAE,IAAE,IAAEA,KAAE,IAAE,GAAEF;AAAE,YAAE,GAAGC,EAAC,IAAEC,KAAE,IAAE,IAAEA,KAAE,IAAE;AAAA,MAAC;AAAC,aAAOF,GAAE,MAAMG,EAAC,EAAE,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGJ,IAAEC,IAAEC,IAAEC,IAAE;AAAC,UAAIC,IAAEU,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEC,IAAEI,IAAEC,KAAEzB,GAAE,aAAY0B,KAAExB,OAAI;AAAO,UAAGwB,MAAG,EAAExB,IAAE,GAAE,CAAC,GAAEC,OAAI,SAAOA,KAAEsB,GAAE,WAAS,EAAEtB,IAAE,GAAE,CAAC,MAAID,KAAEuB,GAAE,WAAUtB,KAAEsB,GAAE,WAAU,CAACzB,GAAE,SAAS;AAAE,QAAAmB,KAAE,GAAGnB,EAAC;AAAA,WAAM;AAAC,aAAImB,KAAE,EAAEnB,EAAC,GAAEe,KAAEI,GAAE,QAAQ,GAAG,GAAEO,MAAGtB,KAAE,GAAEH,MAAG,KAAGC,KAAEA,KAAE,IAAE,IAAED,MAAG,MAAIC,KAAEA,KAAE,IAAE,MAAIE,KAAEH,IAAEc,MAAG,MAAII,KAAEA,GAAE,QAAQ,KAAI,EAAE,GAAEK,KAAE,IAAIC,GAAE,CAAC,GAAED,GAAE,IAAEL,GAAE,SAAOJ,IAAES,GAAE,IAAE,GAAG,EAAEA,EAAC,GAAE,IAAGpB,EAAC,GAAEoB,GAAE,IAAEA,GAAE,EAAE,SAAQJ,KAAE,GAAGD,IAAE,IAAGf,EAAC,GAAEU,KAAEG,KAAEG,GAAE,QAAOA,GAAE,EAAEH,EAAC,KAAG;AAAG,UAAAG,GAAE,IAAI;AAAE,YAAG,CAACA,GAAE,CAAC;AAAE,UAAAD,KAAEO,KAAE,SAAO;AAAA,aAAQ;AAAC,cAAGX,KAAE,IAAED,QAAKd,KAAE,IAAIyB,GAAEzB,EAAC,GAAEA,GAAE,IAAEoB,IAAEpB,GAAE,IAAEc,IAAEd,KAAEsB,GAAEtB,IAAEwB,IAAEtB,IAAEC,IAAE,GAAEC,EAAC,GAAEgB,KAAEpB,GAAE,GAAEc,KAAEd,GAAE,GAAEkB,KAAE,KAAIH,KAAEK,GAAElB,EAAC,GAAEc,KAAEZ,KAAE,GAAEc,KAAEA,MAAGE,GAAElB,KAAE,CAAC,MAAI,QAAOgB,KAAEf,KAAE,KAAGY,OAAI,UAAQG,QAAKf,OAAI,KAAGA,QAAKH,GAAE,IAAE,IAAE,IAAE,MAAIe,KAAEC,MAAGD,OAAIC,OAAIb,OAAI,KAAGe,MAAGf,OAAI,KAAGiB,GAAElB,KAAE,CAAC,IAAE,KAAGC,QAAKH,GAAE,IAAE,IAAE,IAAE,KAAIoB,GAAE,SAAOlB,IAAEgB;AAAE,mBAAK,EAAEE,GAAE,EAAElB,EAAC,IAAEE,KAAE;AAAG,cAAAgB,GAAElB,EAAC,IAAE,GAAEA,OAAI,EAAEY,IAAEM,GAAE,QAAQ,CAAC;AAAG,eAAIH,KAAEG,GAAE,QAAO,CAACA,GAAEH,KAAE,CAAC,GAAE,EAAEA;AAAE;AAAC,eAAIF,KAAE,GAAEI,KAAE,IAAGJ,KAAEE,IAAEF;AAAI,YAAAI,MAAG,GAAG,OAAOC,GAAEL,EAAC,CAAC;AAAE,cAAGW,IAAE;AAAC,gBAAGT,KAAE;AAAE,kBAAGhB,MAAG,MAAIA,MAAG,GAAE;AAAC,qBAAIc,KAAEd,MAAG,KAAG,IAAE,GAAE,EAAEgB,IAAEA,KAAEF,IAAEE;AAAI,kBAAAE,MAAG;AAAI,qBAAIC,KAAE,GAAGD,IAAEf,IAAEH,EAAC,GAAEgB,KAAEG,GAAE,QAAO,CAACA,GAAEH,KAAE,CAAC,GAAE,EAAEA;AAAE;AAAC,qBAAIF,KAAE,GAAEI,KAAE,MAAKJ,KAAEE,IAAEF;AAAI,kBAAAI,MAAG,GAAG,OAAOC,GAAEL,EAAC,CAAC;AAAA,cAAC;AAAM,gBAAAI,KAAEA,GAAE,OAAO,CAAC,IAAE,MAAIA,GAAE,MAAM,CAAC;AAAE,YAAAA,KAAEA,MAAGL,KAAE,IAAE,MAAI,QAAMA;AAAA,UAAC,WAASA,KAAE,GAAE;AAAC,mBAAK,EAAEA;AAAG,cAAAK,KAAE,MAAIA;AAAE,YAAAA,KAAE,OAAKA;AAAA,UAAC,WAAS,EAAEL,KAAEG;AAAE,iBAAIH,MAAGG,IAAEH;AAAK,cAAAK,MAAG;AAAA;AAAS,YAAAL,KAAEG,OAAIE,KAAEA,GAAE,MAAM,GAAEL,EAAC,IAAE,MAAIK,GAAE,MAAML,EAAC;AAAA,QAAE;AAAC,QAAAK,MAAGlB,MAAG,KAAG,OAAKA,MAAG,IAAE,OAAKA,MAAG,IAAE,OAAK,MAAIkB;AAAA,MAAC;AAAC,aAAOnB,GAAE,IAAE,IAAE,MAAImB,KAAEA;AAAA,IAAC;AAAC,aAAS,GAAGnB,IAAEC,IAAE;AAAC,UAAGD,GAAE,SAAOC;AAAE,eAAOD,GAAE,SAAOC,IAAE;AAAA,IAAE;AAAC,aAAS,GAAGD,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,MAAM;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,KAAKC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,MAAM;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,MAAM;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,MAAAD,KAAE,IAAI,KAAKA,EAAC,GAAEC,KAAE,IAAI,KAAKA,EAAC;AAAE,UAAIC,IAAEC,KAAE,KAAK,WAAUC,KAAE,KAAK,UAASU,KAAEX,KAAE;AAAE,aAAM,CAACH,GAAE,KAAG,CAACC,GAAE,IAAEC,KAAE,IAAI,KAAK,GAAG,IAAE,CAACF,GAAE,KAAG,CAACC,GAAE,KAAGC,KAAEqB,GAAE,MAAKT,IAAE,CAAC,EAAE,MAAMb,GAAE,IAAE,IAAE,OAAI,IAAG,GAAEC,GAAE,IAAEF,GAAE,KAAG,CAACC,GAAE,KAAGD,GAAE,OAAO,KAAGE,KAAED,GAAE,IAAE,IAAEsB,GAAE,MAAKpB,IAAEC,EAAC,IAAE,IAAI,KAAK,CAAC,GAAEF,GAAE,IAAEF,GAAE,KAAG,CAACA,GAAE,KAAGC,GAAE,OAAO,KAAGC,KAAEqB,GAAE,MAAKT,IAAE,CAAC,EAAE,MAAM,GAAE,GAAEZ,GAAE,IAAEF,GAAE,KAAGC,GAAE,IAAE,KAAG,KAAK,YAAUa,IAAE,KAAK,WAAS,GAAEZ,KAAE,KAAK,KAAKoB,GAAEtB,IAAEC,IAAEa,IAAE,CAAC,CAAC,GAAEb,KAAEsB,GAAE,MAAKT,IAAE,CAAC,GAAE,KAAK,YAAUX,IAAE,KAAK,WAASC,IAAEF,KAAEF,GAAE,IAAE,IAAEE,GAAE,MAAMD,EAAC,IAAEC,GAAE,KAAKD,EAAC,KAAGC,KAAE,KAAK,KAAKoB,GAAEtB,IAAEC,IAAEa,IAAE,CAAC,CAAC,GAAEZ;AAAA,IAAC;AAAC,aAAS,GAAGF,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAOa,GAAEb,KAAE,IAAI,KAAKA,EAAC,GAAEA,GAAE,IAAE,GAAE,CAAC;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKF,EAAC,EAAE,MAAMC,IAAEC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGF,IAAE;AAAC,UAAG,CAACA,MAAG,OAAOA,MAAG;AAAS,cAAM,MAAM,KAAG,iBAAiB;AAAE,UAAIC,IAAEC,IAAEC,IAAEC,KAAEJ,GAAE,aAAW,MAAGc,KAAE,CAAC,aAAY,GAAE,GAAE,YAAW,GAAE,GAAE,YAAW,CAACR,IAAE,GAAE,YAAW,GAAEA,IAAE,QAAO,GAAEA,IAAE,QAAO,CAACA,IAAE,GAAE,UAAS,GAAE,CAAC;AAAE,WAAIL,KAAE,GAAEA,KAAEa,GAAE,QAAOb,MAAG;AAAE,YAAGC,KAAEY,GAAEb,EAAC,GAAEG,OAAI,KAAKF,EAAC,IAAE,GAAGA,EAAC,KAAIC,KAAEH,GAAEE,EAAC,OAAK;AAAO,cAAGO,GAAEN,EAAC,MAAIA,MAAGA,MAAGW,GAAEb,KAAE,CAAC,KAAGE,MAAGW,GAAEb,KAAE,CAAC;AAAE,iBAAKC,EAAC,IAAEC;AAAA;AAAO,kBAAM,MAAMK,KAAEN,KAAE,OAAKC,EAAC;AAAE,UAAGD,KAAE,UAASE,OAAI,KAAKF,EAAC,IAAE,GAAGA,EAAC,KAAIC,KAAEH,GAAEE,EAAC,OAAK;AAAO,YAAGC,OAAI,QAAIA,OAAI,SAAIA,OAAI,KAAGA,OAAI;AAAE,cAAGA;AAAE,gBAAG,OAAO,SAAO,OAAK,WAAS,OAAO,mBAAiB,OAAO;AAAa,mBAAKD,EAAC,IAAE;AAAA;AAAQ,oBAAM,MAAM,EAAE;AAAA;AAAO,iBAAKA,EAAC,IAAE;AAAA;AAAQ,gBAAM,MAAMM,KAAEN,KAAE,OAAKC,EAAC;AAAE,aAAO;AAAA,IAAI;AAAC,aAAS,GAAGH,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,UAAIC,IAAEC,IAAEC;AAAE,eAASC,GAAEU,IAAE;AAAC,YAAIC,IAAEC,IAAEC,IAAEC,KAAE;AAAK,YAAG,EAAEA,cAAad;AAAG,iBAAO,IAAIA,GAAEU,EAAC;AAAE,YAAGI,GAAE,cAAYd,IAAE,GAAGU,EAAC,GAAE;AAAC,UAAAI,GAAE,IAAEJ,GAAE,GAAEP,KAAE,CAACO,GAAE,KAAGA,GAAE,IAAEV,GAAE,QAAMc,GAAE,IAAE,KAAIA,GAAE,IAAE,QAAMJ,GAAE,IAAEV,GAAE,QAAMc,GAAE,IAAE,GAAEA,GAAE,IAAE,CAAC,CAAC,MAAIA,GAAE,IAAEJ,GAAE,GAAEI,GAAE,IAAEJ,GAAE,EAAE,MAAM,MAAII,GAAE,IAAEJ,GAAE,GAAEI,GAAE,IAAEJ,GAAE,IAAEA,GAAE,EAAE,MAAM,IAAEA,GAAE;AAAG;AAAA,QAAM;AAAC,YAAGG,KAAE,OAAOH,IAAEG,OAAI,UAAS;AAAC,cAAGH,OAAI,GAAE;AAAC,YAAAI,GAAE,IAAE,IAAEJ,KAAE,IAAE,KAAG,GAAEI,GAAE,IAAE,GAAEA,GAAE,IAAE,CAAC,CAAC;AAAE;AAAA,UAAM;AAAC,cAAGJ,KAAE,KAAGA,KAAE,CAACA,IAAEI,GAAE,IAAE,MAAIA,GAAE,IAAE,GAAEJ,OAAI,CAAC,CAACA,MAAGA,KAAE,KAAI;AAAC,iBAAIC,KAAE,GAAEC,KAAEF,IAAEE,MAAG,IAAGA,MAAG;AAAG,cAAAD;AAAI,YAAAR,KAAEQ,KAAEX,GAAE,QAAMc,GAAE,IAAE,KAAIA,GAAE,IAAE,QAAMH,KAAEX,GAAE,QAAMc,GAAE,IAAE,GAAEA,GAAE,IAAE,CAAC,CAAC,MAAIA,GAAE,IAAEH,IAAEG,GAAE,IAAE,CAACJ,EAAC,MAAII,GAAE,IAAEH,IAAEG,GAAE,IAAE,CAACJ,EAAC;AAAG;AAAA,UAAM,WAASA,KAAE,MAAI,GAAE;AAAC,YAAAA,OAAII,GAAE,IAAE,MAAKA,GAAE,IAAE,KAAIA,GAAE,IAAE;AAAK;AAAA,UAAM;AAAC,iBAAO,GAAGA,IAAEJ,GAAE,SAAS,CAAC;AAAA,QAAC,WAASG,OAAI;AAAS,gBAAM,MAAMT,KAAEM,EAAC;AAAE,gBAAOE,KAAEF,GAAE,WAAW,CAAC,OAAK,MAAIA,KAAEA,GAAE,MAAM,CAAC,GAAEI,GAAE,IAAE,OAAKF,OAAI,OAAKF,KAAEA,GAAE,MAAM,CAAC,IAAGI,GAAE,IAAE,IAAG,GAAG,KAAKJ,EAAC,IAAE,GAAGI,IAAEJ,EAAC,IAAE,GAAGI,IAAEJ,EAAC;AAAA,MAAC;AAAC,UAAGV,GAAE,YAAUQ,IAAER,GAAE,WAAS,GAAEA,GAAE,aAAW,GAAEA,GAAE,aAAW,GAAEA,GAAE,cAAY,GAAEA,GAAE,gBAAc,GAAEA,GAAE,kBAAgB,GAAEA,GAAE,kBAAgB,GAAEA,GAAE,kBAAgB,GAAEA,GAAE,mBAAiB,GAAEA,GAAE,SAAO,GAAEA,GAAE,SAAOA,GAAE,MAAI,IAAGA,GAAE,QAAM,IAAGA,GAAE,YAAU,IAAGA,GAAE,MAAI,IAAGA,GAAE,OAAK,IAAGA,GAAE,QAAM,IAAGA,GAAE,MAAI,IAAGA,GAAE,OAAK,IAAGA,GAAE,QAAM,IAAGA,GAAE,OAAK,IAAGA,GAAE,QAAM,IAAGA,GAAE,QAAM,IAAGA,GAAE,OAAK,IAAGA,GAAE,OAAK,IAAGA,GAAE,QAAM,IAAGA,GAAE,MAAI,IAAGA,GAAE,OAAK,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,QAAM,IAAGA,GAAE,QAAM,IAAGA,GAAE,KAAG,IAAGA,GAAE,MAAI,IAAGA,GAAE,QAAM,IAAGA,GAAE,OAAK,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,SAAO,IAAGA,GAAE,QAAM,IAAGA,GAAE,OAAK,IAAGA,GAAE,MAAI,IAAGA,GAAE,OAAK,IAAGA,GAAE,OAAK,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,MAAI,IAAGA,GAAE,OAAK,IAAGA,GAAE,QAAM,IAAGJ,OAAI,WAASA,KAAE,CAAC,IAAGA,MAAGA,GAAE,aAAW;AAAG,aAAIG,KAAE,CAAC,aAAY,YAAW,YAAW,YAAW,QAAO,QAAO,UAAS,QAAQ,GAAEF,KAAE,GAAEA,KAAEE,GAAE;AAAQ,UAAAH,GAAE,eAAeE,KAAEC,GAAEF,IAAG,CAAC,MAAID,GAAEE,EAAC,IAAE,KAAKA,EAAC;AAAG,aAAOE,GAAE,OAAOJ,EAAC,GAAEI;AAAA,IAAC;AAAC,aAAS,GAAGJ,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,IAAIC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAOa,GAAEb,KAAE,IAAI,KAAKA,EAAC,GAAEA,GAAE,IAAE,GAAE,CAAC;AAAA,IAAC;AAAC,aAAS,KAAI;AAAC,UAAIA,IAAEC,IAAEC,KAAE,IAAI,KAAK,CAAC;AAAE,WAAIK,KAAE,OAAGP,KAAE,GAAEA,KAAE,UAAU;AAAQ,YAAGC,KAAE,IAAI,KAAK,UAAUD,IAAG,CAAC,GAAEC,GAAE;AAAE,UAAAC,GAAE,MAAIA,KAAEA,GAAE,KAAKD,GAAE,MAAMA,EAAC,CAAC;AAAA,aAAO;AAAC,cAAGA,GAAE;AAAE,mBAAOM,KAAE,MAAG,IAAI,KAAK,IAAE,CAAC;AAAE,UAAAL,KAAED;AAAA,QAAC;AAAC,aAAOM,KAAE,MAAGL,GAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGF,IAAE;AAAC,aAAOA,cAAa,KAAGA,MAAGA,GAAE,gBAAc,MAAI;AAAA,IAAE;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,GAAG;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,IAAIC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI,CAAC;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI,EAAE;AAAA,IAAC;AAAC,aAAS,KAAI;AAAC,aAAO,GAAG,MAAK,WAAU,IAAI;AAAA,IAAC;AAAC,aAAS,KAAI;AAAC,aAAO,GAAG,MAAK,WAAU,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,IAAIC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,IAAIC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,IAAIC,EAAC;AAAA,IAAC;AAAC,aAAS,GAAGD,IAAE;AAAC,UAAIC,IAAEC,IAAEC,IAAEC,IAAEU,KAAE,GAAEC,KAAE,IAAI,KAAK,CAAC,GAAEC,KAAE,CAAC;AAAE,UAAGhB,OAAI,SAAOA,KAAE,KAAK,YAAU,EAAEA,IAAE,GAAE,CAAC,GAAEG,KAAE,KAAK,KAAKH,KAAEW,EAAC,GAAE,KAAK;AAAO,YAAG,OAAO;AAAgB,eAAIV,KAAE,OAAO,gBAAgB,IAAI,YAAYE,EAAC,CAAC,GAAEW,KAAEX;AAAG,YAAAC,KAAEH,GAAEa,EAAC,GAAEV,MAAG,QAAMH,GAAEa,EAAC,IAAE,OAAO,gBAAgB,IAAI,YAAY,CAAC,CAAC,EAAE,CAAC,IAAEE,GAAEF,IAAG,IAAEV,KAAE;AAAA,iBAAY,OAAO,aAAY;AAAC,eAAIH,KAAE,OAAO,YAAYE,MAAG,CAAC,GAAEW,KAAEX;AAAG,YAAAC,KAAEH,GAAEa,EAAC,KAAGb,GAAEa,KAAE,CAAC,KAAG,MAAIb,GAAEa,KAAE,CAAC,KAAG,QAAMb,GAAEa,KAAE,CAAC,IAAE,QAAM,KAAIV,MAAG,QAAM,OAAO,YAAY,CAAC,EAAE,KAAKH,IAAEa,EAAC,KAAGE,GAAE,KAAKZ,KAAE,GAAG,GAAEU,MAAG;AAAG,UAAAA,KAAEX,KAAE;AAAA,QAAC;AAAM,gBAAM,MAAM,EAAE;AAAA;AAAO,eAAKW,KAAEX;AAAG,UAAAa,GAAEF,IAAG,IAAE,KAAK,OAAO,IAAE,MAAI;AAAE,WAAIX,KAAEa,GAAE,EAAEF,EAAC,GAAEd,MAAGW,IAAER,MAAGH,OAAII,KAAEM,GAAE,IAAGC,KAAEX,EAAC,GAAEgB,GAAEF,EAAC,KAAGX,KAAEC,KAAE,KAAGA,KAAGY,GAAEF,EAAC,MAAI,GAAEA;AAAI,QAAAE,GAAE,IAAI;AAAE,UAAGF,KAAE;AAAE,QAAAZ,KAAE,GAAEc,KAAE,CAAC,CAAC;AAAA,WAAM;AAAC,aAAId,KAAE,IAAGc,GAAE,CAAC,MAAI,GAAEd,MAAGS;AAAE,UAAAK,GAAE,MAAM;AAAE,aAAIb,KAAE,GAAEC,KAAEY,GAAE,CAAC,GAAEZ,MAAG,IAAGA,MAAG;AAAG,UAAAD;AAAI,QAAAA,KAAEQ,OAAIT,MAAGS,KAAER;AAAA,MAAE;AAAC,aAAOY,GAAE,IAAEb,IAAEa,GAAE,IAAEC,IAAED;AAAA,IAAC;AAAC,aAAS,GAAGf,IAAE;AAAC,aAAOa,GAAEb,KAAE,IAAI,KAAKA,EAAC,GAAEA,GAAE,IAAE,GAAE,KAAK,QAAQ;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAOA,KAAE,IAAI,KAAKA,EAAC,GAAEA,GAAE,IAAEA,GAAE,EAAE,CAAC,IAAEA,GAAE,IAAE,IAAEA,GAAE,IAAEA,GAAE,KAAG;AAAA,IAAG;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAEC,IAAE;AAAC,aAAO,IAAI,KAAKD,EAAC,EAAE,IAAIC,EAAC;AAAA,IAAC;AAAC,aAAS,KAAI;AAAC,UAAID,KAAE,GAAEC,KAAE,WAAUC,KAAE,IAAI,KAAKD,GAAED,EAAC,CAAC;AAAE,WAAIO,KAAE,OAAGL,GAAE,KAAG,EAAEF,KAAEC,GAAE;AAAQ,QAAAC,KAAEA,GAAE,KAAKD,GAAED,EAAC,CAAC;AAAE,aAAOO,KAAE,MAAGM,GAAEX,IAAE,KAAK,WAAU,KAAK,QAAQ;AAAA,IAAC;AAAC,aAAS,GAAGF,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,IAAI;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAO,IAAI,KAAKA,EAAC,EAAE,KAAK;AAAA,IAAC;AAAC,aAAS,GAAGA,IAAE;AAAC,aAAOa,GAAEb,KAAE,IAAI,KAAKA,EAAC,GAAEA,GAAE,IAAE,GAAE,CAAC;AAAA,IAAC;AAAC,IAAAY,GAAE,OAAO,IAAI,4BAA4B,CAAC,IAAEA,GAAE;AAAS,IAAAA,GAAE,OAAO,WAAW,IAAE;AAAU,QAAI,IAAEA,GAAE,cAAY,GAAG,EAAE;AAAE,SAAG,IAAI,EAAE,EAAE;AAAE,SAAG,IAAI,EAAE,EAAE;AAAE,QAAI,KAAG;AAAA;AAAA;;;ACAl4iC,IAAAyB,yBAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAE5D,QAAM;AAAA,MACJ,SAAAC;AAAA,MACA,kBAAAC;AAAA,MACA,gBAAAC;AAAA,MACA,QAAAC;AAAA,MACA,YAAAC;AAAA,IACF,IAAI;AAGJ,QAAM,SAAS,CAAC;AAEhB,YAAQ,SAAS;AACjB,YAAQ,SAAS,CAAC;AAMlB,WAAO,gBAAgB;AAAA,MACrB,QAAQ;AAAA,MACR,QAAQ;AAAA,IACV;AAEA,WAAO,gCAAgC,MAAM;AAC3C,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,+HAA+H,WAAW;AAAA;AAAA,MAE5J;AAAA,IAAC;AACD,WAAO,kCAAkC,MAAM;AAC7C,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,iIAAiI,WAAW;AAAA;AAAA,MAE9J;AAAA,IAAC;AACD,WAAO,6BAA6B,MAAM;AACxC,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,4HAA4H,WAAW;AAAA;AAAA,MAEzJ;AAAA,IAAC;AACD,WAAO,kCAAkC,MAAM;AAC7C,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,iIAAiI,WAAW;AAAA;AAAA,MAE9J;AAAA,IAAC;AACD,WAAO,8BAA8B,MAAM;AACzC,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,6HAA6H,WAAW;AAAA;AAAA,MAE1J;AAAA,IAAC;AACD,WAAO,gBAAgB,MAAM;AAC3B,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,+GAA+G,WAAW;AAAA;AAAA,MAE5I;AAAA,IAAC;AACD,WAAO,UAAUJ;AAKjB,WAAO,MAAM,MAAM;AACjB,YAAM,cAAcI,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,wGAAwG,WAAW;AAAA;AAAA,MAErI;AAAA,IAAC;AACD,WAAO,QAAQ,MAAM;AACnB,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,uGAAuG,WAAW;AAAA;AAAA,MAEpI;AAAA,IAAC;AACD,WAAO,OAAO,MAAM;AAClB,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,sGAAsG,WAAW;AAAA;AAAA,MAEnI;AAAA,IAAC;AACD,WAAO,MAAM,MAAM;AACjB,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,qGAAqG,WAAW;AAAA;AAAA,MAElI;AAAA,IAAC;AACD,WAAO,YAAYD,QAAO;AAK1B,WAAO,sBAAsB,MAAM;AACjC,YAAM,cAAcC,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,gIAAgI,WAAW;AAAA;AAAA,MAE7J;AAAA,IAAC;AACD,WAAO,kBAAkB,MAAM;AAC7B,YAAM,cAAcA,YAAW,EAAE;AACjC,YAAM,IAAI;AAAA,QAAM,4HAA4H,WAAW;AAAA;AAAA,MAEzJ;AAAA,IAAC;AAKD,WAAO,SAASH,kBAAiB,UAAU;AAC3C,WAAO,WAAWA,kBAAiB,UAAU;AAC7C,WAAO,UAAUA,kBAAiB,UAAU;AAE5C,WAAO,YAAY;AAAA,MACjB,QAAQA,kBAAiB,QAAQ;AAAA,MACjC,UAAUA,kBAAiB,QAAQ;AAAA,MACnC,SAASA,kBAAiB,QAAQ;AAAA,IACpC;AAMA,YAAQ,OAAO,4BAA4BC,gBAAe;AAAA,MACxD,iBAAiB;AAAA,MACjB,eAAe;AAAA,MACf,gBAAgB;AAAA,MAChB,cAAc;AAAA,IAChB,CAAC;AAED,YAAQ,OAAO,sBAAsB;AAAA,MACnC,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,OAAO;AAAA,MACP,eAAe;AAAA,MACf,OAAO;AAAA,IACT;AAEA,YAAQ,OAAO,sBAAsB;AAAA,MACnC,IAAI;AAAA,MACJ,MAAM;AAAA,MACN,WAAW;AAAA,MACX,OAAO;AAAA,MACP,QAAQ;AAAA,IACV;AAEA,YAAQ,OAAO,yBAAyB;AAAA,MACtC,IAAI;AAAA,MACJ,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,UAAU;AAAA,MACV,mBAAmB;AAAA,MACnB,eAAe;AAAA,MACf,cAAc;AAAA,MACd,YAAY;AAAA,MACZ,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,UAAU;AAAA,MACV,eAAe;AAAA,IACjB;AAEA,YAAQ,OAAO,yBAAyB;AAAA,MACtC,IAAI;AAAA,MACJ,cAAc;AAAA,MACd,QAAQ;AAAA,MACR,SAAS;AAAA,IACX;AAEA,YAAQ,OAAO,mCAAmC;AAAA,MAChD,YAAY;AAAA,MACZ,OAAO;AAAA,MACP,SAAS;AAAA,IACX;AAEA,YAAQ,OAAO,YAAY;AAAA,MACzB,KAAK;AAAA,MACL,MAAM;AAAA,IACR;AAEA,YAAQ,OAAO,YAAY;AAAA,MACzB,SAAS;AAAA,MACT,aAAa;AAAA,IACf;AAEA,YAAQ,OAAO,aAAa;AAAA,MAC1B,OAAO;AAAA,MACP,MAAM;AAAA,IACR;AAGA,YAAQ,OAAO,YAAY;AAAA,MACzB,MAAM;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,MACT,SAAS;AAAA,MACT,mBAAmB;AAAA,IACrB;AAKA,QAAMG,gBAAN,MAAmB;AAAA,MACjB,cAAc;AACZ,eAAO,IAAI,MAAM,MAAM;AAAA,UACrB,IAAI,QAAQ,MAAM;AAChB,gBAAIC;AACJ,kBAAM,UAAUF,YAAW;AAC3B,gBAAI,QAAQ,QAAQ;AAClB,cAAAE,WAAU,4CAA4C,QAAQ,UAAU;AAAA;AAAA;AAAA;AAAA,YAI1E,OAAO;AACL,cAAAA,WAAU,iHAAiH,QAAQ,aAAa;AAAA,YAClJ;AAEA,YAAAA,YAAW;AAAA;AAGX,kBAAM,IAAI,MAAMA,QAAO;AAAA,UACzB;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAEA,YAAQ,eAAeD;AAEvB,WAAO,OAAO,SAAS,MAAM;AAAA;AAAA;;;AC1N7B,IAAAE,yBAAA;AAAA;AAAA,QAAMC,UAAS;AAEf,WAAO,UAAUA;AAAA;AAAA;;;ACFjB,mBACM;AADN;AAAA;AAAA,oBAA6B;AAC7B,IAAM,SAAS,IAAI,2BAAa;AAAA;AAAA;;;ACDhC;AAAA;AAAA;AAAA,gBAAAC;AAAA,EAAA,eAAAC;AAAA;AASA,SAASC,gBAAe,WAAWC,SAAQ;AACzC,MAAI;AACF;AACF,iBAAiB,WAAWA,OAAM;AAClC,EAAAA,QAAO,cAAPA,QAAO,YAAc;AACrB,EAAAA,QAAO,WAAW,GAAG,IAAI;AAC3B;AACA,eAAe,SAAS,UAAUC,WAAU,CAAC,GAAG,qBAAqBD,SAAQ,OAAO;AAClF,QAAM,EAAE,QAAQ,IAAI;AACpB,QAAME,WAAU,IAAI,QAAQ,QAAQ,OAAO;AAC3C,QAAM,EAAE,UAAU,iBAAiB,MAAM,YAAY,GAAG,KAAK,IAAID,oBAAmB,WAAW,OAAO,YAAYA,QAAO,IAAIA;AAC7H,QAAM,cAAc,YAAY,SAAS,KAAKC,SAAQ,IAAI,SAAS,KAAK;AACxE,QAAM,QAAQC,iBAAgB,UAAUD,UAASF,QAAO,QAAQ;AAChE,MAAI,CAAC,UAAU;AACb,UAAM,OAAO,GAAG,KAAK,IAAI,IAAI,gBAAgB,EAAE,YAAY,CAAC,CAAC;AAC7D,QAAI;AACF,eAAS,KAAK,IAAI;AACpB,WAAO;AAAA,EACT;AACA,MAAI,MAAM,GAAG,KAAK,IAAI,QAAQ,IAAI,IAAI,gBAAgB,mBAAmB,CAAC;AAC1E,MAAI,gBAAgB;AACpB,aAAW,aAAaA,QAAO,WAAW;AACxC,UAAM,EAAE,GAAG,IAAI,OAAO,cAAc,aAAa,UAAU,IAAI;AAC/D,QAAI,OAAO,UAAU;AACnB,sBAAgB;AAChB;AAAA,IACF;AAAA,EACF;AACA,MAAI,CAAC,eAAe;AAClB,UAAM,OAAO,GAAG,KAAK,IAAI,IAAI,gBAAgB,EAAE,YAAY,CAAC,CAAC;AAC7D,QAAI;AACF,eAAS,KAAK,IAAI;AACpB,WAAO;AAAA,EACT;AACA,MAAI,kBAAkB,eAAe;AACnC,UAAM,IAAI,QAAQ,UAAU,UAAU;AAAA,EACxC;AACA,EAAAE,SAAQ,IAAI,gBAAgB,mCAAmC;AAC/D,QAAME,QAAO,IAAI,gBAAgB,EAAE,GAAG,MAAM,YAAY,CAAC;AACzD,QAAM,MAAM,IAAI,QAAQ,KAAK,EAAE,QAAQ,QAAQ,SAAAF,UAAS,MAAAE,MAAK,CAAC;AAC9D,QAAM,MAAM,MAAM,KAAK,KAAK,EAAE,GAAGJ,SAAQ,KAAK,cAAc,CAAC;AAC7D,aAAWK,MAAK,KAAK,WAAW,CAAC,GAAG;AAClC,UAAM,QAAQ,IAAIA,GAAE,MAAMA,GAAE,OAAO,EAAE,MAAM,KAAK,GAAGA,GAAE,QAAQ,CAAC;AAAA,EAChE;AACA,MAAI,gBAAgB;AAClB,WAAO,SAAS,KAAK,IAAI,QAAQ;AAAA,EACnC;AACA,SAAO,IAAI;AACb;AACA,eAAe,UAAUJ,UAASD,SAAQ,OAAO;AAC/C,QAAM,EAAE,QAAQ,IAAI;AACpB,QAAME,WAAU,IAAI,QAAQ,QAAQ,OAAO;AAC3C,EAAAA,SAAQ,IAAI,gBAAgB,mCAAmC;AAC/D,QAAM,MAAMC,iBAAgB,WAAWD,UAASF,QAAO,QAAQ;AAC/D,QAAM,cAAcC,UAAS,cAAcC,SAAQ,IAAI,SAAS,KAAK;AACrE,QAAME,QAAO,IAAI,gBAAgB,EAAE,YAAY,CAAC;AAChD,QAAM,MAAM,IAAI,QAAQ,KAAK,EAAE,QAAQ,QAAQ,SAAAF,UAAS,MAAAE,MAAK,CAAC;AAC9D,QAAM,MAAM,MAAM,KAAK,KAAK,EAAE,GAAGJ,SAAQ,KAAK,cAAc,CAAC;AAC7D,aAAWK,MAAK,KAAK,WAAW,CAAC;AAC/B,UAAM,QAAQ,IAAIA,GAAE,MAAMA,GAAE,OAAO,EAAE,MAAM,KAAK,GAAGA,GAAE,QAAQ,CAAC;AAChE,MAAIJ,UAAS,YAAY;AACvB,WAAO,SAAS,KAAK,IAAI,QAAQ;AACnC,SAAO;AACT;AACA,eAAe,KAAK,OAAOD,SAAQ;AACjC,EAAAD,gBAAe,aAAaC,OAAM;AAClC,EAAAA,QAAO,cAAPA,QAAO,YAAc;AACrB,QAAM,EAAE,SAAS,IAAI,IAAI;AACzB,QAAM,aAAaG,iBAAgB,WAAW,IAAI,SAASH,QAAO,QAAQ;AAC1E,QAAM,UAAU,IAAI,QAAQ,YAAY;AAAA,IACtC,SAAS,EAAE,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,GAAG;AAAA,EACrD,CAAC;AACD,QAAM,WAAW,MAAM,KAAK,SAASA,OAAM;AAC3C,QAAM,kBAAc,gCAAM,SAAS,QAAQ,aAAa,CAAC;AACzD,aAAW,UAAU,aAAa;AAChC,UAAM,EAAE,MAAM,OAAO,GAAGC,SAAQ,IAAI;AACpC,UAAM,QAAQ,IAAI,MAAM,OAAO,EAAE,MAAM,KAAK,GAAGA,SAAQ,CAAC;AAAA,EAC1D;AACA,QAAM,EAAE,SAAS,IAAI,IAAI;AACzB,QAAM,OAAO,MAAM,SAAS,KAAK;AACjC,MAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,IAAI,EAAE;AAC9B,WAAO;AACT,MAAI,WAAW;AACb,WAAO;AACT,QAAM,IAAI,MAAM,KAAK,OAAO;AAC9B;AACA,SAASE,iBAAgB,QAAQD,UAAS,UAAU;AAClD,MAAI,MAAM,YAAY;AACtB,MAAI,CAAC,KAAK;AACR,UAAM,OAAOA,SAAQ,IAAI,kBAAkB,KAAKA,SAAQ,IAAI,MAAM;AAClE,UAAM,QAAQA,SAAQ,IAAI,mBAAmB;AAC7C,UAAM,GAAG,UAAU,UAAU,MAAM,SAAS,OAAO,MAAM,IAAI,GAAG,QAAQ;AAAA,EAC1E;AACA,SAAO,IAAI,IAAI,GAAG,IAAI,QAAQ,OAAO,EAAE,CAAC,IAAI,MAAM,EAAE;AACtD;AAEA,SAAS,cAAcF,SAAQ;AAC7B,SAAO;AAAA,IACL,QAAQ,OAAO,UAAU;AACvB,YAAM,EAAE,QAAQ,IAAI;AACpB,YAAM,UAAU,OAAOA,YAAW,WAAWA,UAAS,MAAMA,QAAO,KAAK;AACxE,MAAAD,gBAAe,aAAa,OAAO;AACnC,YAAM,WAAW,MAAM,QAAQ,SAAS;AACxC,YAAM,EAAE,YAAY,UAAU,GAAGE,SAAQ,IAAI,OAAO,YAAY,QAAQ;AACxE,UAAI,sBAAsB,CAAC;AAC3B,UAAIK,YAAW,CAAC;AAChB,iBAAWC,QAAON,UAAS;AACzB,YAAIM,KAAI,WAAW,yBAAyB,GAAG;AAC7C,8BAAoBA,KAAI,MAAM,0BAA0B,MAAM,CAAC,IAAIN,SAAQM,IAAG;AAAA,QAChF,OAAO;AACL,UAAAD,UAASC,IAAG,IAAIN,SAAQM,IAAG;AAAA,QAC7B;AAAA,MACF;AACA,YAAM,SAAS,UAAUD,WAAU,qBAAqB,SAAS,KAAK;AAAA,IACxE;AAAA,IACA,SAAS,OAAO,UAAU;AACxB,YAAM,UAAU,OAAON,YAAW,WAAWA,UAAS,MAAMA,QAAO,KAAK;AACxE,MAAAD,gBAAe,aAAa,OAAO;AACnC,YAAME,WAAU,OAAO,YAAY,MAAM,MAAM,QAAQ,SAAS,CAAC;AACjE,YAAM,UAAUA,UAAS,SAAS,KAAK;AAAA,IACzC;AAAA,IACA,MAAM,OAAO,EAAE,OAAO,SAAAO,SAAQ,GAAG;AAlIrC;AAmIM,YAAM,UAAU,OAAOR,YAAW,WAAWA,UAAS,MAAMA,QAAO,KAAK;AACxE,MAAAD,gBAAe,aAAa,OAAO;AACnC,YAAM,EAAE,KAAK,QAAQ,IAAI;AACzB,kBAAM,QAAO,SAAb,GAAa,OAAS,MAAM,KAAK,OAAO,OAAO;AAC/C,kBAAM,QAAO,eAAb,GAAa,aAAe,MAAM,OAAO;AACzC,YAAM,SAAS,IAAI,SAAS;AAAA;AAAA,QAE1B,QAAQ,SAAS,SAAS;AAAA,MAC5B,EAAE,MAAM,GAAG,EAAE,CAAC;AACd,UAAI,aAAa,MAAM,KAAK,IAAI,SAAS,WAAW,QAAQ,WAAW,GAAG,GAAG;AAC3E,eAAO,KAAK,SAAS,OAAO;AAAA,MAC9B;AACA,aAAOS,SAAQ,KAAK;AAAA,IACtB;AAAA,EACF;AACF;AAlJA,IAIA,0BAIM,KAgGA,2BA2CA,WACA,eACE,QAAQX,SAAQC;AArJxB;AAAA;AAAA;AACA;AACA;AACA;AACA,+BAAsB;AACtB;AACA;AACA;AACA,IAAM,MAAM;AAgGZ,IAAM,4BAA4B;AA2ClC,IAAM,YAAY;AAClB,IAAM,gBAAgB;AACtB,KAAM,EAAE,QAAQ,QAAAD,SAAQ,SAAAC,aAAY,cAAc;AAAA,MAChD,SAAS,cAAc,MAAM;AAAA,MAC7B,WAAW;AAAA,QACT,OAAO,EAAE,UAAU,WAAW,cAAc,cAAc,CAAC;AAAA,MAC7D;AAAA,IACF,CAAC;AACD,YAAQ,IAAI,sBAAsB,OAAO,IAAI;AAAA;AAAA;;;ACvJ7C,SAAS,SAAS,OAAO;AACvB,SAAO,MAAM;AACb,WAAS,MAAM;AACjB;AACA,SAASW,SAAQ;AACf,SAAO,QAAQ;AACf,WAAS,QAAQ;AACnB;AAOA,SAAS,gBAAgB,aAAa;AACpC,gBAAc;AAChB;AACA,SAAS,eAAe,aAAa;AACnC,eAAa;AACf;AACA,SAAS,oBAAoB,aAAa;AACxC,oBAAkB;AACpB;AACA,SAAS,cAAc;AACvB;AA8KA,eAAe,YAAY;AACzB,SAAO;AAAA,IACL,GAAG,MAAM;AAAA,EACX;AACF;AA9MA,IACI,MACA,QACE,SAYF,aACA,YACA,iBAYA,UACA,cAOE,MA6EA;AAlHN;AAAA;AAAA;AACA,IAAI,OAAO;AACX,IAAI,SAAS;AACb,IAAM,UAAU,EAAE,MAAM,OAAO;AAY/B,IAAI,cAAc,CAAC;AACnB,IAAI,aAAa,CAAC;AAClB,IAAI,kBAAkB,CAAC;AAYvB,IAAI,WAAW;AACf,IAAI,eAAe;AAOnB,IAAM,OAAO,qBAAqB,CAAC,UAAU,SAAS,YAAY,UAAU;AAC1E,UAAI,EAAE,OAAO,IAAI;AACjB,UAAI,EAAE,MAAAC,MAAK,IAAI;AACf,UAAI,EAAE,aAAa,IAAI;AACvB,UAAI,EAAE,aAAa,CAAC,EAAE,IAAI;AAC1B,UAAI,EAAE,KAAK,IAAI;AACf,UAAI,EAAE,SAAS,KAAK,IAAI;AACxB,UAAI,EAAE,SAAS,KAAK,IAAI;AACxB;AACE,mBAAW,cAAc,MAAM;AAAA,MACjC;AACA,kBAAY,OAAO,KAAK,MAAM;AAC9B,UAAI,QAAQ,WAAW,UAAU,WAAW,UAAU,WAAW;AAC/D,mBAAW,OAAO,MAAM;AAC1B,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQA,UAAS;AACzD,mBAAW,KAAKA,KAAI;AACtB,UAAI,QAAQ,iBAAiB,UAAU,WAAW,gBAAgB,iBAAiB;AACjF,mBAAW,aAAa,YAAY;AACtC,UAAI,QAAQ,eAAe,UAAU,WAAW,cAAc,eAAe;AAC3E,mBAAW,WAAW,UAAU;AAClC,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK,IAAI;AACtB,UAAI,QAAQ,WAAW,UAAU,WAAW,UAAU,WAAW;AAC/D,mBAAW,OAAO,MAAM;AAC1B,UAAI,QAAQ,WAAW,UAAU,WAAW,UAAU,WAAW;AAC/D,mBAAW,OAAO,MAAM;AAC1B,UAAI;AACJ,UAAI;AACJ,UAAI,gBAAgB,SAAS;AAC7B,SAAG;AACD,oBAAY;AACZ,iBAAS,OAAO;AAChB;AACE,iBAAO,KAAK,IAAIA,KAAI;AAAA,QACtB;AACA,qBAAa,KAAK,aAAa,CAAC,IAAI,GAAG,mBAAmB,aAAa,CAAC,KAAK,mBAAmB,kBAAkB,EAAE;AAAA,UAClH;AAAA,UACA,EAAE,MAAM,QAAQ,MAAM,WAAW,CAAC,EAAE;AAAA,UACpC;AAAA,YACE,MAAM,CAAC,YAAY;AACjB,yBAAW,CAAC,IAAI;AAChB,0BAAY;AAAA,YACd;AAAA,UACF;AAAA,UACA;AAAA,YACE,SAAS,MAAM;AACb,qBAAO,GAAG,mBAAmB,aAAa,CAAC,KAAK,mBAAmB,kBAAkB,EAAE;AAAA,gBACrF;AAAA,gBACA,EAAE,MAAM,QAAQ,MAAM,MAAM,WAAW,CAAC,EAAE;AAAA,gBAC1C;AAAA,kBACE,MAAM,CAAC,YAAY;AACjB,+BAAW,CAAC,IAAI;AAChB,gCAAY;AAAA,kBACd;AAAA,gBACF;AAAA,gBACA,CAAC;AAAA,cACH,CAAC;AAAA,YACH;AAAA,UACF;AAAA,QACF,CAAC,KAAK,GAAG,mBAAmB,aAAa,CAAC,KAAK,mBAAmB,kBAAkB,EAAE;AAAA,UACpF;AAAA,UACA,EAAE,MAAM,QAAQ,MAAM,MAAM,WAAW,CAAC,EAAE;AAAA,UAC1C;AAAA,YACE,MAAM,CAAC,YAAY;AACjB,yBAAW,CAAC,IAAI;AAChB,0BAAY;AAAA,YACd;AAAA,UACF;AAAA,UACA,CAAC;AAAA,QACH,CAAC,EAAE,IAAI,EAAE;AAAA,MACX,SAAS,CAAC;AACV,aAAO;AAAA,IACT,CAAC;AAKD,IAAM,UAAU;AAAA,MACd,SAAS;AAAA,MACT,6BAA6B;AAAA,MAC7B,KAAK,EAAE,QAAQ,QAAQ,cAAc,EAAE,6BAA6B,OAAO,2BAA2B,MAAM,GAAG,cAAc,EAAE,6BAA6B,OAAO,2BAA2B,MAAM,EAAE;AAAA,MACtM,mBAAmB;AAAA,MACnB,UAAU;AAAA,MACV,mBAAmB;AAAA,MACnB,oBAAoB;AAAA,MACpB,OAAO;AAAA;AAAA,MAEP,kBAAkB;AAAA,MAClB,MAAM;AAAA,MACN,gBAAgB;AAAA,MAChB,WAAW;AAAA,QACT,KAAK,CAAC,EAAE,MAAM,MAAAC,OAAM,QAAQ,SAAS,OAAAC,QAAO,IAAI,MAAM,sGAAsG,UAAU,mGAAmG,OAAO,2DAA2DD,QAAO;AAAA,QAClV,OAAO,CAAC,EAAE,QAAQ,SAAAE,SAAQ,MAAM,sFAAsFA,WAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAqExG,SAAS,gDAAgDA,WAAU;AAAA,MAC7F;AAAA,MACA,cAAc;AAAA,IAChB;AAAA;AAAA;;;ACxMA,SAAS,QAAQC,OAAM,MAAM;AAC3B,MAAI,KAAK,CAAC,MAAM,OAAO,KAAK,CAAC,MAAM;AACjC,WAAO;AACT,MAAI,MAAM,IAAI,IAAIA,OAAM,QAAQ;AAChC,QAAM,IAAI,IAAI,MAAM,GAAG;AACvB,SAAO,IAAI,aAAa,SAAS,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,OAAO,IAAI;AACzF;AACA,SAAS,eAAe,MAAM,gBAAgB;AAC5C,MAAI,SAAS,OAAO,mBAAmB;AACrC,WAAO;AACT,MAAI,mBAAmB,SAAS;AAC9B,WAAO,KAAK,SAAS,GAAG,IAAI,KAAK,MAAM,GAAG,EAAE,IAAI;AAAA,EAClD,WAAW,mBAAmB,YAAY,CAAC,KAAK,SAAS,GAAG,GAAG;AAC7D,WAAO,OAAO;AAAA,EAChB;AACA,SAAO;AACT;AACA,SAAS,gBAAgB,UAAU;AACjC,SAAO,SAAS,MAAM,KAAK,EAAE,IAAI,SAAS,EAAE,KAAK,KAAK;AACxD;AACA,SAAS,cAAc,QAAQ;AAC7B,aAAWC,QAAO,QAAQ;AACxB,WAAOA,IAAG,IAAI,mBAAmB,OAAOA,IAAG,CAAC;AAAA,EAC9C;AACA,SAAO;AACT;AAWA,SAAS,eAAe,KAAKC,WAAU,wBAAwB;AAC7D,QAAM,UAAU,IAAI,IAAI,GAAG;AAC3B,SAAO,eAAe,SAAS,gBAAgB;AAAA,IAC7C,OAAO,IAAI,MAAM,QAAQ,cAAc;AAAA,MACrC,IAAI,KAAKD,MAAK;AACZ,YAAIA,SAAQ,SAASA,SAAQ,YAAYA,SAAQ,OAAO;AACtD,iBAAO,CAAC,UAAU;AAChB,mCAAuB,KAAK;AAC5B,mBAAO,IAAIA,IAAG,EAAE,KAAK;AAAA,UACvB;AAAA,QACF;AACA,QAAAC,UAAS;AACT,cAAM,QAAQ,QAAQ,IAAI,KAAKD,IAAG;AAClC,eAAO,OAAO,UAAU,aAAa,MAAM,KAAK,GAAG,IAAI;AAAA,MACzD;AAAA,IACF,CAAC;AAAA,IACD,YAAY;AAAA,IACZ,cAAc;AAAA,EAChB,CAAC;AACD,aAAW,YAAY,wBAAwB;AAC7C,WAAO,eAAe,SAAS,UAAU;AAAA,MACvC,MAAM;AACJ,QAAAC,UAAS;AACT,eAAO,IAAI,QAAQ;AAAA,MACrB;AAAA,MACA,YAAY;AAAA,MACZ,cAAc;AAAA,IAChB,CAAC;AAAA,EACH;AACA;AACE,YAAQ,OAAO,IAAI,4BAA4B,CAAC,IAAI,CAAC,OAAO,MAAM,YAAY;AAC5E,aAAO,QAAQ,KAAK,IAAI;AAAA,IAC1B;AAAA,EACF;AACA;AACE,iBAAa,OAAO;AAAA,EACtB;AACA,SAAO;AACT;AACA,SAAS,aAAa,KAAK;AACzB,2BAAyB,GAAG;AAC5B,SAAO,eAAe,KAAK,QAAQ;AAAA,IACjC,MAAM;AACJ,YAAM,IAAI;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF,CAAC;AACH;AACA,SAAS,eAAe,KAAK;AAC3B,2BAAyB,GAAG;AAC5B,aAAW,YAAY,CAAC,UAAU,cAAc,GAAG;AACjD,WAAO,eAAe,KAAK,UAAU;AAAA,MACnC,MAAM;AACJ,cAAM,IAAI,MAAM,qBAAqB,QAAQ,sCAAsC;AAAA,MACrF;AAAA,IACF,CAAC;AAAA,EACH;AACF;AACA,SAAS,yBAAyB,KAAK;AACrC;AACE,QAAI,OAAO,IAAI,4BAA4B,CAAC,IAAI,CAAC,OAAO,MAAM,YAAY;AACxE,aAAO,QAAQ,IAAI,IAAI,GAAG,GAAG,IAAI;AAAA,IACnC;AAAA,EACF;AACF;AAGA,SAAS,gBAAgB,UAAU;AACjC,SAAO,SAAS,SAAS,WAAW,KAAK,SAAS,SAAS,gBAAgB;AAC7E;AACA,SAAS,gBAAgB,UAAU;AACjC,MAAI,SAAS,SAAS,OAAO;AAC3B,WAAO,SAAS,QAAQ,WAAW,gBAAgB;AACrD,SAAO,SAAS,QAAQ,OAAO,EAAE,IAAI;AACvC;AACA,SAAS,kBAAkB,UAAU;AACnC,MAAI,SAAS,SAAS,gBAAgB,GAAG;AACvC,WAAO,SAAS,MAAM,GAAG,CAAC,iBAAiB,MAAM,IAAI;AAAA,EACvD;AACA,SAAO,SAAS,MAAM,GAAG,CAAC,YAAY,MAAM;AAC9C;AACA,SAAS,UAAU,UAAU;AAC3B,WAAS,SAAS,QAAQ,MAAM;AAC9B,QAAI,CAAC;AACH;AACF,eAAWD,QAAO,QAAQ;AACxB,UAAIA,KAAI,CAAC,MAAM,OAAO,SAAS,IAAIA,IAAG;AACpC;AACF,YAAM,SAAS,CAAC,GAAG,SAAS,OAAO,CAAC;AACpC,YAAM,OAAO,yBAAyBA,MAAK,MAAM,MAAM,KAAK,YAAY,GAAG,CAAC,CAAC,KAAK,qBAAqB,OAAO,KAAK,IAAI,CAAC;AACxH,YAAM,IAAI,MAAM,mBAAmBA,IAAG,IAAI,OAAO,OAAO,IAAI,KAAK,EAAE,KAAK,IAAI,GAAG;AAAA,IACjF;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,yBAAyBA,MAAK,MAAM,OAAO;AAClD,QAAM,kBAAkB,CAAC;AACzB,MAAI,qBAAqB,IAAIA,IAAG,GAAG;AACjC,oBAAgB,KAAK,UAAU,GAAG,EAAE;AAAA,EACtC;AACA,MAAI,mBAAmB,IAAIA,IAAG,GAAG;AAC/B,oBAAgB,KAAK,QAAQ,GAAG,EAAE;AAAA,EACpC;AACA,MAAI,4BAA4B,IAAIA,IAAG,GAAG;AACxC,oBAAgB,KAAK,iBAAiB,GAAG,EAAE;AAAA,EAC7C;AACA,MAAI,0BAA0B,IAAIA,IAAG,GAAG;AACtC,oBAAgB,KAAK,eAAe,GAAG,EAAE;AAAA,EAC3C;AACA,MAAI,qBAAqB,IAAIA,IAAG,GAAG;AACjC,oBAAgB,KAAK,UAAU,GAAG,EAAE;AAAA,EACtC;AACA,MAAI,gBAAgB,SAAS,GAAG;AAC9B,WAAO,IAAIA,IAAG,0BAA0B,gBAAgB,MAAM,GAAG,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,gBAAgB,SAAS,IAAI,SAAS,EAAE,GAAG,gBAAgB,GAAG,EAAE,CAAC;AAAA,EACrJ;AACF;AAzJA,IAAM,UA2BA,wBA4EA,aACA,kBAkDA,sBAQA,oBACA,6BACA,2BACA,sBAcA,yBACA,uBACA,gCACA,8BACA;AAvLN;AAAA;AAAA,IAAM,WAAW,IAAI,IAAI,uBAAuB;AA2BhD,IAAM;AAAA,IAEJ;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAoEF,IAAM,cAAc;AACpB,IAAM,mBAAmB;AAkDzB,IAAM,uBAAuC,oBAAI,IAAI;AAAA,MACnD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AACD,IAAM,qBAAqC,oBAAI,IAAI,CAAC,GAAG,sBAAsB,SAAS,CAAC;AACvF,IAAM,8BAA8C,oBAAI,IAAI,CAAC,GAAG,oBAAoB,CAAC;AACrF,IAAM,4BAA4C,oBAAI,IAAI,CAAC,GAAG,6BAA6B,WAAW,SAAS,CAAC;AAChH,IAAM,uBAAuC,oBAAI,IAAI;AAAA,MACnD;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AACD,IAAM,0BAA0B,UAAU,oBAAoB;AAC9D,IAAM,wBAAwB,UAAU,kBAAkB;AAC1D,IAAM,iCAAiC,UAAU,2BAA2B;AAC5E,IAAM,+BAA+B,UAAU,yBAAyB;AACxE,IAAM,0BAA0B,UAAU,oBAAoB;AAAA;AAAA;;;AC7JvD,SAAS,aAAa,OAAO;AACnC,SAAO,OAAO,KAAK,MAAM;AAC1B;AASO,SAAS,gBAAgB,OAAO;AACtC,QAAM,QAAQ,OAAO,eAAe,KAAK;AAEzC,SACC,UAAU,OAAO,aACjB,UAAU,QACV,OAAO,oBAAoB,KAAK,EAAE,KAAK,EAAE,KAAK,IAAI,MAAM;AAE1D;AAGO,SAAS,SAAS,OAAO;AAC/B,SAAO,OAAO,UAAU,SAAS,KAAK,KAAK,EAAE,MAAM,GAAG,EAAE;AACzD;AAGA,SAAS,iBAAiB,MAAM;AAC/B,UAAQ,MAAM;AAAA,IACb,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR,KAAK;AACJ,aAAO;AAAA,IACR;AACC,aAAO,OAAO,MACX,MAAM,KAAK,WAAW,CAAC,EAAE,SAAS,EAAE,EAAE,SAAS,GAAG,GAAG,CAAC,KACtD;AAAA,EACL;AACD;AAGO,SAAS,iBAAiB,KAAK;AACrC,MAAI,SAAS;AACb,MAAI,WAAW;AACf,QAAM,MAAM,IAAI;AAEhB,WAASE,KAAI,GAAGA,KAAI,KAAKA,MAAK,GAAG;AAChC,UAAM,OAAO,IAAIA,EAAC;AAClB,UAAM,cAAc,iBAAiB,IAAI;AACzC,QAAI,aAAa;AAChB,gBAAU,IAAI,MAAM,UAAUA,EAAC,IAAI;AACnC,iBAAWA,KAAI;AAAA,IAChB;AAAA,EACD;AAEA,SAAO,IAAI,aAAa,IAAI,MAAM,SAAS,IAAI,MAAM,QAAQ,CAAC;AAC/D;AAlGA,IACa,SAYA,cAiBP;AA9BN;AAAA;AACO,IAAM,UAAU;AAAA,MACtB,KAAK;AAAA,MACL,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,KAAM;AAAA,MACN,UAAU;AAAA,MACV,UAAU;AAAA,IACX;AAEO,IAAM,eAAN,cAA2B,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,MAKvC,YAAYC,UAAS,MAAM;AAC1B,cAAMA,QAAO;AACb,aAAK,OAAO;AACZ,aAAK,OAAO,KAAK,KAAK,EAAE;AAAA,MACzB;AAAA,IACD;AAOA,IAAM,qBAAqC,uBAAO;AAAA,MACjD,OAAO;AAAA,IACR,EACE,KAAK,EACL,KAAK,IAAI;AAAA;AAAA;;;ACfJ,SAAS,OAAO,OAAO,UAAU;AACvC,QAAM,SAAS,oBAAI,IAAI;AAGvB,QAAM,OAAO,CAAC;AAEd,QAAM,SAAS,oBAAI,IAAI;AAGvB,WAAS,KAAK,OAAO;AACpB,QAAI,OAAO,UAAU,YAAY;AAChC,YAAM,IAAI,aAAa,+BAA+B,IAAI;AAAA,IAC3D;AAEA,QAAI,CAAC,aAAa,KAAK,GAAG;AACzB,UAAI,OAAO,IAAI,KAAK,GAAG;AACtB,eAAO,IAAI,OAAO,OAAO,IAAI,KAAK,IAAI,CAAC;AACvC;AAAA,MACD;AAEA,aAAO,IAAI,OAAO,CAAC;AAEnB,UAAI,UAAU;AACb,cAAMC,OAAM,SAAS,KAAK;AAE1B,YAAI,OAAOA,SAAQ,UAAU;AAC5B,iBAAO,IAAI,OAAOA,IAAG;AACrB;AAAA,QACD;AAAA,MACD;AAEA,YAAM,OAAO,SAAS,KAAK;AAE3B,cAAQ,MAAM;AAAA,QACb,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACJ;AAAA,QAED,KAAK;AACiB,UAAC,MAAO,QAAQ,CAACC,QAAOC,OAAM;AAClD,iBAAK,KAAK,IAAIA,EAAC,GAAG;AAClB,iBAAKD,MAAK;AACV,iBAAK,IAAI;AAAA,UACV,CAAC;AACD;AAAA,QAED,KAAK;AACJ,gBAAM,KAAK,KAAK,EAAE,QAAQ,IAAI;AAC9B;AAAA,QAED,KAAK;AACJ,qBAAW,CAACE,MAAKF,MAAK,KAAK,OAAO;AACjC,iBAAK;AAAA,cACJ,QAAQ,aAAaE,IAAG,IAAI,oBAAoBA,IAAG,IAAI,KAAK;AAAA,YAC7D;AACA,iBAAKF,MAAK;AACV,iBAAK,IAAI;AAAA,UACV;AACA;AAAA,QAED;AACC,cAAI,CAAC,gBAAgB,KAAK,GAAG;AAC5B,kBAAM,IAAI;AAAA,cACT;AAAA,cACA;AAAA,YACD;AAAA,UACD;AAEA,cAAI,OAAO,sBAAsB,KAAK,EAAE,SAAS,GAAG;AACnD,kBAAM,IAAI;AAAA,cACT;AAAA,cACA;AAAA,YACD;AAAA,UACD;AAEA,qBAAWE,QAAO,OAAO;AACxB,iBAAK,KAAK,IAAIA,IAAG,EAAE;AACnB,iBAAK,MAAMA,IAAG,CAAC;AACf,iBAAK,IAAI;AAAA,UACV;AAAA,MACF;AAAA,IACD;AAAA,EACD;AAEA,OAAK,KAAK;AAEV,QAAM,QAAQ,oBAAI,IAAI;AAEtB,QAAM,KAAK,MAAM,EACf,OAAO,CAAC,UAAU,MAAM,CAAC,IAAI,CAAC,EAC9B,KAAK,CAACC,IAAGC,OAAMA,GAAE,CAAC,IAAID,GAAE,CAAC,CAAC,EAC1B,QAAQ,CAAC,OAAOF,OAAM;AACtB,UAAM,IAAI,MAAM,CAAC,GAAG,SAASA,EAAC,CAAC;AAAA,EAChC,CAAC;AAMF,WAASI,WAAU,OAAO;AACzB,QAAI,MAAM,IAAI,KAAK,GAAG;AACrB,aAAO,MAAM,IAAI,KAAK;AAAA,IACvB;AAEA,QAAI,aAAa,KAAK,GAAG;AACxB,aAAO,oBAAoB,KAAK;AAAA,IACjC;AAEA,QAAI,OAAO,IAAI,KAAK,GAAG;AACtB,aAAO,OAAO,IAAI,KAAK;AAAA,IACxB;AAEA,UAAM,OAAO,SAAS,KAAK;AAE3B,YAAQ,MAAM;AAAA,MACb,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACJ,eAAO,UAAUA,WAAU,MAAM,QAAQ,CAAC,CAAC;AAAA,MAE5C,KAAK;AACJ,eAAO,cAAc,iBAAiB,MAAM,MAAM,CAAC,MAClD,MAAM,KACP;AAAA,MAED,KAAK;AACJ,eAAO,YAAY,MAAM,QAAQ,CAAC;AAAA,MAEnC,KAAK;AACJ,cAAM;AAAA;AAAA,UAAgC,MAAO;AAAA,YAAI,CAACC,IAAGL,OACpDA,MAAK,QAAQI,WAAUC,EAAC,IAAI;AAAA,UAC7B;AAAA;AACA,cAAM,OAAO,MAAM,WAAW,KAAK,MAAM,SAAS,KAAK,QAAQ,KAAK;AACpE,eAAO,IAAI,QAAQ,KAAK,GAAG,CAAC,GAAG,IAAI;AAAA,MAEpC,KAAK;AAAA,MACL,KAAK;AACJ,eAAO,OAAO,IAAI,KAAK,MAAM,KAAK,KAAK,EAAE,IAAID,UAAS,EAAE,KAAK,GAAG,CAAC;AAAA,MAElE;AACC,cAAM,MAAM,IAAI,OAAO,KAAK,KAAK,EAC/B,IAAI,CAACH,SAAQ,GAAG,SAASA,IAAG,CAAC,IAAIG,WAAU,MAAMH,IAAG,CAAC,CAAC,EAAE,EACxD,KAAK,GAAG,CAAC;AACX,cAAM,QAAQ,OAAO,eAAe,KAAK;AACzC,YAAI,UAAU,MAAM;AACnB,iBAAO,OAAO,KAAK,KAAK,EAAE,SAAS,IAChC,qCAAqC,GAAG,MACxC;AAAA,QACJ;AAEA,eAAO;AAAA,IACT;AAAA,EACD;AAEA,QAAM,MAAMG,WAAU,KAAK;AAE3B,MAAI,MAAM,MAAM;AAEf,UAAM,SAAS,CAAC;AAGhB,UAAM,aAAa,CAAC;AAGpB,UAAM,SAAS,CAAC;AAEhB,UAAM,QAAQ,CAAC,MAAM,UAAU;AAC9B,aAAO,KAAK,IAAI;AAEhB,UAAI,OAAO,IAAI,KAAK,GAAG;AACtB,eAAO;AAAA;AAAA,UAA4B,OAAO,IAAI,KAAK;AAAA,QAAE;AACrD;AAAA,MACD;AAEA,UAAI,aAAa,KAAK,GAAG;AACxB,eAAO,KAAK,oBAAoB,KAAK,CAAC;AACtC;AAAA,MACD;AAEA,YAAM,OAAO,SAAS,KAAK;AAE3B,cAAQ,MAAM;AAAA,QACb,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACJ,iBAAO,KAAK,UAAUA,WAAU,MAAM,QAAQ,CAAC,CAAC,GAAG;AACnD;AAAA,QAED,KAAK;AACJ,iBAAO,KAAK,MAAM,SAAS,CAAC;AAC5B;AAAA,QAED,KAAK;AACJ,iBAAO,KAAK,YAAY,MAAM,QAAQ,CAAC,GAAG;AAC1C;AAAA,QAED,KAAK;AACJ,iBAAO,KAAK,SAAS,MAAM,MAAM,GAAG;AACf,UAAC,MAAO,QAAQ,CAACC,IAAGL,OAAM;AAC9C,uBAAW,KAAK,GAAG,IAAI,IAAIA,EAAC,KAAKI,WAAUC,EAAC,CAAC,EAAE;AAAA,UAChD,CAAC;AACD;AAAA,QAED,KAAK;AACJ,iBAAO,KAAK,SAAS;AACrB,qBAAW;AAAA,YACV,GAAG,IAAI,IAAI,MAAM,KAAK,KAAK,EACzB,IAAI,CAACA,OAAM,OAAOD,WAAUC,EAAC,CAAC,GAAG,EACjC,KAAK,GAAG,CAAC;AAAA,UACZ;AACA;AAAA,QAED,KAAK;AACJ,iBAAO,KAAK,SAAS;AACrB,qBAAW;AAAA,YACV,GAAG,IAAI,IAAI,MAAM,KAAK,KAAK,EACzB,IAAI,CAAC,CAACC,IAAGD,EAAC,MAAM,OAAOD,WAAUE,EAAC,CAAC,KAAKF,WAAUC,EAAC,CAAC,GAAG,EACvD,KAAK,GAAG,CAAC;AAAA,UACZ;AACA;AAAA,QAED;AACC,iBAAO;AAAA,YACN,OAAO,eAAe,KAAK,MAAM,OAAO,wBAAwB;AAAA,UACjE;AACA,iBAAO,KAAK,KAAK,EAAE,QAAQ,CAACJ,SAAQ;AACnC,uBAAW;AAAA,cACV,GAAG,IAAI,GAAG,UAAUA,IAAG,CAAC,IAAIG,WAAU,MAAMH,IAAG,CAAC,CAAC;AAAA,YAClD;AAAA,UACD,CAAC;AAAA,MACH;AAAA,IACD,CAAC;AAED,eAAW,KAAK,UAAU,GAAG,EAAE;AAE/B,WAAO,aAAa,OAAO,KAAK,GAAG,CAAC,KAAK,WAAW;AAAA,MACnD;AAAA,IACD,CAAC,KAAK,OAAO,KAAK,GAAG,CAAC;AAAA,EACvB,OAAO;AACN,WAAO;AAAA,EACR;AACD;AAGA,SAAS,SAAS,KAAK;AACtB,MAAI,OAAO;AAEX,KAAG;AACF,WAAO,MAAM,MAAM,MAAM,MAAM,IAAI;AACnC,UAAM,CAAC,EAAE,MAAM,MAAM,UAAU;AAAA,EAChC,SAAS,OAAO;AAEhB,SAAO,SAAS,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM;AAC3C;AAGA,SAAS,mBAAmBM,IAAG;AAC9B,SAAO,QAAQA,EAAC,KAAKA;AACtB;AAGA,SAAS,oBAAoB,KAAK;AACjC,SAAO,IAAI,QAAQ,cAAc,kBAAkB;AACpD;AAGA,SAAS,SAASN,MAAK;AACtB,SAAO,6BAA6B,KAAKA,IAAG,IACzCA,OACA,oBAAoB,KAAK,UAAUA,IAAG,CAAC;AAC3C;AAGA,SAAS,UAAUA,MAAK;AACvB,SAAO,6BAA6B,KAAKA,IAAG,IACzC,IAAIA,IAAG,KACP,IAAI,oBAAoB,KAAK,UAAUA,IAAG,CAAC,CAAC;AAChD;AAGA,SAAS,oBAAoB,OAAO;AACnC,MAAI,OAAO,UAAU;AAAU,WAAO,iBAAiB,KAAK;AAC5D,MAAI,UAAU;AAAQ,WAAO;AAC7B,MAAI,UAAU,KAAK,IAAI,QAAQ;AAAG,WAAO;AACzC,QAAM,MAAM,OAAO,KAAK;AACxB,MAAI,OAAO,UAAU;AAAU,WAAO,IAAI,QAAQ,YAAY,KAAK;AACnE,MAAI,OAAO,UAAU;AAAU,WAAO,QAAQ;AAC9C,SAAO;AACR;AAvTA,IASM,OACA,cACA;AAXN;AAAA;AAAA;AASA,IAAM,QAAQ;AACd,IAAM,eAAe;AACrB,IAAM,WACL;AAAA;AAAA;;;ACZD,IAAa,WACA,MACA,KACA,mBACA,mBACA;AALb;AAAA;AAAO,IAAM,YAAY;AAClB,IAAM,OAAO;AACb,IAAM,MAAM;AACZ,IAAM,oBAAoB;AAC1B,IAAM,oBAAoB;AAC1B,IAAM,gBAAgB;AAAA;AAAA;;;ACL7B;AAAA;AAAA;AAAA;AAAA;;;ACqBO,SAAS,UAAU,OAAO,UAAU;AAE1C,QAAM,cAAc,CAAC;AAGrB,QAAM,UAAU,oBAAI,IAAI;AAGxB,QAAM,SAAS,CAAC;AAChB,aAAWO,QAAO,UAAU;AAC3B,WAAO,KAAK,EAAE,KAAAA,MAAK,IAAI,SAASA,IAAG,EAAE,CAAC;AAAA,EACvC;AAGA,QAAM,OAAO,CAAC;AAEd,MAAIC,KAAI;AAGR,WAAS,QAAQ,OAAO;AACvB,QAAI,OAAO,UAAU,YAAY;AAChC,YAAM,IAAI,aAAa,+BAA+B,IAAI;AAAA,IAC3D;AAEA,QAAI,QAAQ,IAAI,KAAK;AAAG,aAAO,QAAQ,IAAI,KAAK;AAEhD,QAAI,UAAU;AAAW,aAAO;AAChC,QAAI,OAAO,MAAM,KAAK;AAAG,aAAO;AAChC,QAAI,UAAU;AAAU,aAAO;AAC/B,QAAI,UAAU;AAAW,aAAO;AAChC,QAAI,UAAU,KAAK,IAAI,QAAQ;AAAG,aAAO;AAEzC,UAAMC,SAAQD;AACd,YAAQ,IAAI,OAAOC,MAAK;AAExB,eAAW,EAAE,KAAAF,MAAK,GAAG,KAAK,QAAQ;AACjC,YAAMG,SAAQ,GAAG,KAAK;AACtB,UAAIA,QAAO;AACV,oBAAYD,MAAK,IAAI,KAAKF,IAAG,KAAK,QAAQG,MAAK,CAAC;AAChD,eAAOD;AAAA,MACR;AAAA,IACD;AAEA,QAAI,MAAM;AAEV,QAAI,aAAa,KAAK,GAAG;AACxB,YAAME,qBAAoB,KAAK;AAAA,IAChC,OAAO;AACN,YAAM,OAAO,SAAS,KAAK;AAE3B,cAAQ,MAAM;AAAA,QACb,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AACJ,gBAAM,aAAaA,qBAAoB,KAAK,CAAC;AAC7C;AAAA,QAED,KAAK;AACJ,gBAAM,aAAa,KAAK;AACxB;AAAA,QAED,KAAK;AACJ,gBAAM,YAAY,MAAM,YAAY,CAAC;AACrC;AAAA,QAED,KAAK;AACJ,gBAAM,EAAE,QAAQ,MAAM,IAAI;AAC1B,gBAAM,QACH,aAAa,iBAAiB,MAAM,CAAC,KAAK,KAAK,OAC/C,aAAa,iBAAiB,MAAM,CAAC;AACxC;AAAA,QAED,KAAK;AACJ,gBAAM;AAEN,mBAASC,KAAI,GAAGA,KAAI,MAAM,QAAQA,MAAK,GAAG;AACzC,gBAAIA,KAAI;AAAG,qBAAO;AAElB,gBAAIA,MAAK,OAAO;AACf,mBAAK,KAAK,IAAIA,EAAC,GAAG;AAClB,qBAAO,QAAQ,MAAMA,EAAC,CAAC;AACvB,mBAAK,IAAI;AAAA,YACV,OAAO;AACN,qBAAO;AAAA,YACR;AAAA,UACD;AAEA,iBAAO;AAEP;AAAA,QAED,KAAK;AACJ,gBAAM;AAEN,qBAAWF,UAAS,OAAO;AAC1B,mBAAO,IAAI,QAAQA,MAAK,CAAC;AAAA,UAC1B;AAEA,iBAAO;AACP;AAAA,QAED,KAAK;AACJ,gBAAM;AAEN,qBAAW,CAACH,MAAKG,MAAK,KAAK,OAAO;AACjC,iBAAK;AAAA,cACJ,QAAQ,aAAaH,IAAG,IAAII,qBAAoBJ,IAAG,IAAI,KAAK;AAAA,YAC7D;AACA,mBAAO,IAAI,QAAQA,IAAG,CAAC,IAAI,QAAQG,MAAK,CAAC;AAAA,UAC1C;AAEA,iBAAO;AACP;AAAA,QAED;AACC,cAAI,CAAC,gBAAgB,KAAK,GAAG;AAC5B,kBAAM,IAAI;AAAA,cACT;AAAA,cACA;AAAA,YACD;AAAA,UACD;AAEA,cAAI,OAAO,sBAAsB,KAAK,EAAE,SAAS,GAAG;AACnD,kBAAM,IAAI;AAAA,cACT;AAAA,cACA;AAAA,YACD;AAAA,UACD;AAEA,cAAI,OAAO,eAAe,KAAK,MAAM,MAAM;AAC1C,kBAAM;AACN,uBAAWH,QAAO,OAAO;AACxB,mBAAK,KAAK,IAAIA,IAAG,EAAE;AACnB,qBAAO,IAAI,iBAAiBA,IAAG,CAAC,IAAI,QAAQ,MAAMA,IAAG,CAAC,CAAC;AACvD,mBAAK,IAAI;AAAA,YACV;AACA,mBAAO;AAAA,UACR,OAAO;AACN,kBAAM;AACN,gBAAI,UAAU;AACd,uBAAWA,QAAO,OAAO;AACxB,kBAAI;AAAS,uBAAO;AACpB,wBAAU;AACV,mBAAK,KAAK,IAAIA,IAAG,EAAE;AACnB,qBAAO,GAAG,iBAAiBA,IAAG,CAAC,IAAI,QAAQ,MAAMA,IAAG,CAAC,CAAC;AACtD,mBAAK,IAAI;AAAA,YACV;AACA,mBAAO;AAAA,UACR;AAAA,MACF;AAAA,IACD;AAEA,gBAAYE,MAAK,IAAI;AACrB,WAAOA;AAAA,EACR;AAEA,QAAMA,SAAQ,QAAQ,KAAK;AAG3B,MAAIA,SAAQ;AAAG,WAAO,GAAGA,MAAK;AAE9B,SAAO,IAAI,YAAY,KAAK,GAAG,CAAC;AACjC;AAMA,SAASE,qBAAoB,OAAO;AACnC,QAAM,OAAO,OAAO;AACpB,MAAI,SAAS;AAAU,WAAO,iBAAiB,KAAK;AACpD,MAAI,iBAAiB;AAAQ,WAAO,iBAAiB,MAAM,SAAS,CAAC;AACrE,MAAI,UAAU;AAAQ,WAAO,UAAU,SAAS;AAChD,MAAI,UAAU,KAAK,IAAI,QAAQ;AAAG,WAAO,cAAc,SAAS;AAChE,MAAI,SAAS;AAAU,WAAO,cAAc,KAAK;AACjD,SAAO,OAAO,KAAK;AACpB;AArMA;AAAA;AAAA;AAOA;AAAA;AAAA;;;ACPA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;;;ACAA,SAAS,SAAS,OAAO,OAAO;AAC9B,SAAO;AAAA,IACL,WAAW,SAAS,OAAO,KAAK,EAAE;AAAA,EACpC;AACF;AACA,SAAS,SAAS,OAAO,QAAQ,MAAM;AACrC,MAAI;AACJ,QAAM,cAA8B,oBAAI,IAAI;AAC5C,WAAS,IAAI,WAAW;AACtB,QAAI,eAAe,OAAO,SAAS,GAAG;AACpC,cAAQ;AACR,UAAI,MAAM;AACR,cAAM,YAAY,CAAC,iBAAiB;AACpC,mBAAW,cAAc,aAAa;AACpC,qBAAW,CAAC,EAAE;AACd,2BAAiB,KAAK,YAAY,KAAK;AAAA,QACzC;AACA,YAAI,WAAW;AACb,mBAASE,KAAI,GAAGA,KAAI,iBAAiB,QAAQA,MAAK,GAAG;AACnD,6BAAiBA,EAAC,EAAE,CAAC,EAAE,iBAAiBA,KAAI,CAAC,CAAC;AAAA,UAChD;AACA,2BAAiB,SAAS;AAAA,QAC5B;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,WAAS,OAAO,IAAI;AAClB,QAAI,GAAG,KAAK,CAAC;AAAA,EACf;AACA,WAASC,WAAUC,MAAK,aAAa,MAAM;AACzC,UAAM,aAAa,CAACA,MAAK,UAAU;AACnC,gBAAY,IAAI,UAAU;AAC1B,QAAI,YAAY,SAAS,GAAG;AAC1B,aAAO,MAAM,KAAK,MAAM,KAAK;AAAA,IAC/B;AACA,IAAAA,KAAI,KAAK;AACT,WAAO,MAAM;AACX,kBAAY,OAAO,UAAU;AAC7B,UAAI,YAAY,SAAS,KAAK,MAAM;AAClC,aAAK;AACL,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AACA,SAAO,EAAE,KAAK,QAAQ,WAAAD,WAAU;AAClC;AA/CA,IACM;AADN;AAAA;AAAA;AACA,IAAM,mBAAmB,CAAC;AAAA;AAAA;;;ACD1B;AAAA;AAAA;AAAA;AAAA;AAAA,IAAM,QAGA;AAHN;AAAA;AAAA,IAAM,SAAS;AAAA,MACb,SAAS;AAAA,IACX;AACA,IAAM,OAAO,OAAO,UAAU;AAC5B,aAAO;AAAA,QACL,SAAS,MAAM,MAAM,OAAO,KAAK;AAAA,MACnC;AAAA,IACF;AAAA;AAAA;;;ACJA,SAAS,IAAIE,MAAKC,SAAQ,KAAK,OAAO;AACpC,MAAI;AACF,WAAOA,OAAM,eAAeD,IAAG,CAAC;AAAA,EAClC,QAAQ;AAAA,EACR;AACF;AARA,IASM,cACA,YAGA,WAeA;AA5BN;AAAA;AAAA;AACA;AACA;AAOA,IAAM,eAAe;AACrB,IAAM,aAAa;AACnB,QAAI,UAAU,KAAK,CAAC;AACpB,QAAI,YAAY,KAAK,CAAC;AACtB,IAAM,YAAY,MAAM;AACtB,YAAM,SAAS,WAAW,YAAY;AACtC,aAAO;AAAA;AAAA,QAEL,MAAM;AAAA,UACJ,WAAW,OAAO,KAAK;AAAA,QACzB;AAAA;AAAA,QAEA,YAAY;AAAA,UACV,WAAW,OAAO,WAAW;AAAA,QAC/B;AAAA;AAAA,QAEA,SAAS,OAAO;AAAA,MAClB;AAAA,IACF;AACA,IAAM,OAAO;AAAA,MACX,UAAU,IAAI;AACZ,cAAM,QAAQ,UAAU,EAAE;AAC1B,eAAO,MAAM,UAAU,EAAE;AAAA,MAC3B;AAAA,IACF;AAAA;AAAA;;;ACjCA;AAAA;AAAA;AAAA;AAAA,IAEM;AAFN;AAAA;AAAA;AACA;AACA,IAAM,SAAS,qBAAqB,CAAC,UAAU,SAAS,YAAY,UAAU;AAC5E,UAAI,OAAO;AACX,2BAAqB,UAAU,MAAM,CAAC,UAAU,QAAQ,KAAK;AAC7D,yBAAmB;AACnB,aAAO,gDAAgD,MAAM,KAAK,UAAU,4IAA4I,EAAE,IAAI,MAAM,UAAU,MAAM,QAAQ,CAAC,CAAC,IAAI,EAAE;AAAA,IACtQ,CAAC;AAAA;AAAA;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAEa,OACT,iBACS,WAEA,WACA,SACA,aACA;AATb;AAAA;AAAA;AAEO,IAAM,QAAQ;AAEd,IAAM,YAAY,YAAY,uCAAqB,MAAM,6EAA8C;AAEvG,IAAM,YAAY;AAClB,IAAM,UAAU,CAAC,sCAAqC,+CAA8C,2CAA0C,4CAA2C,yCAAyC;AAClO,IAAM,cAAc,CAAC,sCAAsC;AAC3D,IAAM,QAAQ,CAAC;AAAA;AAAA;;;ACTtB;AAAA;AAAA,iBAAAE;AAAA;AAAA,IAEMA;AAFN;AAAA;AAAA;AACA;AACA,IAAMA,SAAQ,qBAAqB,CAAC,UAAU,SAAS,YAAY,UAAU;AAC3E,UAAI,OAAO;AACX,2BAAqB,UAAU,MAAM,CAAC,UAAU,QAAQ,KAAK;AAC7D,yBAAmB;AACnB,aAAO,OAAO,OAAO,MAAM,MAAM,CAAC,YAAY,OAAO,MAAM,OAAO,OAAO,CAAC;AAAA,IAC5E,CAAC;AAAA;AAAA;;;ACPD,IAAAC,aAAA;AAAA,SAAAA,YAAA;AAAA,mBAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,mBAAAC;AAAA;AAAA,IAEaD,QACTE,kBACSL,YACAE,UACAE,cACAH;AAPb,IAAAK,UAAA;AAAA;AAEO,IAAMH,SAAQ;AAEd,IAAMH,aAAY,YAAYK,yCAAqB,MAAM,2EAAgD;AACzG,IAAMH,WAAU,CAAC,sCAAqC,+CAA8C,2CAA0C,4CAA2C,yCAAyC;AAClO,IAAME,eAAc,CAAC;AACrB,IAAMH,SAAQ,CAAC;AAAA;AAAA;;;ACPtB;AAAA;AAAA,iBAAAM;AAAA,EAAA,cAAAC;AAAA,EAAA,YAAAC;AAAA;AAAA,IAEMD,SAGAC,OAOAF;AAZN;AAAA;AAAA;AACA;AACA,IAAMC,UAAS;AAAA,MACb,SAAS;AAAA,IACX;AACA,IAAMC,QAAO,OAAO,EAAE,OAAO,MAAM;AACjC,YAAMC,WAAU,MAAM,OAAO,KAAK;AAClC,aAAO;AAAA,QACL,OAAO,MAAM,OAAO,KAAK,SAAS;AAAA,QAClC,SAAAA;AAAA,MACF;AAAA,IACF;AACA,IAAMH,WAAU;AAAA,MACd,YAAY,OAAO,EAAE,SAAS,OAAO,MAAM;AACzC,cAAMG,WAAU,MAAM,OAAO,KAAK;AAClC,YAAI,CAACA,UAAS;AACZ,kBAAQ,IAAI,mBAAmB;AAAA,QACjC;AACA,cAAM,OAAO,MAAM,QAAQ,SAAS;AACpC,cAAM,EAAE,MAAAC,OAAM,MAAM,IAAI,OAAO,YAAY,IAAI;AAC/C,YAAI;AACF,gBAAM,aAAa,MAAM,OAAO,KAAK,WAAW;AAAA,YAC9C,OAAO;AAAA,cACL,OAAOD,UAAS,MAAM;AAAA,YACxB;AAAA,UACF,CAAC;AACD,gBAAM,OAAO,KAAK,OAAO;AAAA,YACvB,MAAM;AAAA,cACJ,MAAAC;AAAA,cACA;AAAA,cACA,QAAQ,YAAY;AAAA,YACtB;AAAA,UACF,CAAC;AAAA,QACH,SAAS,OAAO;AACd,kBAAQ,MAAM,KAAK;AACnB,iBAAO,KAAK,KAAK,EAAE,SAAS,wBAAwB,CAAC;AAAA,QACvD;AACA,eAAO;AAAA,UACL,QAAQ;AAAA,QACV;AAAA,MACF;AAAA,MACA,YAAY,OAAO,EAAE,IAAI,MAAM;AAC7B,cAAM,KAAK,IAAI,aAAa,IAAI,IAAI;AACpC,YAAI,CAAC,IAAI;AACP,iBAAO,KAAK,KAAK,EAAE,SAAS,kBAAkB,CAAC;AAAA,QACjD;AACA,YAAI;AACF,gBAAM,OAAO,KAAK,OAAO;AAAA,YACvB,OAAO;AAAA,cACL,IAAI,OAAO,EAAE;AAAA,YACf;AAAA,UACF,CAAC;AAAA,QACH,SAAS,OAAO;AACd,kBAAQ,MAAM,KAAK;AACnB,iBAAO,KAAK,KAAK,EAAE,SAAS,iCAAiC,CAAC;AAAA,QAChE;AACA,eAAO;AAAA,UACL,QAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA;AAAA;;;AC5DA;AAAA;AAAA;AAAA;AAAA,IAIM,UAOA;AAXN;AAAA;AAAA;AACA;AACA;AACA;AACA,IAAM,WAAW,qBAAqB,CAAC,UAAU,SAAS,YAAY,UAAU;AAC9E,UAAI,EAAE,YAAY,SAAS,EAAE,EAAE,IAAI;AACnC,UAAIC;AACJ,UAAI,QAAQ,cAAc,UAAU,WAAW,aAAa,cAAc;AACxE,mBAAW,UAAU,SAAS;AAChC,aAAO,+dAA+d,cAAc,SAASA,SAAQ,CAAC,CAAC;AAAA,IACzgB,CAAC;AACD,IAAM,OAAO,qBAAqB,CAAC,UAAU,SAAS,YAAY,UAAU;AAC1E,UAAI;AACJ,UAAI,OAAO;AACX,2BAAqB,UAAU,MAAM,CAAC,UAAU,QAAQ,KAAK;AAC7D,UAAI,EAAE,KAAK,IAAI;AACf,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK,IAAI;AACtB,OAAC,EAAE,MAAM,IAAI;AACb,yBAAmB;AACnB,aAAO,cAAc,MAAM,KAAK,UAAU,mBAAmB,OAAO,MAAM,KAAK,QAAQ,MAAM,IAAI,CAAC,yHAAyH,mBAAmB,UAAU,UAAU,EAAE,SAAS,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,SAAS;AAC1T,eAAO,oHAAoH,cAAc,OAAO,KAAK,OAAO,CAAC,CAAC,6CAA6C,cAAc,SAAS,wBAAwB,CAAC,CAAC,IAAI,OAAO,KAAK,IAAI,CAAC,oBAAoB,aAAa,OAAO,KAAK,IAAI,IAAI,CAAC,6JAA6J,qBAAqB,OAAO,KAAK,IAAI,IAAI,CAAC;AAAA;AAAA,MAEhhB,CAAC,CAAC,8GAA8G,sOAAsO;AAAA,IACxV,CAAC;AAAA;AAAA;;;ACxBD,IAAAC,aAAA;AAAA,SAAAA,YAAA;AAAA,mBAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA;AAAA,mBAAAC;AAAA,EAAA,mBAAAC;AAAA;AAAA,IAEaF,QACTG,kBACSN,YAEAI,YACAF,UACAG,cACAJ;AATb,IAAAM,UAAA;AAAA;AAAA;AAEO,IAAMJ,SAAQ;AAEd,IAAMH,aAAY,YAAYM,yCAAqB,MAAM,yEAA4C;AAErG,IAAMF,aAAY;AAClB,IAAMF,WAAU,CAAC,sCAAqC,+CAA8C,2CAA0C,2CAA0C,0CAA0C;AAClO,IAAMG,eAAc,CAAC;AACrB,IAAMJ,SAAQ,CAAC;AAAA;AAAA;;;ACTtB,IAAAO,0BAAA;AAAA,SAAAA,yBAAA;AAAA,iBAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,YAAAC;AAAA;AAAA,IAEMD,SAGAC,OAQAF;AAbN,IAAAG,uBAAA;AAAA;AAAA;AACA;AACA,IAAMF,UAAS;AAAA,MACb,SAAS;AAAA,IACX;AACA,IAAMC,QAAO,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM;AAC7C,YAAM,OAAO,MAAM,OAAO,KAAK,WAAW;AAAA,QACxC,OAAO;AAAA,UACL,IAAI,OAAO,MAAM;AAAA,QACnB;AAAA,MACF,CAAC;AACD,aAAO,EAAE,KAAK;AAAA,IAChB;AACA,IAAMF,WAAU;AAAA,MACd,YAAY,OAAO,EAAE,SAAS,OAAO,MAAM;AACzC,cAAM,OAAO,MAAM,QAAQ,SAAS;AACpC,cAAM,EAAE,MAAAI,MAAK,IAAI,OAAO,YAAY,IAAI;AACxC,YAAI;AACF,gBAAM,OAAO,KAAK,OAAO;AAAA,YACvB,OAAO;AAAA,cACL,IAAI,OAAO,OAAO,MAAM;AAAA,YAC1B;AAAA,YACA,MAAM;AAAA,cACJ,MAAAA;AAAA,YACF;AAAA,UACF,CAAC;AAAA,QACH,SAAS,QAAQ;AACf,kBAAQ,MAAM,MAAM;AACpB,iBAAO,KAAK,KAAK,EAAE,SAAS,wBAAwB,CAAC;AAAA,QACvD;AACA,eAAO;AAAA,UACL,QAAQ;AAAA,QACV;AAAA,MACF;AAAA,IACF;AAAA;AAAA;;;AClCA,IAAAC,uBAAA;AAAA,SAAAA,sBAAA;AAAA,iBAAAC;AAAA;AAAA,IACMA;AADN,IAAAC,oBAAA;AAAA;AAAA;AACA,IAAMD,QAAO,qBAAqB,CAAC,UAAU,SAAS,YAAY,UAAU;AAC1E,UAAI;AACJ,UAAI,EAAE,KAAK,IAAI;AACf,UAAI,QAAQ,SAAS,UAAU,WAAW,QAAQ,SAAS;AACzD,mBAAW,KAAK,IAAI;AACtB,OAAC,EAAE,KAAK,IAAI;AACZ,aAAO,uNAAuN,cAAc,SAAS,MAAM,MAAM,CAAC,CAAC;AAAA,IACrQ,CAAC;AAAA;AAAA;;;ACRD,IAAAE,aAAA;AAAA,SAAAA,YAAA;AAAA,mBAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,eAAAC;AAAA,EAAA,aAAAC;AAAA,EAAA,cAAAC;AAAA,EAAA,iBAAAC;AAAA,EAAA,mBAAAC;AAAA;AAAA,IAEaH,QACTI,kBACSP,YAEAK,YACAH,UACAI,cACAL;AATb,IAAAO,UAAA;AAAA;AAAA,IAAAC;AAEO,IAAMN,SAAQ;AAEd,IAAMH,aAAY,YAAYO,yCAAqB,MAAM,2EAA4D;AAErH,IAAMF,aAAY;AAClB,IAAMH,WAAU,CAAC,sCAAqC,+CAA8C,yCAAyC;AAC7I,IAAMI,eAAc,CAAC;AACrB,IAAML,SAAQ,CAAC;AAAA;AAAA;;;ACTtB;AACA;AACA;AACA;AACA;AACA;AACA,IAAAS,iBAAiC;AACjC,wBAAmC;AACnC,IAAM,oBAAoB;AAC1B,IAAM,mBAAmB,CAAC,OAAO,QAAQ,OAAO,SAAS,UAAU,WAAW,MAAM;AACpF,IAAM,eAAe,CAAC,OAAO,QAAQ,MAAM;AAC3C,SAAS,UAAU,QAAQC,QAAO;AAChC,QAAM,QAAQ,CAAC;AACf,SAAO,MAAM,GAAG,EAAE,QAAQ,CAAC,KAAKC,OAAM;AACpC,UAAM,QAAQ,oCAAoC,KAAK,GAAG;AAC1D,QAAI,OAAO;AACT,YAAM,CAAC,EAAE,MAAM,SAAS,IAAI,GAAG,IAAI;AACnC,YAAM,KAAK,EAAE,MAAM,SAAS,GAAG,CAAC,GAAG,GAAAA,GAAE,CAAC;AAAA,IACxC;AAAA,EACF,CAAC;AACD,QAAM,KAAK,CAACC,IAAGC,OAAM;AACnB,QAAID,GAAE,MAAMC,GAAE,GAAG;AACf,aAAOA,GAAE,IAAID,GAAE;AAAA,IACjB;AACA,QAAIA,GAAE,YAAY,SAASC,GAAE,YAAY,MAAM;AAC7C,aAAOD,GAAE,YAAY,MAAM,IAAI;AAAA,IACjC;AACA,QAAIA,GAAE,SAAS,SAASC,GAAE,SAAS,MAAM;AACvC,aAAOD,GAAE,SAAS,MAAM,IAAI;AAAA,IAC9B;AACA,WAAOA,GAAE,IAAIC,GAAE;AAAA,EACjB,CAAC;AACD,MAAI;AACJ,MAAI,eAAe;AACnB,aAAW,YAAYH,QAAO;AAC5B,UAAM,CAAC,MAAM,OAAO,IAAI,SAAS,MAAM,GAAG;AAC1C,UAAM,WAAW,MAAM;AAAA,MACrB,CAAC,UAAU,KAAK,SAAS,QAAQ,KAAK,SAAS,SAAS,KAAK,YAAY,WAAW,KAAK,YAAY;AAAA,IACvG;AACA,QAAI,aAAa,MAAM,WAAW,cAAc;AAC9C,iBAAW;AACX,qBAAe;AAAA,IACjB;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,gBAAgB,YAAYA,QAAO;AAC1C,QAAM,OAAO,QAAQ,QAAQ,IAAI,cAAc,GAAG,MAAM,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK;AAC7E,SAAOA,OAAM,SAAS,KAAK,YAAY,CAAC;AAC1C;AACA,SAAS,qBAAqB,SAAS;AACrC,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACF;AACA,SAAS,kBAAkB,KAAK;AAC9B,SAAO,eAAe,SAAS;AAAA,EAC/B,IAAI;AAAA,EACJ,IAAI;AAAA;AAAA,IAEF;AAAA,MACE,IAAI,MAAM,KAAK,UAAU,GAAG,CAAC;AACnC;AACA,SAAS,gBAAgB,OAAO;AAC9B;AAAA;AAAA,IAEE;AAAA;AAEJ;AACA,SAAS,WAAW,OAAO;AACzB,SAAO,iBAAiB,aAAa,iBAAiB,iBAAiB,MAAM,SAAS;AACxF;AACA,SAAS,YAAY,OAAO;AAC1B,SAAO,iBAAiB,iBAAiB,MAAM,OAAO;AACxD;AACA,SAAS,mBAAmB,KAAK,QAAQ;AACvC,SAAO,KAAK,GAAG,MAAM,uBAAuB;AAAA,IAC1C,QAAQ;AAAA,IACR,SAAS;AAAA;AAAA;AAAA,MAGP,OAAO,gBAAgB,GAAG,EAAE,KAAK,IAAI;AAAA,IACvC;AAAA,EACF,CAAC;AACH;AACA,SAAS,gBAAgB,KAAK;AAC5B,QAAM,UAAU,iBAAiB,OAAO,CAAC,WAAW,UAAU,GAAG;AACjE,MAAI,SAAS,OAAO,UAAU;AAC5B,YAAQ,KAAK,MAAM;AACrB,SAAO;AACT;AACA,SAAS,kBAAkB,UAAU,QAAQI,UAAS;AACpD,MAAIC,QAAO,SAAS,UAAU,MAAM,EAAE,QAAQ,SAAAD,SAAQ,CAAC;AACvD,SAAO,KAAKC,OAAM;AAAA,IAChB,SAAS,EAAE,gBAAgB,2BAA2B;AAAA,IACtD;AAAA,EACF,CAAC;AACH;AACA,eAAe,mBAAmB,OAAO,UAAU,OAAO;AACxD,UAAQ,iBAAiB,YAAY,QAAQ,kBAAkB,KAAK;AACpE,QAAM,SAAS,WAAW,KAAK;AAC/B,QAAM,QAAQ,MAAM,yBAAyB,OAAO,UAAU,KAAK;AACnE,QAAM,OAAO,UAAU,MAAM,QAAQ,QAAQ,IAAI,QAAQ,KAAK,aAAa;AAAA,IACzE;AAAA,IACA;AAAA,EACF,CAAC;AACD,MAAI,MAAM,iBAAiB,SAAS,oBAAoB;AACtD,WAAO,KAAK,OAAO;AAAA,MACjB;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO,kBAAkB,UAAU,QAAQ,MAAM,OAAO;AAC1D;AACA,eAAe,yBAAyB,OAAO,UAAU,OAAO;AAC9D,MAAI,iBAAiB,WAAW;AAC9B,WAAO,MAAM;AAAA,EACf;AACA,QAAM,SAAS,WAAW,KAAK;AAC/B,QAAMD,WAAU,YAAY,KAAK;AACjC,SAAO,MAAM,SAAS,MAAM,YAAY,EAAE,OAAO,OAAO,QAAQ,SAAAA,SAAQ,CAAC,KAAK,EAAE,SAAAA,SAAQ;AAC1F;AACA,SAAS,kBAAkB,QAAQ,UAAU;AAC3C,QAAM,WAAW,IAAI,SAAS,QAAQ;AAAA,IACpC;AAAA,IACA,SAAS,EAAE,SAAS;AAAA,EACtB,CAAC;AACD,SAAO;AACT;AACA,SAAS,sBAAsB,OAAO,OAAO;AAC3C,MAAI,MAAM,MAAM;AACd,WAAO,+CAA+C,MAAM,MAAM,EAAE,yBAAyB,MAAM,OAAO,SAAS,MAAM,IAAI;AAAA,EAC/H;AACA,MAAI,MAAM,SAAS,IAAI;AACrB,WAAO,+CAA+C,MAAM,MAAM,EAAE;AAAA,EACtE;AACA,SAAO,MAAM;AACf;AACA,SAAS,eAAe,MAAM;AAC5B,QAAM,OAAO,CAAC;AACd,MAAI,KAAK,QAAQ,KAAK,KAAK,aAAa,OAAO,GAAG;AAChD,SAAK,KAAK,kBAAkB,KAAK,UAAU,MAAM,KAAK,KAAK,KAAK,YAAY,CAAC,CAAC,EAAE;AAAA,EAClF;AACA,MAAI,KAAK,QAAQ,KAAK,KAAK,cAAc,OAAO,GAAG;AACjD,SAAK,KAAK,mBAAmB,KAAK,UAAU,MAAM,KAAK,KAAK,KAAK,aAAa,CAAC,CAAC,EAAE;AAAA,EACpF;AACA,MAAI,KAAK,QAAQ,KAAK,KAAK,OAAO,OAAO,GAAG;AAC1C,SAAK,KAAK,YAAY,KAAK,UAAU,MAAM,KAAK,KAAK,KAAK,MAAM,CAAC,CAAC,EAAE;AAAA,EACtE;AACA,MAAI,KAAK,MAAM;AACb,SAAK,KAAK,YAAY;AACxB,MAAI,KAAK,MAAM;AACb,SAAK,KAAK,WAAW;AACvB,MAAI,KAAK,MAAM;AACb,SAAK,KAAK,SAAS;AACrB,SAAO,WAAW,KAAK,KAAK,GAAG,CAAC;AAClC;AACA,eAAe,gBAAgB,OAAO,KAAKE,QAAO;AAChD,QAAM;AAAA;AAAA,IAEJ,MAAM,QAAQ;AAAA;AAEhB,MAAI,UAAU,IAAI,MAAM,KAAK,IAAI;AACjC,MAAI,WAAW,UAAU,IAAI,OAAO,CAAC,IAAI,MAAM;AAC7C,cAAU,IAAI;AAAA,EAChB;AACA,MAAI,CAAC,SAAS;AACZ,WAAO,mBAAmB,KAAK,MAAM;AAAA,EACvC;AACA,QAAM,YAAY,IAAI,aAAaA,OAAM;AACzC,MAAI,cAAc,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,SAAS;AACjE,UAAM,IAAI,MAAM,uDAAuD;AAAA,EACzE;AACA,MAAIA,OAAM,gBAAgB,CAAC,WAAW;AACpC,QAAIA,OAAM,QAAQ,GAAG;AACnB,YAAM,IAAI,MAAM,GAAG,MAAM,MAAM,EAAE,uBAAuB;AAAA,IAC1D,OAAO;AACL,aAAO,IAAI,SAAS,QAAQ,EAAE,QAAQ,IAAI,CAAC;AAAA,IAC7C;AAAA,EACF;AACA,MAAI;AACF,QAAI,WAAW,MAAM;AAAA;AAAA,MAEnB;AAAA,IACF;AACA,QAAI,EAAE,oBAAoB,WAAW;AACnC,YAAM,IAAI;AAAA,QACR,+BAA+B,MAAM,IAAI,QAAQ;AAAA,MACnD;AAAA,IACF;AACA,QAAIA,OAAM,cAAc;AACtB,iBAAW,IAAI,SAAS,SAAS,MAAM;AAAA,QACrC,QAAQ,SAAS;AAAA,QACjB,YAAY,SAAS;AAAA,QACrB,SAAS,IAAI,QAAQ,SAAS,OAAO;AAAA,MACvC,CAAC;AACD,eAAS,QAAQ,IAAI,yBAAyB,OAAO,SAAS,CAAC;AAAA,IACjE;AACA,WAAO;AAAA,EACT,SAASC,IAAG;AACV,QAAIA,cAAa,UAAU;AACzB,aAAO,IAAI,SAAS,QAAQ;AAAA,QAC1B,QAAQA,GAAE;AAAA,QACV,SAAS,EAAE,UAAUA,GAAE,SAAS;AAAA,MAClC,CAAC;AAAA,IACH;AACA,UAAMA;AAAA,EACR;AACF;AACA,SAAS,oBAAoB,OAAO;AAClC,QAAM,EAAE,QAAQ,SAAS,SAAS,IAAI,MAAM;AAC5C,MAAI,iBAAiB,SAAS,MAAM,KAAK,CAAC,aAAa,SAAS,MAAM,GAAG;AACvE,WAAO;AAAA,EACT;AACA,MAAI,WAAW,UAAU,SAAS,IAAI,oBAAoB,MAAM;AAC9D,WAAO;AACT,QAAM,SAAS,MAAM,QAAQ,QAAQ,IAAI,QAAQ,KAAK;AACtD,SAAO,UAAU,QAAQ,CAAC,KAAK,WAAW,CAAC,MAAM;AACnD;AACA,SAAS,QAAQ,KAAK;AACpB,SAAO,IAAI;AAAA;AAAA,IAET,CAAC,QAAQ,OAAO;AAAA,EAClB;AACF;AACA,SAAS,uBAAuB,OAAO;AACrC,QAAM,SAAS,UAAU,MAAM,QAAQ,QAAQ,IAAI,QAAQ,KAAK,OAAO;AAAA,IACrE;AAAA,IACA;AAAA,EACF,CAAC;AACD,SAAO,WAAW,sBAAsB,MAAM,QAAQ,WAAW;AACnE;AACA,eAAe,2BAA2B,OAAO,UAAUC,SAAQ;AACjE,QAAMC,WAAUD,SAAQ;AACxB,MAAI,CAACC,UAAS;AACZ,UAAM,mBAAmB,IAAI;AAAA,MAC3B;AAAA,MACA;AAAA,MACA;AAAA,IACF;AACA,WAAO;AAAA,MACL;AAAA,QACE,MAAM;AAAA,QACN,OAAO,MAAM,yBAAyB,OAAO,UAAU,gBAAgB;AAAA,MACzE;AAAA,MACA;AAAA,QACE,QAAQ,iBAAiB;AAAA,QACzB,SAAS;AAAA;AAAA;AAAA,UAGP,OAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,+BAA6BA,QAAO;AACpC,MAAI;AACF,UAAM,OAAO,MAAM,YAAY,OAAOA,QAAO;AAC7C,QAAI;AACF;AACF,QAAI,gBAAgB,eAAe;AACjC,aAAO,YAAY;AAAA,QACjB,MAAM;AAAA,QACN,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,QAIb,MAAM;AAAA,UACJ,KAAK;AAAA;AAAA,UAEL,MAAM,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH,OAAO;AACL,aAAO,YAAY;AAAA,QACjB,MAAM;AAAA,QACN,QAAQ,OAAO,MAAM;AAAA;AAAA,QAErB,MAAM;AAAA,UACJ;AAAA;AAAA,UAEA,MAAM,MAAM;AAAA,QACd;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF,SAASF,IAAG;AACV,UAAM,MAAM,gBAAgBA,EAAC;AAC7B,QAAI,eAAe,UAAU;AAC3B,aAAO,qBAAqB,GAAG;AAAA,IACjC;AACA,WAAO;AAAA,MACL;AAAA,QACE,MAAM;AAAA,QACN,OAAO,MAAM,yBAAyB,OAAO,UAAU,yBAAyB,GAAG,CAAC;AAAA,MACtF;AAAA,MACA;AAAA,QACE,QAAQ,WAAW,GAAG;AAAA,MACxB;AAAA,IACF;AAAA,EACF;AACF;AACA,SAAS,yBAAyB,OAAO;AACvC,SAAO,iBAAiB,gBAAgB,IAAI,MAAM,4CAA4C,IAAI;AACpG;AACA,SAAS,qBAAqBG,WAAU;AACtC,SAAO,YAAY;AAAA,IACjB,MAAM;AAAA,IACN,QAAQA,UAAS;AAAA,IACjB,UAAUA,UAAS;AAAA,EACrB,CAAC;AACH;AACA,SAAS,YAAY,MAAMC,QAAO;AAChC,SAAO,KAAK,MAAMA,MAAK;AACzB;AACA,SAAS,kBAAkB,OAAO;AAChC,SAAO,MAAM,QAAQ,WAAW;AAClC;AACA,eAAe,sBAAsB,OAAOH,SAAQ;AAClD,QAAMC,WAAUD,SAAQ;AACxB,MAAI,CAACC,UAAS;AACZ,UAAM,WAAW;AAAA;AAAA;AAAA,MAGf,OAAO;AAAA,IACT,CAAC;AACD,WAAO;AAAA,MACL,MAAM;AAAA,MACN,OAAO,IAAI;AAAA,QACT;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,+BAA6BA,QAAO;AACpC,MAAI;AACF,UAAM,OAAO,MAAM,YAAY,OAAOA,QAAO;AAC7C,QAAI;AACF;AACF,QAAI,gBAAgB,eAAe;AACjC,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ,KAAK;AAAA,QACb,MAAM,KAAK;AAAA,MACb;AAAA,IACF,OAAO;AACL,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA;AAAA,QAER;AAAA,MACF;AAAA,IACF;AAAA,EACF,SAASF,IAAG;AACV,UAAM,MAAM,gBAAgBA,EAAC;AAC7B,QAAI,eAAe,UAAU;AAC3B,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ,IAAI;AAAA,QACZ,UAAU,IAAI;AAAA,MAChB;AAAA,IACF;AACA,WAAO;AAAA,MACL,MAAM;AAAA,MACN,OAAO,yBAAyB,GAAG;AAAA,IACrC;AAAA,EACF;AACF;AACA,SAAS,6BAA6BE,UAAS;AAC7C,MAAIA,SAAQ,WAAW,OAAO,KAAKA,QAAO,EAAE,SAAS,GAAG;AACtD,UAAM,IAAI;AAAA,MACR;AAAA,IACF;AAAA,EACF;AACF;AACA,eAAe,YAAY,OAAOA,UAAS;AACzC,QAAM,MAAM,IAAI,IAAI,MAAM,QAAQ,GAAG;AACrC,MAAI,OAAO;AACX,aAAW,SAAS,IAAI,cAAc;AACpC,QAAI,MAAM,CAAC,EAAE,WAAW,GAAG,GAAG;AAC5B,aAAO,MAAM,CAAC,EAAE,MAAM,CAAC;AACvB,UAAI,SAAS,WAAW;AACtB,cAAM,IAAI,MAAM,2CAA2C;AAAA,MAC7D;AACA;AAAA,IACF;AAAA,EACF;AACA,QAAM,SAASA,SAAQ,IAAI;AAC3B,MAAI,CAAC,QAAQ;AACX,UAAM,IAAI,eAAe,KAAK,aAAa,wBAAwB,IAAI,SAAS;AAAA,EAClF;AACA,MAAI,CAAC,qBAAqB,MAAM,OAAO,GAAG;AACxC,UAAM,IAAI;AAAA,MACR;AAAA,MACA;AAAA,MACA,yDAAoD,MAAM,QAAQ,QAAQ;AAAA,QACxE;AAAA,MACF,CAAC;AAAA,IACH;AAAA,EACF;AACA,SAAO,OAAO,KAAK;AACrB;AASA,SAAS,uBAAuB,MAAM,UAAU;AAC9C,SAAO,gBAAgB,MAAc,QAAQ,QAAQ;AACvD;AACA,SAAS,0BAA0B,MAAM,UAAU;AACjD,SAAO,gBAAgB,MAAc,WAAW,QAAQ;AAC1D;AACA,SAAS,gBAAgB,MAAM,IAAI,UAAU;AAC3C,MAAI;AACF,WAAO,GAAG,IAAI;AAAA,EAChB,SAASG,IAAG;AACV,UAAM;AAAA;AAAA,MAEJA;AAAA;AAEF,QAAI,UAAU,OAAO;AACnB,UAAIC,WAAU,oCAAoC,QAAQ,yBAAyB,MAAM,OAAO;AAChG,UAAI,MAAM,SAAS;AACjB,QAAAA,YAAW,UAAU,MAAM,IAAI;AACjC,YAAM,IAAI,MAAMA,QAAO;AAAA,IACzB;AACA,UAAM;AAAA,EACR;AACF;AACA,IAAM,oBAAoB;AAC1B,IAAM,uBAAuB;AAC7B,SAAS,WAAW,QAAQ;AAC1B,MAAI,WAAW,QAAQ;AACrB,WAAO,OAAO,KAAK,MAAM,EAAE,SAAS,QAAQ;AAAA,EAC9C;AACA,QAAM,gBAAgB,IAAI,WAAW,IAAI,YAAY,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,IAAI;AACvE,SAAO;AAAA,IACL,IAAI,YAAY,gBAAgB,aAAa,UAAU,EAAE;AAAA,MACvD,IAAI,YAAY,IAAI,WAAW,MAAM,CAAC;AAAA,IACxC;AAAA,EACF;AACF;AACA,eAAe,iBAAiB,EAAE,OAAO,OAAAC,QAAO,MAAM,OAAO,GAAG;AAC9D,MAAI,CAAC,MAAM;AACT,WAAO;AACT,MAAI,cAAc;AAClB,QAAM,OAAO;AAAA,IACX,cAA8B,oBAAI,IAAI;AAAA,IACtC,QAAwB,oBAAI,IAAI;AAAA,IAChC,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,KAAK;AAAA,IACL,eAA+B,oBAAI,IAAI;AAAA,EACzC;AACA,QAAM,MAAM;AAAA,IACV,MAAM;AAAA,IACN,MAAM;AACJ,UAAI,aAAa;AACf,aAAK,MAAM;AAAA,MACb;AAAA,IACF;AAAA,IACA,CAAC,UAAU;AACT,UAAI,aAAa;AACf,aAAK,cAAc,IAAI,KAAK;AAAA,MAC9B;AAAA,IACF;AAAA,EACF;AACA,MAAIA,OAAM,cAAc;AACtB,mBAAe,GAAG;AAAA,EACpB;AACA,QAAM,SAAS,MAAM,KAAK,OAAO,MAAM,KAAK,MAAM;AAAA,IAChD,GAAG;AAAA,IACH,OAAO,CAAC,MAAMC,WAAU;AACtB,UAAI,IAAI,gBAAgB,UAAU,KAAK,MAAM,MAAM,MAAM,GAAG;AAC5D,aAAO,MAAM,MAAM,MAAMA,MAAK;AAAA,IAChC;AAAA;AAAA,IAEA,SAAS,IAAI,SAAS;AACpB,iBAAW,OAAO,MAAM;AACtB,cAAM,EAAE,KAAK,IAAI,IAAI,IAAI,KAAK,MAAM,GAAG;AACvC,aAAK,aAAa,IAAI,IAAI;AAAA,MAC5B;AAAA,IACF;AAAA,IACA,QAAQ,IAAI,MAAM,MAAM,QAAQ;AAAA,MAC9B,KAAK,CAAC,QAAQ,SAAS;AACrB,YAAI,aAAa;AACf,eAAK,OAAO,IAAI,IAAI;AAAA,QACtB;AACA,eAAO;AAAA;AAAA,UAEL;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AAAA,IACD,QAAQ,YAAY;AAClB,UAAI,aAAa;AACf,aAAK,SAAS;AAAA,MAChB;AACA,aAAO,OAAO;AAAA,IAChB;AAAA,IACA,OAAO,IAAI,MAAM,MAAM,OAAO;AAAA,MAC5B,KAAK,CAAC,QAAQ,SAAS;AACrB,YAAI,aAAa;AACf,eAAK,QAAQ;AAAA,QACf;AACA,eAAO;AAAA;AAAA,UAEL;AAAA,QACF;AAAA,MACF;AAAA,IACF,CAAC;AAAA,IACD;AAAA,IACA,QAAQ,IAAI;AACV,oBAAc;AACd,UAAI;AACF,eAAO,GAAG;AAAA,MACZ,UAAE;AACA,sBAAc;AAAA,MAChB;AAAA,IACF;AAAA,EACF,CAAC;AACD,SAAO;AAAA,IACL,MAAM;AAAA,IACN,MAAM,UAAU;AAAA,IAChB;AAAA,IACA,OAAO,KAAK,OAAO;AAAA,EACrB;AACF;AACA,eAAe,UAAU;AAAA,EACvB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAAD;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,mBAAmB,MAAM;AAC/B,MAAI,CAAC,MAAM,WAAW,MAAM;AAC1B,WAAO,kBAAkB,QAAQ;AAAA,EACnC;AACA,QAAM,SAAS,MAAM,KAAK,UAAU,KAAK,KAAK,MAAM;AAAA,IAClD,KAAK,MAAM;AAAA,IACX,QAAQ,MAAM;AAAA,IACd,MAAM,kBAAkB,QAAQ;AAAA,IAChC,OAAO,MAAM;AAAA,IACb,OAAO,uBAAuB,OAAOA,QAAO,SAAS,KAAK,YAAY;AAAA,IACtE,YAAY,MAAM;AAAA,IAClB,SAAS,MAAM;AAAA,IACf;AAAA,IACA;AAAA,IACA,SAAS,CAAC,OAAO,GAAG;AAAA,EACtB,CAAC;AACD,SAAO,UAAU;AACnB;AACA,SAAS,uBAAuB,OAAOA,QAAO,SAAS,KAAK,cAAc;AACxE,QAAM,kBAAkB,OAAO,OAAOC,WAAU;AAC9C,UAAM,cAAc,iBAAiB,WAAW,MAAM,OAAO,MAAM,MAAM,EAAE,OAAO;AAClF,UAAM,iBAAiB,iBAAiB,WAAW,CAAC,GAAG,MAAM,OAAO,EAAE,SAAS,IAAI,QAAQ,MAAM,OAAO,IAAIA,QAAO;AACnH,QAAI,WAAW,MAAM,MAAM,MAAM,OAAOA,MAAK;AAC7C,UAAM,MAAM,IAAI,IAAI,iBAAiB,UAAU,MAAM,MAAM,OAAO,MAAM,GAAG;AAC3E,UAAM,cAAc,IAAI,WAAW,MAAM,IAAI;AAC7C,QAAI;AACJ,QAAI,aAAa;AACf,UAAID,OAAM,cAAc;AACtB,qBAAa,EAAE,UAAU,MAAM,KAAK;AACpC,QAAAA,OAAM,aAAa,aAAa,IAAI,IAAI,UAAU,UAAU;AAAA,MAC9D;AAAA,IACF,OAAO;AACL,YAAM,OAAO,iBAAiB,UAAU,MAAM,OAAOC,QAAO,QAAQ;AACpE,UAAI,SAAS,WAAW;AACtB,mBAAW,IAAI,SAAS,IAAI;AAAA,UAC1B,QAAQ,SAAS;AAAA,UACjB,YAAY,SAAS;AAAA,UACrB,SAAS,SAAS;AAAA,QACpB,CAAC;AAAA,MACH,OAAO;AACL,cAAM,OAAO,SAAS,QAAQ,IAAI,6BAA6B;AAC/D,YAAI,CAAC,QAAQ,SAAS,MAAM,IAAI,UAAU,SAAS,KAAK;AACtD,gBAAM,IAAI;AAAA,YACR,eAAe,OAAO,cAAc,IAAI;AAAA,UAC1C;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,UAAM,QAAQ,IAAI,MAAM,UAAU;AAAA,MAChC,IAAI,WAAW,MAAM,WAAW;AAC9B,uBAAe,aAAa,OAAO,QAAQ;AACzC,gBAAM,gBAAgB,OAAO,UAAU,MAAM;AAC7C,cAAI,MAAM,aAAa,GAAG;AACxB,kBAAM,IAAI;AAAA,cACR,4CAA4C,UAAU,MAAM,WAAW,OAAO,UAAU,MAAM;AAAA,YAChG;AAAA,UACF;AACA,kBAAQ,KAAK;AAAA,YACX,KAAK,cAAc,IAAI,KAAK,MAAM,MAAM,IAAI,OAAO,MAAM,IAAI,IAAI;AAAA,YACjE,QAAQ,MAAM,QAAQ;AAAA,YACtB;AAAA;AAAA,cAEE,iBAAiB,WAAW,cAAc,MAAM,iBAAiB,WAAW,IAAIA,QAAO;AAAA;AAAA,YAEzF,iBAAiB;AAAA,YACjB,eAAe;AAAA,YACf,UAAU;AAAA,YACV;AAAA,UACF,CAAC;AAAA,QACH;AACA,YAAI,SAAS,eAAe;AAC1B,iBAAO,YAAY;AACjB,kBAAM,SAAS,MAAM,UAAU,YAAY;AAC3C,gBAAI,YAAY;AACd,yBAAW,OAAO,IAAI,WAAW,MAAM;AAAA,YACzC;AACA,gBAAI,kBAAkB,aAAa;AACjC,oBAAM,aAAa,WAAW,MAAM,GAAG,IAAI;AAAA,YAC7C;AACA,mBAAO;AAAA,UACT;AAAA,QACF;AACA,uBAAe,QAAQ;AACrB,gBAAM,QAAQ,MAAM,UAAU,KAAK;AACnC,cAAI,CAAC,SAAS,OAAO,UAAU,UAAU;AACvC,kBAAM,aAAa,OAAO,KAAK;AAAA,UACjC;AACA,cAAI,YAAY;AACd,uBAAW,OAAO;AAAA,UACpB;AACA,iBAAO;AAAA,QACT;AACA,YAAI,SAAS,QAAQ;AACnB,iBAAO;AAAA,QACT;AACA,YAAI,SAAS,QAAQ;AACnB,iBAAO,YAAY;AACjB,mBAAO,KAAK,MAAM,MAAM,MAAM,CAAC;AAAA,UACjC;AAAA,QACF;AACA,eAAO,QAAQ,IAAI,WAAW,MAAM,SAAS;AAAA,MAC/C;AAAA,IACF,CAAC;AACD,QAAI,KAAK;AACP,YAAMC,OAAM,SAAS,QAAQ;AAC7B,eAAS,QAAQ,MAAM,CAAC,SAAS;AAC/B,cAAM,QAAQ,KAAK,YAAY;AAC/B,cAAM,QAAQA,KAAI,KAAK,SAAS,SAAS,KAAK;AAC9C,YAAI,SAAS,CAAC,MAAM,WAAW,cAAc,GAAG;AAC9C,gBAAM,WAAW,aAAa,gCAAgC,OAAO,KAAK;AAC1E,cAAI,CAAC,UAAU;AACb,kBAAM,IAAI;AAAA,cACR,kCAAkC,KAAK,6IAAwI,MAAM,MAAM,EAAE;AAAA,YAC/L;AAAA,UACF;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACA,SAAO,CAAC,OAAOD,WAAU;AACvB,UAAM,WAAW,gBAAgB,OAAOA,MAAK;AAC7C,aAAS,MAAM,MAAM;AAAA,IACrB,CAAC;AACD,WAAO;AAAA,EACT;AACF;AACA,eAAe,iBAAiB,QAAQ;AACtC,MAAI,SAAS;AACb,QAAM,SAAS,OAAO,UAAU;AAChC,QAAME,WAAU,IAAI,YAAY;AAChC,SAAO,MAAM;AACX,UAAM,EAAE,MAAM,MAAM,IAAI,MAAM,OAAO,KAAK;AAC1C,QAAI,MAAM;AACR;AAAA,IACF;AACA,cAAUA,SAAQ,OAAO,KAAK;AAAA,EAChC;AACA,SAAO;AACT;AACA,SAAS,QAAQ,QAAQ;AACvB,MAAI,QAAQ;AACZ,aAAW,SAAS,QAAQ;AAC1B,QAAI,OAAO,UAAU,UAAU;AAC7B,UAAIC,KAAI,MAAM;AACd,aAAOA;AACL,gBAAQ,QAAQ,KAAK,MAAM,WAAW,EAAEA,EAAC;AAAA,IAC7C,WAAW,YAAY,OAAO,KAAK,GAAG;AACpC,YAAM,SAAS,IAAI,WAAW,MAAM,QAAQ,MAAM,YAAY,MAAM,UAAU;AAC9E,UAAIA,KAAI,OAAO;AACf,aAAOA;AACL,gBAAQ,QAAQ,KAAK,OAAO,EAAEA,EAAC;AAAA,IACnC,OAAO;AACL,YAAM,IAAI,UAAU,sCAAsC;AAAA,IAC5D;AAAA,EACF;AACA,UAAQ,UAAU,GAAG,SAAS,EAAE;AAClC;AACA,IAAM,wBAAwB;AAAA,EAC5B,KAAK;AAAA,EACL,KAAK;AACP;AACA,IAAM,yBAAyB,IAAI;AAAA;AAAA,EAEjC,IAAI,OAAO,KAAK,qBAAqB,EAAE,KAAK,EAAE,CAAC;AAAA,EAC/C;AACF;AACA,SAAS,iBAAiB,KAAK;AAC7B,QAAM,cAAc,IAAI,QAAQ,wBAAwB,CAAC,UAAU;AACjE,QAAI,MAAM,WAAW,GAAG;AACtB,aAAO;AAAA,IACT;AACA,WAAO,sBAAsB,KAAK,KAAK,KAAK,MAAM,WAAW,CAAC,CAAC;AAAA,EACjE,CAAC;AACD,SAAO,IAAI,WAAW;AACxB;AACA,IAAM,eAAe;AAAA,EACnB,KAAK;AAAA,EACL,UAAU;AAAA,EACV,UAAU;AACZ;AACA,IAAM,UAAU,IAAI,OAAO,IAAI,OAAO,KAAK,YAAY,EAAE,KAAK,EAAE,CAAC,KAAK,GAAG;AACzE,SAAS,eAAe,SAAS,QAAQ,gBAAgB,OAAO;AAC9D,QAAM,WAAW,CAAC;AAClB,MAAI,gBAAgB;AACpB,MAAI,MAAM;AACV,MAAI,UAAU;AACd,aAAW,CAAC,MAAM,KAAK,KAAK,QAAQ,SAAS,SAAS;AACpD,QAAI,OAAO,MAAM,KAAK,GAAG;AACvB,eAAS,IAAI,IAAI;AAAA,IACnB;AACA,QAAI,SAAS;AACX,sBAAgB;AAAA,aACT,SAAS;AAChB,YAAM;AAAA,aACC,SAAS,UAAU,MAAM,KAAK,MAAM;AAC3C,gBAAU;AAAA,EACd;AACA,QAAM,UAAU;AAAA,IACd,QAAQ,QAAQ,SAAS;AAAA,IACzB,YAAY,QAAQ,SAAS;AAAA,IAC7B,SAAS;AAAA,IACT,MAAM,QAAQ;AAAA,EAChB;AACA,QAAM,eAAe,KAAK,UAAU,OAAO,EAAE,QAAQ,SAAS,CAAC,UAAU,aAAa,KAAK,CAAC;AAC5F,QAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA,YAAY,iBAAiB,QAAQ,GAAG,CAAC;AAAA,EAC3C;AACA,MAAI,QAAQ,QAAQ;AAClB,UAAM,KAAK,UAAU;AAAA,EACvB;AACA,MAAI,QAAQ,mBAAmB,QAAQ,cAAc;AACnD,UAAM,SAAS,CAAC;AAChB,QAAI,QAAQ,iBAAiB;AAC3B,aAAO,KAAK,CAAC,GAAG,IAAI,QAAQ,QAAQ,eAAe,CAAC,EAAE,KAAK,GAAG,CAAC;AAAA,IACjE;AACA,QAAI,QAAQ,cAAc;AACxB,aAAO,KAAK,QAAQ,YAAY;AAAA,IAClC;AACA,UAAM,KAAK,cAAc,KAAK,GAAG,MAAM,CAAC,GAAG;AAAA,EAC7C;AACA,MAAI,CAAC,iBAAiB,QAAQ,WAAW,SAAS,iBAAiB,CAAC,SAAS;AAC3E,UAAM,QAAQ,kBAAkB,KAAK,aAAa,KAAK,iBAAiB,KAAK,aAAa;AAC1F,QAAI,OAAO;AACT,YAAM,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO;AACjC,YAAM,KAAK,aAAa,GAAG,GAAG;AAAA,IAChC;AAAA,EACF;AACA,SAAO,WAAW,MAAM,KAAK,GAAG,CAAC,IAAI,YAAY;AACnD;AACA,IAAMC,KAAI,KAAK;AACf,IAAM,YAAY,IAAI,YAAY;AAClC,SAAS,OAAO,MAAM;AACpB,MAAI,CAAC,IAAI,CAAC;AACR,eAAW;AACb,QAAM,MAAMC,MAAK,MAAM,CAAC;AACxB,QAAM,SAASC,QAAO,IAAI;AAC1B,WAASH,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK,IAAI;AAC1C,UAAMI,KAAI,OAAO,SAASJ,IAAGA,KAAI,EAAE;AACnC,QAAI;AACJ,QAAIK;AACJ,QAAIC;AACJ,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,QAAI,OAAO,IAAI,CAAC;AAChB,aAASC,MAAK,GAAGA,MAAK,IAAIA,OAAM;AAC9B,UAAIA,MAAK,IAAI;AACX,cAAMH,GAAEG,GAAE;AAAA,MACZ,OAAO;AACL,QAAAF,KAAID,GAAEG,MAAK,IAAI,EAAE;AACjB,QAAAD,KAAIF,GAAEG,MAAK,KAAK,EAAE;AAClB,cAAMH,GAAEG,MAAK,EAAE,KAAKF,OAAM,IAAIA,OAAM,KAAKA,OAAM,IAAIA,MAAK,KAAKA,MAAK,OAAOC,OAAM,KAAKA,OAAM,KAAKA,OAAM,KAAKA,MAAK,KAAKA,MAAK,MAAMF,GAAEG,MAAK,EAAE,IAAIH,GAAEG,MAAK,IAAI,EAAE,IAAI;AAAA,MAC/J;AACA,YAAM,MAAM,QAAQ,SAAS,IAAI,SAAS,KAAK,SAAS,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM,OAAO,QAAQ,OAAO,SAAS,IAAIA,GAAE;AAC1I,aAAO;AACP,aAAO;AACP,aAAO;AACP,aAAO,OAAO,MAAM;AACpB,aAAO;AACP,aAAO;AACP,aAAO;AACP,aAAO,OAAO,OAAO,OAAO,QAAQ,OAAO,UAAU,SAAS,IAAI,SAAS,KAAK,SAAS,KAAK,QAAQ,KAAK,QAAQ,KAAK,QAAQ,MAAM;AAAA,IACxI;AACA,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AACzB,QAAI,CAAC,IAAI,IAAI,CAAC,IAAI,OAAO;AAAA,EAC3B;AACA,QAAM,QAAQ,IAAI,WAAW,IAAI,MAAM;AACvC,qBAAmB,KAAK;AACxB,SAAO,OAAO,KAAK;AACrB;AACA,IAAML,QAAO,IAAI,YAAY,CAAC;AAC9B,IAAM,MAAM,IAAI,YAAY,EAAE;AAC9B,SAAS,aAAa;AACpB,WAAS,KAAKM,IAAG;AACf,YAAQA,KAAI,KAAK,MAAMA,EAAC,KAAK;AAAA,EAC/B;AACA,MAAI,QAAQ;AACZ,WAASR,KAAI,GAAGA,KAAI,IAAI,SAAS;AAC/B,QAAI,WAAW;AACf,aAAS,SAAS,GAAG,SAAS,UAAU,OAAO,UAAU;AACvD,UAAI,QAAQ,WAAW,GAAG;AACxB,mBAAW;AACX;AAAA,MACF;AAAA,IACF;AACA,QAAI,UAAU;AACZ,UAAIA,KAAI,GAAG;AACT,QAAAE,MAAKF,EAAC,IAAI,KAAK,UAAU,IAAI,EAAE;AAAA,MACjC;AACA,UAAIA,EAAC,IAAI,KAAK,UAAU,IAAI,EAAE;AAC9B,MAAAA;AAAA,IACF;AAAA,EACF;AACF;AACA,SAAS,mBAAmB,OAAO;AACjC,WAASA,KAAI,GAAGA,KAAI,MAAM,QAAQA,MAAK,GAAG;AACxC,UAAMK,KAAI,MAAML,KAAI,CAAC;AACrB,UAAMM,KAAI,MAAMN,KAAI,CAAC;AACrB,UAAMS,KAAI,MAAMT,KAAI,CAAC;AACrB,UAAMU,KAAI,MAAMV,KAAI,CAAC;AACrB,UAAMA,KAAI,CAAC,IAAIU;AACf,UAAMV,KAAI,CAAC,IAAIS;AACf,UAAMT,KAAI,CAAC,IAAIM;AACf,UAAMN,KAAI,CAAC,IAAIK;AAAA,EACjB;AACF;AACA,SAASF,QAAO,KAAK;AACnB,QAAM,UAAU,UAAU,OAAO,GAAG;AACpC,QAAM,SAAS,QAAQ,SAAS;AAChC,QAAM,OAAO,MAAM,KAAK,MAAM,SAAS,MAAM,GAAG;AAChD,QAAM,QAAQ,IAAI,WAAW,OAAO,CAAC;AACrC,QAAM,IAAI,OAAO;AACjB,QAAM,QAAQ,MAAM,IAAI;AACxB,qBAAmB,KAAK;AACxB,QAAM,QAAQ,IAAI,YAAY,MAAM,MAAM;AAC1C,QAAM,MAAM,SAAS,CAAC,IAAI,KAAK,MAAM,SAAS,UAAU;AACxD,QAAM,MAAM,SAAS,CAAC,IAAI;AAC1B,SAAO;AACT;AACA,IAAMQ,SAAQ,mEAAmE,MAAM,EAAE;AACzF,SAAS,OAAO,OAAO;AACrB,QAAMC,KAAI,MAAM;AAChB,MAAI,SAAS;AACb,MAAIZ;AACJ,OAAKA,KAAI,GAAGA,KAAIY,IAAGZ,MAAK,GAAG;AACzB,cAAUW,OAAM,MAAMX,KAAI,CAAC,KAAK,CAAC;AACjC,cAAUW,QAAO,MAAMX,KAAI,CAAC,IAAI,MAAM,IAAI,MAAMA,KAAI,CAAC,KAAK,CAAC;AAC3D,cAAUW,QAAO,MAAMX,KAAI,CAAC,IAAI,OAAO,IAAI,MAAMA,EAAC,KAAK,CAAC;AACxD,cAAUW,OAAM,MAAMX,EAAC,IAAI,EAAE;AAAA,EAC/B;AACA,MAAIA,OAAMY,KAAI,GAAG;AACf,cAAUD,OAAM,MAAMX,KAAI,CAAC,KAAK,CAAC;AACjC,cAAUW,QAAO,MAAMX,KAAI,CAAC,IAAI,MAAM,CAAC;AACvC,cAAU;AAAA,EACZ;AACA,MAAIA,OAAMY,IAAG;AACX,cAAUD,OAAM,MAAMX,KAAI,CAAC,KAAK,CAAC;AACjC,cAAUW,QAAO,MAAMX,KAAI,CAAC,IAAI,MAAM,IAAI,MAAMA,KAAI,CAAC,KAAK,CAAC;AAC3D,cAAUW,QAAO,MAAMX,KAAI,CAAC,IAAI,OAAO,CAAC;AACxC,cAAU;AAAA,EACZ;AACA,SAAO;AACT;AACA,IAAM,QAAQ,IAAI,WAAW,EAAE;AAC/B,SAAS,iBAAiB;AACxB,SAAO,gBAAgB,KAAK;AAC5B,SAAO,OAAO,KAAK;AACrB;AACA,IAAM,SAAyB,oBAAI,IAAI;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,CAAC;AACD,IAAM,iBAAiB;AAr5BvB;AAs5BA,IAAM,eAAN,MAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA0BjB,YAAY,YAAY,YAAYa,QAAO;AAxB3C;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAEA;AAAA;AAOE,uBAAK,aAAc;AACnB,uBAAK,aAAc;AACnB,UAAMH,KAAI,mBAAK;AACf,uBAAK,aAAc,CAAC;AACpB,uBAAK,kBAAmB,CAAC;AACzB,uBAAK,YAAa,CAAC;AACnB,uBAAK,iBAAkB,CAAC;AACxB,uBAAK,iBAAkB,CAAC;AACxB,UAAM,uBAAuBA,GAAE,YAAY,KAAKA,GAAE,aAAa;AAC/D,UAAM,kBAAkBA,GAAE,iBAAiB;AAC3C,UAAM,sBAAsBA,GAAE,WAAW,KAAKA,GAAE,aAAa;AAC7D,UAAM,iBAAiBA,GAAE,gBAAgB;AACzC,UAAM,iBAAiBA,GAAE,gBAAgB;AACzC,uBAAK,mBAAoB,CAAC,CAAC,wBAAwB,qBAAqB,OAAO,CAAC,UAAU,UAAU,eAAe,EAAE,SAAS,KAAK,CAAC,CAAC,mBAAmB,gBAAgB,OAAO,CAAC,UAAU,UAAU,eAAe,EAAE,SAAS;AAC9N,uBAAK,kBAAmB,CAAC,CAAC,uBAAuB,oBAAoB,OAAO,CAAC,UAAU,UAAU,eAAe,EAAE,SAAS,KAAK,CAAC,CAAC,kBAAkB,eAAe,OAAO,CAAC,UAAU,UAAU,eAAe,EAAE,SAAS,KAAK,CAAC,CAAC,kBAAkB,eAAe,OAAO,CAAC,UAAU,UAAU,eAAe,EAAE,SAAS;AACvT,SAAK,qBAAqB,mBAAK,sBAAqB,CAAC,mBAAK;AAC1D,SAAK,oBAAoB,mBAAK,qBAAoB,CAAC,mBAAK;AACxD,uBAAK,QAASG;AAAA,EAChB;AAAA;AAAA,EAEA,WAAW,SAAS;AAClB,QAAI,mBAAK,oBAAmB;AAC1B,YAAMH,KAAI,mBAAK;AACf,UAAI,mBAAK,cAAa;AACpB,cAAM,QAAQ,OAAO,OAAO;AAC5B,2BAAK,aAAY,KAAK,UAAU,KAAK,EAAE;AACvC,YAAIA,GAAE,iBAAiB,GAAG,QAAQ;AAChC,6BAAK,kBAAiB,KAAK,UAAU,KAAK,EAAE;AAAA,QAC9C;AAAA,MACF,OAAO;AACL,YAAI,mBAAK,aAAY,WAAW,GAAG;AACjC,6BAAK,aAAY,KAAK,SAAS,mBAAK,OAAM,EAAE;AAAA,QAC9C;AACA,YAAIA,GAAE,iBAAiB,GAAG,QAAQ;AAChC,6BAAK,kBAAiB,KAAK,SAAS,mBAAK,OAAM,EAAE;AAAA,QACnD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA,EAEA,UAAU,SAAS;AACjB,QAAI,mBAAK,mBAAkB;AACzB,YAAM,qBAAqB;AAC3B,YAAMA,KAAI,mBAAK;AACf,UAAI,mBAAK,cAAa;AACpB,cAAM,QAAQ,OAAO,OAAO;AAC5B,2BAAK,YAAW,KAAK,UAAU,KAAK,EAAE;AACtC,YAAIA,GAAE,gBAAgB,GAAG,QAAQ;AAC/B,6BAAK,iBAAgB,KAAK,UAAU,KAAK,EAAE;AAAA,QAC7C;AACA,YAAIA,GAAE,gBAAgB,GAAG,QAAQ;AAC/B,cAAI,UAAU,sBAAsB,CAACA,GAAE,gBAAgB,EAAE,SAAS,UAAU,kBAAkB,EAAE,GAAG;AACjG,+BAAK,iBAAgB,KAAK,UAAU,kBAAkB,EAAE;AAAA,UAC1D;AACA,6BAAK,iBAAgB,KAAK,UAAU,KAAK,EAAE;AAAA,QAC7C;AAAA,MACF,OAAO;AACL,YAAI,mBAAK,YAAW,WAAW,KAAK,CAACA,GAAE,WAAW,GAAG,SAAS,eAAe,GAAG;AAC9E,6BAAK,YAAW,KAAK,SAAS,mBAAK,OAAM,EAAE;AAAA,QAC7C;AACA,YAAIA,GAAE,gBAAgB,GAAG,QAAQ;AAC/B,6BAAK,iBAAgB,KAAK,SAAS,mBAAK,OAAM,EAAE;AAAA,QAClD;AACA,YAAIA,GAAE,gBAAgB,GAAG,QAAQ;AAC/B,cAAI,CAACA,GAAE,gBAAgB,EAAE,SAAS,UAAU,kBAAkB,EAAE,GAAG;AACjE,+BAAK,iBAAgB,KAAK,UAAU,kBAAkB,EAAE;AAAA,UAC1D;AACA,6BAAK,iBAAgB,KAAK,SAAS,mBAAK,OAAM,EAAE;AAAA,QAClD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA,EAIA,WAAW,UAAU,OAAO;AAC1B,UAAM,SAAS,CAAC;AAChB,UAAM,aAAa,EAAE,GAAG,mBAAK,aAAY;AACzC,QAAI,mBAAK,YAAW,SAAS,GAAG;AAC9B,iBAAW,WAAW,IAAI;AAAA,QACxB,GAAG,WAAW,WAAW,KAAK,WAAW,aAAa,KAAK,CAAC;AAAA,QAC5D,GAAG,mBAAK;AAAA,MACV;AAAA,IACF;AACA,QAAI,mBAAK,iBAAgB,SAAS,GAAG;AACnC,iBAAW,gBAAgB,IAAI;AAAA,QAC7B,GAAG,WAAW,gBAAgB,KAAK,CAAC;AAAA,QACpC,GAAG,mBAAK;AAAA,MACV;AAAA,IACF;AACA,QAAI,mBAAK,iBAAgB,SAAS,GAAG;AACnC,iBAAW,gBAAgB,IAAI;AAAA,QAC7B,GAAG,WAAW,gBAAgB,KAAK,CAAC;AAAA,QACpC,GAAG,mBAAK;AAAA,MACV;AAAA,IACF;AACA,QAAI,mBAAK,aAAY,SAAS,GAAG;AAC/B,iBAAW,YAAY,IAAI;AAAA,QACzB,GAAG,WAAW,YAAY,KAAK,WAAW,aAAa,KAAK,CAAC;AAAA,QAC7D,GAAG,mBAAK;AAAA,MACV;AAAA,IACF;AACA,QAAI,mBAAK,kBAAiB,SAAS,GAAG;AACpC,iBAAW,iBAAiB,IAAI;AAAA,QAC9B,GAAG,WAAW,iBAAiB,KAAK,CAAC;AAAA,QACrC,GAAG,mBAAK;AAAA,MACV;AAAA,IACF;AACA,eAAW,QAAQ,YAAY;AAC7B,UAAI,YAAY,SAAS,qBAAqB,SAAS,gBAAgB,SAAS,YAAY;AAC1F;AAAA,MACF;AACA,YAAM;AAAA;AAAA,QAEJ,WAAW,IAAI;AAAA;AAEjB,UAAI,CAAC;AACH;AACF,YAAM,YAAY,CAAC,IAAI;AACvB,UAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,cAAM,QAAQ,CAAC,WAAW;AACxB,cAAI,OAAO,IAAI,MAAM,KAAK,eAAe,KAAK,MAAM,GAAG;AACrD,sBAAU,KAAK,IAAI,MAAM,GAAG;AAAA,UAC9B,OAAO;AACL,sBAAU,KAAK,MAAM;AAAA,UACvB;AAAA,QACF,CAAC;AAAA,MACH;AACA,aAAO,KAAK,UAAU,KAAK,GAAG,CAAC;AAAA,IACjC;AACA,WAAO,OAAO,KAAK,IAAI;AAAA,EACzB;AACF;AA7JE;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AA4IF,IAAM,cAAN,cAA0B,aAAa;AAAA,EACrC,WAAW;AACT,UAAM,UAAU,KAAK,WAAW,IAAI;AACpC,QAAI,CAAC,SAAS;AACZ;AAAA,IACF;AACA,WAAO,sDAAsD,iBAAiB,OAAO,CAAC;AAAA,EACxF;AACF;AACA,IAAM,wBAAN,cAAoC,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM/C,YAAY,YAAY,YAAYG,QAAO;AACzC,UAAM,YAAY,YAAYA,MAAK;AACnC,QAAI,OAAO,OAAO,UAAU,EAAE,OAAO,CAACC,OAAM,CAAC,CAACA,EAAC,EAAE,SAAS,GAAG;AAC3D,YAAM,gBAAgB,WAAW,WAAW,GAAG,UAAU,IAAI;AAC7D,YAAM,iBAAiB,WAAW,YAAY,GAAG,UAAU,IAAI;AAC/D,UAAI,CAAC,iBAAiB,CAAC,gBAAgB;AACrC,cAAM;AAAA,UACJ;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AACA,IAAM,MAAN,MAAU;AAAA;AAAA;AAAA;AAAA;AAAA,EAWR,YAAY,EAAE,MAAM,YAAY,WAAW,GAAG,EAAE,UAAU,GAAG;AAT7D;AAAA,iCAAQ,eAAe;AAEvB;AAAA;AAEA;AAAA;AAME,UAAM,aAAa,SAAS,UAAU,SAAS,UAAU;AACzD,SAAK,eAAe,IAAI,YAAY,YAAY,YAAY,KAAK,KAAK;AACtE,SAAK,uBAAuB,IAAI,sBAAsB,YAAY,YAAY,KAAK,KAAK;AAAA,EAC1F;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,KAAK,aAAa,sBAAsB,KAAK,qBAAqB;AAAA,EAC3E;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,aAAa,qBAAqB,KAAK,qBAAqB;AAAA,EAC1E;AAAA;AAAA,EAEA,WAAW,SAAS;AAClB,SAAK,aAAa,WAAW,OAAO;AACpC,SAAK,qBAAqB,WAAW,OAAO;AAAA,EAC9C;AAAA;AAAA,EAEA,UAAU,SAAS;AACjB,SAAK,aAAa,UAAU,OAAO;AACnC,SAAK,qBAAqB,UAAU,OAAO;AAAA,EAC7C;AACF;AACA,SAAS,QAAQ;AACf,MAAI;AACJ,MAAI;AACJ,QAAM,UAAU,IAAI,QAAQ,CAACC,IAAGC,OAAM;AACpC,aAASD;AACT,aAASC;AAAA,EACX,CAAC;AACD,SAAO,EAAE,SAAS,QAAQ,OAAO;AACnC;AACA,SAAS,wBAAwB;AAC/B,QAAM,WAAW,CAAC,MAAM,CAAC;AACzB,SAAO;AAAA,IACL,UAAU;AAAA,MACR,CAAC,OAAO,aAAa,IAAI;AACvB,eAAO;AAAA,UACL,MAAM,YAAY;AAChB,kBAAM,OAAO,MAAM,SAAS,CAAC,EAAE;AAC/B,gBAAI,CAAC,KAAK;AACR,uBAAS,MAAM;AACjB,mBAAO;AAAA,UACT;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA,MAAM,CAAC,UAAU;AACf,eAAS,SAAS,SAAS,CAAC,EAAE,OAAO;AAAA,QACnC;AAAA,QACA,MAAM;AAAA,MACR,CAAC;AACD,eAAS,KAAK,MAAM,CAAC;AAAA,IACvB;AAAA,IACA,MAAM,MAAM;AACV,eAAS,SAAS,SAAS,CAAC,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AAAA,IACrD;AAAA,EACF;AACF;AACA,IAAM,UAAU;AAAA,EACd,GAAG,SAAS,KAAK;AAAA,EACjB,OAAO,MAAM;AACf;AACA,IAAM,YAAY,IAAI,YAAY;AAClC,eAAe,gBAAgB;AAAA,EAC7B;AAAA,EACA;AAAA,EACA,SAAS;AAAA,EACT,UAAAC;AAAA,EACA,OAAArB;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAQ;AAAA,EACR;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAIA,OAAM,cAAc;AACtB,QAAI,SAAS,IAAI,SAAS,SAAS;AACjC,YAAM,IAAI,MAAM,4DAA4D;AAAA,IAC9E;AACA,QAAI,SAAS,6BAA6B;AACxC,YAAM,IAAI,MAAM,qEAAqE;AAAA,IACvF;AAAA,EACF;AACA,QAAM,EAAE,OAAO,IAAIqB,UAAS;AAC5B,QAAM,iBAAiB,IAAI,IAAI,OAAO,OAAO;AAC7C,QAAMC,eAAc,IAAI,IAAI,OAAO,WAAW;AAC9C,QAAMC,SAAQ,IAAI,IAAI,OAAO,KAAK;AAClC,QAAM,uBAAuC,oBAAI,IAAI;AACrD,QAAM,gBAAgC,oBAAI,IAAI;AAC9C,MAAI;AACJ,QAAM,aAAa,eAAe,SAAS,aAAa,eAAe,SAAS,YAAY,cAAc,QAAQ,OAAO;AACzH,MAAI,SAAS;AACb,MAAI,WAAW;AACf,MAAI,kBAAkBlB,GAAE,IAAI;AAC5B,MAAI,CAACL,OAAM,cAAc,UAAU;AACjC,UAAM,WAAW,MAAM,IAAI,SAAS,MAAM,KAAK,MAAM,EAAE,MAAM,GAAG,EAAE,MAAM,CAAC;AACzE,aAAS,SAAS,IAAI,MAAM,IAAI,EAAE,KAAK,GAAG,KAAK;AAC/C,sBAAkB,WAAWK,GAAE,MAAM,CAAC;AACtC,QAAI,CAAC,UAAU,OAAO,CAAC,MAAM,OAAO,WAAW,mBAAmB;AAChE,iBAAW;AAAA,IACb;AAAA,EACF;AACA,MAAI,YAAY,KAAK;AACnB,UAAM,QAAQ;AAAA,MACZ,QAAQ;AAAA,QACN,MAAM,SAAS,IAAI;AAAA,QACnB,YAAY,SAAS,IAAI;AAAA,QACzB;AAAA,MACF;AAAA,MACA,cAAc,MAAM,QAAQ,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,MAAM,KAAK,UAAU,CAAC,CAAC;AAAA,MAC1E,MAAM;AAAA,IACR;AACA,QAAI,QAAQ,CAAC;AACb,aAASD,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK,GAAG;AACzC,cAAQ,EAAE,GAAG,OAAO,GAAG,OAAOA,EAAC,EAAE,KAAK;AACtC,YAAM,QAAQA,EAAC,EAAE,IAAI;AAAA,IACvB;AACA,UAAM,OAAO;AAAA,MACX;AAAA,MACA;AAAA;AAAA,QAEE,MAAM;AAAA;AAAA,MAER,OAAO,MAAM;AAAA,MACb;AAAA,MACA,KAAK,MAAM;AAAA,MACX,MAAM;AAAA,MACN,MAAM;AAAA,MACN,OAAO,CAAC;AAAA,IACV;AACA,aAAS,EAAE,MAAM,QAAQ,QAAQ,SAAS,CAAC;AAC3C;AACE,UAAI;AACF,mBAAW,SAAS,KAAK,OAAO,KAAK;AAAA,MACvC,UAAE;AACA,QAAAoB,OAAM;AAAA,MACR;AAAA,IACF;AACA,eAAW,EAAE,KAAK,KAAK,QAAQ;AAC7B,iBAAW,OAAO,KAAK;AACrB,uBAAe,IAAI,GAAG;AACxB,iBAAW,OAAO,KAAK;AACrB,QAAAF,aAAY,IAAI,GAAG;AACrB,iBAAW,OAAO,KAAK;AACrB,QAAAC,OAAM,IAAI,GAAG;AACf,UAAI,KAAK,eAAe;AACtB,eAAO,QAAQ,MAAM,KAAK,cAAc,CAAC,EAAE,QAAQ,CAAC,CAACE,IAAGP,EAAC,MAAM,cAAc,IAAIO,IAAGP,EAAC,CAAC;AAAA,MACxF;AAAA,IACF;AAAA,EACF,OAAO;AACL,eAAW,EAAE,MAAM,IAAI,MAAM,IAAI,KAAK,EAAE,MAAM,IAAI,KAAK,KAAK,EAAE;AAAA,EAChE;AACA,MAAI,OAAO;AACX,MAAI,QAAQ,SAAS;AACrB,QAAM,MAAM,IAAI,IAAI,SAAS,KAAK;AAAA,IAChC,WAAW,CAAC,CAAClB,OAAM;AAAA,EACrB,CAAC;AACD,QAAM,WAAW,CAAC,SAAS;AACzB,QAAI,KAAK,WAAW,GAAG,GAAG;AACxB,aAAO,OAAO;AAAA,IAChB;AACA,WAAO,GAAG,QAAQ,IAAI,IAAI;AAAA,EAC5B;AACA,MAAI,cAAc,OAAO,GAAG;AAC1B,UAAM,UAAU,MAAM,KAAK,cAAc,OAAO,CAAC,EAAE,KAAK,IAAI;AAC5D,UAAM,aAAa,CAAC;AACpB,QAAI,IAAI;AACN,iBAAW,KAAK,WAAW,IAAI,KAAK,GAAG;AACzC,QAAI,UAAU,OAAO;AACrB,YAAQ;AAAA,SACH,WAAW,KAAK,EAAE,CAAC,IAAI,OAAO;AAAA,EACrC;AACA,aAAW,OAAOsB,cAAa;AAC7B,UAAM,OAAO,SAAS,GAAG;AACzB,UAAM,aAAa,CAAC,kBAAkB;AACtC,QAAI,cAAc,IAAI,GAAG,GAAG;AAC1B,iBAAW,KAAK,YAAY,wBAAwB;AAAA,IACtD,OAAO;AACL,UAAI,aAAa,QAAQ,EAAE,MAAM,OAAO,KAAK,CAAC,GAAG;AAC/C,cAAM,eAAe,CAAC,iBAAiB,YAAY;AACnD,6BAAqB,IAAI,IAAI,UAAU,IAAI,CAAC,MAAM,aAAa,KAAK,GAAG,CAAC,UAAU;AAAA,MACpF;AAAA,IACF;AACA,YAAQ;AAAA,gBACI,IAAI,KAAK,WAAW,KAAK,GAAG,CAAC;AAAA,EAC3C;AACA,aAAW,OAAOC,QAAO;AACvB,UAAM,OAAO,SAAS,GAAG;AACzB,QAAI,aAAa,QAAQ,EAAE,MAAM,QAAQ,KAAK,CAAC,GAAG;AAChD,YAAM,MAAM,IAAI,MAAM,IAAI,YAAY,GAAG,IAAI,CAAC;AAC9C,YAAM,aAAa;AAAA,QACjB;AAAA,QACA;AAAA,QACA,cAAc,GAAG;AAAA,QACjB,SAAS,IAAI;AAAA,QACb;AAAA,MACF;AACA,cAAQ;AAAA,UACJ,WAAW,KAAK,GAAG,CAAC;AAAA,IAC1B;AAAA,EACF;AACA,QAAM,SAAS,eAAe,SAAS,YAAY;AACnD,QAAM,EAAE,MAAM,OAAO,IAAI;AAAA,IACvB;AAAA,IACA;AAAA,IACA,OAAO,IAAI,CAACb,OAAMA,GAAE,WAAW;AAAA,IAC/B;AAAA,EACF;AACA,MAAI,YAAY,OAAO,YAAY,KAAK;AACtC,aAAS;AAAA,KACR,QAAQ;AAAA,MACP,CAAC,SAAS,eAAe,MAAM,aAAa,iCAAiC,CAAC,CAACV,OAAM,YAAY;AAAA,IACnG,EAAE,KAAK,OAAO,CAAC;AAAA,EACjB;AACA,MAAI,YAAY,KAAK;AACnB,QAAI,OAAO,2BAA2BA,OAAM,cAAc;AACxD,qBAAe,IAAI,GAAG,SAAS,OAAO,SAAS;AAAA,IACjD;AACA,UAAM,0BAA0B,MAAM,KAAK,gBAAgB,CAAC,QAAQ,SAAS,GAAG,CAAC,EAAE;AAAA,MACjF,CAAC,SAAS,aAAa,QAAQ,EAAE,MAAM,MAAM,KAAK,CAAC;AAAA,IACrD;AACA,eAAW,QAAQ,yBAAyB;AAC1C,2BAAqB,IAAI,IAAI,UAAU,IAAI,CAAC,gCAAgC;AAC5E,UAAI,SAAS,qBAAqB,iBAAiB;AACjD,gBAAQ;AAAA,kEACkD,IAAI;AAAA,MAChE,WAAWA,OAAM,cAAc;AAC7B,gBAAQ;AAAA,oCACoB,IAAI;AAAA,MAClC;AAAA,IACF;AACA,UAAM,SAAS,CAAC;AAChB,UAAM,mBAAmB,OAAO,2BAA2BA,OAAM;AACjE,UAAM,aAAa,CAAC,SAAS,eAAe,EAAE;AAC9C,QAAI,QAAQ;AACV,iBAAW,KAAK,WAAWK,GAAE,MAAM,CAAC,EAAE;AAAA,IACxC;AACA,QAAI,OAAO,yBAAyB;AAClC,iBAAW,KAAK,QAAQ,mBAAmB,SAASA,GAAE,UAAU,CAAC,EAAE;AAAA,IACrE;AACA,QAAI,QAAQ;AACV,aAAO,KAAK,6BAA6B;AACzC,iBAAW,KAAK;AAAA;AAAA,SAEb;AACH,iBAAW,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMd;AAAA,IACJ;AACA,WAAO,KAAK,GAAG,MAAM;AAAA,QACjB,WAAW,KAAK,WAAW,CAAC;AAAA,QAC5B;AACJ,UAAM,OAAO,CAAC,OAAO,SAAS;AAC9B,WAAO,KAAK,uDAAuD;AACnE,QAAI,YAAY,KAAK;AACnB,YAAM,aAAa,EAAE,MAAM,QAAQ,OAAO,OAAO;AACjD,aAAO,KAAK,gBAAgB,IAAI,GAAG;AACnC,UAAI,YAAY;AACd,mBAAW,OAAO;AAAA,UAChB;AAAA;AAAA,UAEA,MAAM,MAAM;AAAA,QACd;AAAA,MACF;AACA,UAAI,OAAO;AACT,mBAAW,QAAgB,OAAO,KAAK;AAAA,MACzC;AACA,YAAM,UAAU;AAAA,QACd,cAAc,OAAO,IAAI,CAAC,EAAE,KAAK,MAAM,KAAK,KAAK,EAAE,KAAK,IAAI,CAAC;AAAA,QAC7D;AAAA,QACA,SAAS,WAAW,IAAI;AAAA,QACxB,UAAU,WAAW,KAAK;AAAA,MAC5B;AACA,UAAI,WAAW,KAAK;AAClB,gBAAQ,KAAK,WAAW,MAAM,EAAE;AAAA,MAClC;AACA,UAAI,SAAS,UAAU;AACrB,gBAAQ,KAAK,WAAmB,OAAO,MAAM,MAAM,CAAC,IAAI,UAAUA,GAAE,MAAM,KAAK,CAAC,EAAE;AAAA,MACpF;AACA,YAAM,SAAS,IAAI,OAAO,mBAAmB,IAAI,CAAC;AAClD,WAAK,KAAK;AAAA,EACd,MAAM,IAAI,QAAQ,KAAK;AAAA,EACvB,MAAM,GAAG,CAAC;AAAA,EACV,MAAM,GAAG;AAAA,IACP;AACA,QAAI,kBAAkB;AACpB,aAAO,KAAK,UAAUA,GAAE,GAAG,MAAM,IAAI,SAAS,OAAO,SAAS,CAAC;AAAA,QAC7D,MAAM;AAAA;AAAA;AAAA,gBAGEA,GAAE,SAAS,OAAO,KAAK,CAAC,CAAC;AAAA,gBACzBA,GAAE,SAAS,OAAO,GAAG,CAAC,CAAC;AAAA;AAAA,mBAEpB,KAAK,KAAK,IAAI,CAAC;AAAA;AAAA,SAEzB;AAAA,IACL,OAAO;AACL,aAAO,KAAK;AAAA,eACHA,GAAE,SAAS,OAAO,KAAK,CAAC,CAAC;AAAA,eACzBA,GAAE,SAAS,OAAO,GAAG,CAAC,CAAC;AAAA;AAAA,kBAEpB,KAAK,KAAK,IAAI,CAAC;AAAA,SACxB;AAAA,IACL;AACA,QAAI,SAAS,gBAAgB;AAC3B,YAAM,OAAO;AACb,aAAO,KAAK;AAAA;AAAA,2CAEyB,SAAS,mBAAmB,CAAC,IAAI,IAAI;AAAA;AAAA,OAEzE;AAAA,IACH;AACA,UAAM,WAAW;AAAA;AAAA,OAEd,OAAO,KAAK,WAAW,CAAC;AAAA;AAAA;AAG3B,QAAI,WAAW,QAAQ;AACvB,aAAS;AAAA,YACD,IAAI,qBAAqB,WAAW,IAAI,KAAK,MAAM,EAAE,IAAI,QAAQ;AAAA;AAAA,EAE3E;AACA,QAAM,WAAW,IAAI,QAAQ;AAAA,IAC3B,oBAAoB;AAAA,IACpB,gBAAgB;AAAA,EAClB,CAAC;AACD,MAAIL,OAAM,cAAc;AACtB,UAAM,aAAa,CAAC;AACpB,UAAM,cAAc,IAAI,aAAa,SAAS;AAC9C,QAAI,aAAa;AACf,iBAAW,KAAK,WAAW;AAAA,IAC7B;AACA,QAAIA,OAAM,aAAa,OAAO;AAC5B,iBAAW,KAAK,6CAA6CA,OAAM,aAAa,KAAK,IAAI;AAAA,IAC3F;AACA,QAAI,WAAW,SAAS,GAAG;AACzB,aAAO,WAAW,KAAK,IAAI,IAAI;AAAA,IACjC;AAAA,EACF,OAAO;AACL,UAAM,aAAa,IAAI,aAAa,WAAW;AAC/C,QAAI,YAAY;AACd,eAAS,IAAI,2BAA2B,UAAU;AAAA,IACpD;AACA,UAAM,qBAAqB,IAAI,qBAAqB,WAAW;AAC/D,QAAI,oBAAoB;AACtB,eAAS,IAAI,uCAAuC,kBAAkB;AAAA,IACxE;AACA,QAAI,qBAAqB,MAAM;AAC7B,eAAS,IAAI,QAAQ,MAAM,KAAK,oBAAoB,EAAE,KAAK,IAAI,CAAC;AAAA,IAClE;AAAA,EACF;AACA,UAAQ,SAAS;AACjB,QAAM,OAAO,SAAS,UAAU,IAAI;AAAA,IAClC;AAAA,IACA,MAAM;AAAA,IACN,QAAQ;AAAA,IACR;AAAA;AAAA,MAEE,IAAI;AAAA;AAAA,IAEN,KAAK;AAAA,EACP,CAAC;AACD,QAAM,cAAc,MAAM,aAAa,mBAAmB;AAAA,IACxD;AAAA,IACA,MAAM;AAAA,EACR,CAAC,KAAK;AACN,MAAI,CAAC,QAAQ;AACX,aAAS,IAAI,QAAQ,IAAI,KAAK,WAAW,CAAC,GAAG;AAAA,EAC/C;AACA,SAAO,CAAC,SAAS,KAAK,aAAa;AAAA,IACjC;AAAA,IACA,SAAS;AAAA,EACX,CAAC,IAAI,IAAI;AAAA,IACP,IAAI,eAAe;AAAA,MACjB,MAAM,MAAM,YAAY;AACtB,mBAAW,QAAQ,UAAU,OAAO,cAAc,IAAI,CAAC;AACvD,yBAAiB,SAAS,QAAQ;AAChC,qBAAW,QAAQ,UAAU,OAAO,KAAK,CAAC;AAAA,QAC5C;AACA,mBAAW,MAAM;AAAA,MACnB;AAAA,MACA,MAAM;AAAA,IACR,CAAC;AAAA,IACD;AAAA,MACE,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,IACF;AAAA,EACF;AACF;AACA,SAAS,SAAS,OAAO,UAAU,OAAO,QAAQ;AAChD,MAAI,aAAa;AACjB,MAAI,QAAQ;AACZ,QAAM,EAAE,UAAU,MAAM,KAAK,IAAI,sBAAsB;AACvD,WAAS,SAAS,OAAO;AACvB,QAAI,OAAO,OAAO,SAAS,YAAY;AACrC,YAAM,KAAK;AACX,eAAS;AACT,YAAM;AAAA;AAAA,QAEJ,CAAC,UAAU,EAAE,KAAK;AAAA,MACpB,EAAE;AAAA;AAAA,QAEA,OAAO,WAAW;AAAA,UAChB,OAAO,MAAM,yBAAyB,OAAO,UAAU,KAAK;AAAA,QAC9D;AAAA,MACF,EAAE;AAAA;AAAA;AAAA;AAAA,QAIA,OAAO,EAAE,MAAM,MAAM,MAAM;AACzB,mBAAS;AACT,cAAI;AACJ,cAAI;AACF,kBAAc,OAAO,EAAE,IAAI,MAAM,MAAM,GAAG,QAAQ;AAAA,UACpD,SAASF,IAAG;AACV,oBAAQ,MAAM;AAAA,cACZ;AAAA,cACA;AAAA,cACA,IAAI,MAAM,+CAA+C,MAAM,MAAM,EAAE,EAAE;AAAA,YAC3E;AACA,mBAAO;AACP,kBAAc,OAAO,EAAE,IAAI,MAAM,MAAM,GAAG,QAAQ;AAAA,UACpD;AACA,eAAK,WAAW,MAAM,YAAY,GAAG;AAAA,CAC9C;AACS,cAAI,UAAU;AACZ,iBAAK;AAAA,QACT;AAAA,MACF;AACA,aAAO,GAAG,MAAM,UAAU,EAAE;AAAA,IAC9B;AAAA,EACF;AACA,MAAI;AACF,UAAM,UAAU,MAAM,IAAI,CAAC,SAAS;AAClC,UAAI,CAAC;AACH,eAAO;AACT,aAAO,yBAAiC,OAAO,KAAK,MAAM,QAAQ,CAAC,IAAI,eAAe,IAAI,CAAC,GAAG,KAAK,QAAQ,YAAY,KAAK,UAAU,KAAK,KAAK,CAAC,KAAK,EAAE;AAAA,IAC1J,CAAC;AACD,WAAO;AAAA,MACL,MAAM,IAAI,QAAQ,KAAK,GAAG,CAAC;AAAA,MAC3B,QAAQ,QAAQ,IAAI,WAAW;AAAA,IACjC;AAAA,EACF,SAASA,IAAG;AACV,UAAM,IAAI,MAAM;AAAA,MACd;AAAA;AAAA,MAEAA;AAAA,IACF,CAAC;AAAA,EACH;AACF;AACA,SAAS,WAAW,OAAO,QAAQ;AACjC,SAAO,MAAM;AAAA,IACX,CAAC,OAAO,SAAS;AACf;AAAA;AAAA,QAEE,MAAM,YAAY,MAAM,KAAK,MAAM,SAAS,MAAM,KAAK;AAAA;AAAA,IAE3D;AAAA;AAAA,IAEA;AAAA,EACF;AACF;AACA,eAAe,mBAAmB;AAAA,EAChC;AAAA,EACA,SAAS;AAAA,EACT,UAAAuB;AAAA,EACA,OAAArB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI,MAAM,QAAQ,QAAQ,IAAI,mBAAmB,GAAG;AAClD,WAAO;AAAA,MACL;AAAA,MACA;AAAA;AAAA,MAEA,MAAM;AAAA,IACR;AAAA,EACF;AACA,QAAM,UAAU,CAAC;AACjB,MAAI;AACF,UAAM,SAAS,CAAC;AAChB,UAAM,iBAAiB,MAAMqB,UAAS,EAAE,MAAM,CAAC,EAAE;AACjD,UAAM,MAAM,WAAW,CAAC,cAAc,GAAG,KAAK,KAAK;AACnD,UAAM,MAAM,WAAW,CAAC,cAAc,GAAG,KAAK,KAAK;AACnD,QAAI,KAAK;AACP,MAAArB,OAAM,QAAQ;AACd,YAAM,sBAAsB,iBAAiB;AAAA,QAC3C;AAAA,QACA,OAAAA;AAAA,QACA,MAAM;AAAA,QACN,QAAQ,aAAa,CAAC;AAAA,MACxB,CAAC;AACD,YAAM,cAAc,MAAM;AAC1B,YAAM,OAAO,MAAM,UAAU;AAAA,QAC3B;AAAA,QACA;AAAA,QACA,MAAM;AAAA,QACN,QAAQ,aAAa,CAAC;AAAA,QACtB;AAAA,QACA;AAAA,QACA,OAAAA;AAAA,QACA;AAAA,MACF,CAAC;AACD,aAAO;AAAA,QACL;AAAA,UACE,MAAM;AAAA,UACN;AAAA,UACA;AAAA,QACF;AAAA,QACA;AAAA,UACE,MAAM,MAAMqB,UAAS,EAAE,MAAM,CAAC,EAAE;AAAA;AAAA,UAEhC,MAAM;AAAA,UACN,aAAa;AAAA,QACf;AAAA,MACF;AAAA,IACF;AACA,WAAO,MAAM,gBAAgB;AAAA,MAC3B,SAAS;AAAA,MACT,UAAAA;AAAA,MACA,OAAArB;AAAA,MACA,aAAa;AAAA,QACX;AAAA,QACA;AAAA,MACF;AAAA,MACA;AAAA,MACA,OAAO,MAAM,yBAAyB,OAAO,UAAU,KAAK;AAAA,MAC5D;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAAA,EACH,SAASF,IAAG;AACV,QAAIA,cAAa,UAAU;AACzB,aAAO,kBAAkBA,GAAE,QAAQA,GAAE,QAAQ;AAAA,IAC/C;AACA,WAAO;AAAA,MACL;AAAA,MACA,WAAWA,EAAC;AAAA,OACX,MAAM,yBAAyB,OAAO,UAAUA,EAAC,GAAG;AAAA,IACvD;AAAA,EACF;AACF;AACA,SAAS,KAAK,IAAI;AAChB,MAAI,OAAO;AACX,MAAI;AACJ,SAAO,MAAM;AACX,QAAI;AACF,aAAO;AACT,WAAO;AACP,WAAO,SAAS,GAAG;AAAA,EACrB;AACF;AACA,IAAM4B,WAAU,IAAI,YAAY;AAChC,eAAe,YAAY,OAAO,OAAO,UAAUL,WAAUrB,QAAO,wBAAwB,gBAAgB;AAC1G,MAAI,CAAC,MAAM,MAAM;AACf,WAAO,IAAI,SAAS,QAAQ;AAAA,MAC1B,QAAQ;AAAA,IACV,CAAC;AAAA,EACH;AACA,MAAI;AACF,UAAM,WAAW,CAAC,GAAG,MAAM,KAAK,SAAS,MAAM,KAAK,IAAI;AACxD,UAAM,cAAc,0BAA0B,SAAS,IAAI,MAAM,IAAI;AACrE,QAAI,UAAU;AACd,UAAM,MAAM,IAAI,IAAI,MAAM,GAAG;AAC7B,QAAI,WAAW,eAAe,IAAI,UAAU,cAAc;AAC1D,UAAM,YAAY,EAAE,GAAG,OAAO,IAAI;AAClC,UAAM,YAAY,SAAS,IAAI,CAAC2B,IAAGvB,OAAM;AACvC,aAAO,KAAK,YAAY;AACtB,YAAI;AACF,cAAI,SAAS;AACX;AAAA;AAAA,cAEE;AAAA,gBACE,MAAM;AAAA,cACR;AAAA;AAAA,UAEJ;AACA,gBAAM,OAAOuB,MAAK,SAASA,KAAI,MAAMN,UAAS,EAAE,MAAMM,EAAC,EAAE;AACzD,iBAAO,iBAAiB;AAAA,YACtB,OAAO;AAAA,YACP,OAAA3B;AAAA,YACA;AAAA,YACA,QAAQ,YAAY;AAClB,oBAAM,QAAQ,CAAC;AACf,uBAAS4B,KAAI,GAAGA,KAAIxB,IAAGwB,MAAK,GAAG;AAC7B,sBAAM;AAAA;AAAA,kBAEJ,MAAM,UAAUA,EAAC,EAAE;AAAA;AAErB,oBAAI,QAAQ;AACV,yBAAO,OAAO,OAAO,OAAO,IAAI;AAAA,gBAClC;AAAA,cACF;AACA,qBAAO;AAAA,YACT;AAAA,UACF,CAAC;AAAA,QACH,SAAS9B,IAAG;AACV,oBAAU;AACV,gBAAMA;AAAA,QACR;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,UAAM,WAAW,UAAU,IAAI,OAAO,IAAIM,OAAM;AAC9C,UAAI,CAAC,YAAYA,EAAC,GAAG;AACnB;AAAA;AAAA,UAEE;AAAA,YACE,MAAM;AAAA,UACR;AAAA;AAAA,MAEJ;AACA,aAAO,GAAG;AAAA,IACZ,CAAC;AACD,QAAI,SAAS,SAAS;AACtB,UAAM,QAAQ,MAAM,QAAQ;AAAA,MAC1B,SAAS;AAAA,QACP,CAACyB,IAAGzB,OAAMyB,GAAE,MAAM,OAAO,UAAU;AACjC,cAAI,iBAAiB,UAAU;AAC7B,kBAAM;AAAA,UACR;AACA,mBAAS,KAAK,IAAI,QAAQzB,KAAI,CAAC;AAC/B;AAAA;AAAA,YAEE;AAAA,cACE,MAAM;AAAA,cACN,OAAO,MAAM,yBAAyB,OAAO,UAAU,KAAK;AAAA,cAC5D,QAAQ,iBAAiB,aAAa,iBAAiB,iBAAiB,MAAM,SAAS;AAAA,YACzF;AAAA;AAAA,QAEJ,CAAC;AAAA,MACH;AAAA,IACF;AACA,UAAM,EAAE,MAAM,OAAO,IAAI,cAAc,OAAO,UAAU,KAAK;AAC7D,QAAI,CAAC,QAAQ;AACX,aAAO,cAAc,IAAI;AAAA,IAC3B;AACA,WAAO,IAAI;AAAA,MACT,IAAI,eAAe;AAAA,QACjB,MAAM,MAAM,YAAY;AACtB,qBAAW,QAAQsB,SAAQ,OAAO,IAAI,CAAC;AACvC,2BAAiB,SAAS,QAAQ;AAChC,uBAAW,QAAQA,SAAQ,OAAO,KAAK,CAAC;AAAA,UAC1C;AACA,qBAAW,MAAM;AAAA,QACnB;AAAA,QACA,MAAM;AAAA,MACR,CAAC;AAAA,MACD;AAAA,QACE,SAAS;AAAA;AAAA;AAAA,UAGP,gBAAgB;AAAA,UAChB,iBAAiB;AAAA,QACnB;AAAA,MACF;AAAA,IACF;AAAA,EACF,SAAS5B,IAAG;AACV,UAAM,QAAQ,gBAAgBA,EAAC;AAC/B,QAAI,iBAAiB,UAAU;AAC7B,aAAO,uBAAuB,KAAK;AAAA,IACrC,OAAO;AACL,aAAO,cAAc,MAAM,yBAAyB,OAAO,UAAU,KAAK,GAAG,GAAG;AAAA,IAClF;AAAA,EACF;AACF;AACA,SAAS,cAAc,OAAO,SAAS,KAAK;AAC1C,SAAO,KAAK,OAAO,UAAU,WAAW,QAAQ,KAAK,UAAU,KAAK,GAAG;AAAA,IACrE;AAAA,IACA,SAAS;AAAA,MACP,gBAAgB;AAAA,MAChB,iBAAiB;AAAA,IACnB;AAAA,EACF,CAAC;AACH;AACA,SAAS,uBAAuBgC,WAAU;AACxC,SAAO,cAAc;AAAA,IACnB,MAAM;AAAA,IACN,UAAUA,UAAS;AAAA,EACrB,CAAC;AACH;AACA,SAAS,cAAc,OAAO,UAAU,OAAO;AAC7C,MAAI,aAAa;AACjB,MAAI,QAAQ;AACZ,QAAM,EAAE,UAAU,MAAM,KAAK,IAAI,sBAAsB;AACvD,QAAM,WAAW;AAAA;AAAA,IAEf,SAAS,CAAC,UAAU;AAClB,UAAI,OAAO,OAAO,SAAS,YAAY;AACrC,cAAM,KAAK;AACX,iBAAS;AACT,YAAI,OAAO;AACX,cAAM;AAAA;AAAA,UAEJ,OAAOhC,OAAM;AACX,mBAAO;AACP,mBAAO;AAAA,cACL;AAAA,cACA;AAAA;AAAA,cAEAA;AAAA,YACF;AAAA,UACF;AAAA,QACF,EAAE;AAAA;AAAA,UAEA,OAAO,UAAU;AACf,gBAAI;AACJ,gBAAI;AACF,oBAAc,UAAU,OAAO,QAAQ;AAAA,YACzC,SAASA,IAAG;AACV,oBAAM,QAAQ,MAAM;AAAA,gBAClB;AAAA,gBACA;AAAA,gBACA,IAAI,MAAM,+CAA+C,MAAM,MAAM,EAAE,EAAE;AAAA,cAC3E;AACA,qBAAO;AACP,oBAAc,UAAU,OAAO,QAAQ;AAAA,YACzC;AACA,qBAAS;AACT,iBAAK,wBAAwB,EAAE,KAAK,IAAI,KAAK,GAAG;AAAA,CAC3D;AACW,gBAAI,UAAU;AACZ,mBAAK;AAAA,UACT;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AACA,MAAI;AACF,UAAM,UAAU,MAAM,IAAI,CAAC,SAAS;AAClC,UAAI,CAAC;AACH,eAAO;AACT,UAAI,KAAK,SAAS,WAAW,KAAK,SAAS,QAAQ;AACjD,eAAO,KAAK,UAAU,IAAI;AAAA,MAC5B;AACA,aAAO,yBAAiC,UAAU,KAAK,MAAM,QAAQ,CAAC,IAAI;AAAA,QACxE;AAAA,MACF,CAAC,GAAG,KAAK,QAAQ,YAAY,KAAK,UAAU,KAAK,KAAK,CAAC,KAAK,EAAE;AAAA,IAChE,CAAC;AACD,WAAO;AAAA,MACL,MAAM,2BAA2B,QAAQ,KAAK,GAAG,CAAC;AAAA;AAAA,MAElD,QAAQ,QAAQ,IAAI,WAAW;AAAA,IACjC;AAAA,EACF,SAASA,IAAG;AACV,UAAM,IAAI,MAAM;AAAA,MACd;AAAA;AAAA,MAEAA;AAAA,IACF,CAAC;AAAA,EACH;AACF;AACA,SAAS,gBAAgBiC,OAAMV,WAAU;AACvC,SAAO,QAAQ,IAAI;AAAA;AAAA,IAEjB,GAAGU,MAAK,QAAQ,IAAI,CAACJ,OAAMA,MAAK,SAASA,KAAIN,UAAS,EAAE,MAAMM,EAAC,EAAE,CAAC;AAAA,IAClEN,UAAS,EAAE,MAAMU,MAAK,IAAI,EAAE;AAAA,EAC9B,CAAC;AACH;AACA,IAAM,YAAY;AAClB,eAAe,YAAY,OAAOA,OAAM,UAAUV,WAAUrB,QAAO,cAAc;AAC/E,MAAIA,OAAM,QAAQ,WAAW;AAC3B,WAAO,KAAK,cAAc,MAAM,IAAI,QAAQ,IAAI;AAAA,MAC9C,QAAQ;AAAA;AAAA,IAEV,CAAC;AAAA,EACH;AACA,MAAI,uBAAuB,KAAK,GAAG;AACjC,UAAM,OAAO,MAAMqB,UAAS,EAAE,MAAMU,MAAK,IAAI,EAAE;AAC/C,WAAO,2BAA2B,OAAO,UAAU,MAAM,MAAM;AAAA,EACjE;AACA,MAAI;AACF,UAAM,QAAQ,MAAM,gBAAgBA,OAAMV,SAAQ;AAClD,UAAM;AAAA;AAAA,MAEJ,MAAM,GAAG,EAAE;AAAA;AAEb,QAAI,SAAS;AACb,QAAI,gBAAgB;AACpB,QAAI,kBAAkB,KAAK,GAAG;AAC5B,sBAAgB,MAAM,sBAAsB,OAAO,UAAU,MAAM;AACnE,UAAI,eAAe,SAAS,YAAY;AACtC,eAAO,kBAAkB,cAAc,QAAQ,cAAc,QAAQ;AAAA,MACvE;AACA,UAAI,eAAe,SAAS,SAAS;AACnC,iBAAS,WAAW,cAAc,KAAK;AAAA,MACzC;AACA,UAAI,eAAe,SAAS,WAAW;AACrC,iBAAS,cAAc;AAAA,MACzB;AAAA,IACF;AACA,UAAM,wBAAwB,MAAM,KAAK,CAAC,SAAS,MAAM,QAAQ,IAAI;AACrE,UAAM,gBAAgB,gBAAgB,MAAM,IAAI,QAAQ;AACxD,UAAM,mBAAmB,WAAW,OAAO,WAAW,KAAK;AAC3D,QAAI,kBAAkB;AACpB,YAAM,MAAM,UAAU;AACtB,UAAI,KAAK,SAAS;AAChB,cAAM,IAAI,MAAM,qCAAqC;AAAA,MACvD;AAAA,IACF,WAAWrB,OAAM,cAAc;AAC7B,aAAO,IAAI,SAAS,QAAQ;AAAA,QAC1B,QAAQ;AAAA,MACV,CAAC;AAAA,IACH;AACA,IAAAA,OAAM,oBAAoB;AAC1B,UAAM,UAAU,CAAC;AACjB,QAAI,WAAW,OAAO,KAAK,MAAM,SAAS,EAAEA,OAAM,gBAAgB,wBAAwB;AACxF,aAAO,MAAM,gBAAgB;AAAA,QAC3B,QAAQ,CAAC;AAAA,QACT;AAAA,QACA,aAAa;AAAA,UACX,KAAK;AAAA,UACL,KAAK,WAAW,OAAO,KAAK,KAAK;AAAA,QACnC;AAAA,QACA;AAAA,QACA,OAAO;AAAA,QACP;AAAA,QACA,SAAS;AAAA,QACT,UAAAqB;AAAA,QACA,OAAArB;AAAA,QACA;AAAA,MACF,CAAC;AAAA,IACH;AACA,UAAM,SAAS,CAAC;AAChB,QAAI,aAAa;AACjB,UAAM,kBAAkB,MAAM,IAAI,CAAC,MAAMI,OAAM;AAC7C,UAAI,YAAY;AACd,cAAM;AAAA,MACR;AACA,aAAO,QAAQ,QAAQ,EAAE,KAAK,YAAY;AACxC,YAAI;AACF,cAAI,SAAS,aAAa,eAAe,SAAS,SAAS;AACzD,kBAAM,cAAc;AAAA,UACtB;AACA,iBAAO,MAAM,iBAAiB;AAAA,YAC5B;AAAA,YACA,OAAAJ;AAAA,YACA;AAAA,YACA,QAAQ,YAAY;AAClB,oBAAM,OAAO,CAAC;AACd,uBAAS4B,KAAI,GAAGA,KAAIxB,IAAGwB,MAAK,GAAG;AAC7B,sBAAM,SAAS,MAAM,gBAAgBA,EAAC;AACtC,oBAAI;AACF,yBAAO,OAAO,MAAM,MAAM,OAAO,IAAI;AAAA,cACzC;AACA,qBAAO;AAAA,YACT;AAAA,UACF,CAAC;AAAA,QACH,SAAS9B,IAAG;AACV;AAAA,UACAA;AACA,gBAAM;AAAA,QACR;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,UAAM,MAAM,WAAW,OAAO,KAAK,KAAK;AACxC,UAAM,gBAAgB,MAAM,IAAI,CAAC,MAAMM,OAAM;AAC3C,UAAI;AACF,cAAM;AACR,aAAO,QAAQ,QAAQ,EAAE,KAAK,YAAY;AACxC,YAAI;AACF,iBAAO,MAAM,UAAU;AAAA,YACrB;AAAA,YACA;AAAA,YACA;AAAA,YACA,QAAQ,YAAY;AAClB,oBAAM,OAAO,CAAC;AACd,uBAASwB,KAAI,GAAGA,KAAIxB,IAAGwB,MAAK,GAAG;AAC7B,uBAAO,OAAO,MAAM,MAAM,cAAcA,EAAC,CAAC;AAAA,cAC5C;AACA,qBAAO;AAAA,YACT;AAAA,YACA;AAAA,YACA,qBAAqB,gBAAgBxB,EAAC;AAAA,YACtC,OAAAJ;AAAA,YACA;AAAA,UACF,CAAC;AAAA,QACH,SAASF,IAAG;AACV;AAAA,UACAA;AACA,gBAAM;AAAA,QACR;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AACD,eAAW+B,MAAK;AACd,MAAAA,GAAE,MAAM,MAAM;AAAA,MACd,CAAC;AACH,eAAWA,MAAK;AACd,MAAAA,GAAE,MAAM,MAAM;AAAA,MACd,CAAC;AACH,aAASzB,KAAI,GAAGA,KAAI,MAAM,QAAQA,MAAK,GAAG;AACxC,YAAM,OAAO,MAAMA,EAAC;AACpB,UAAI,MAAM;AACR,YAAI;AACF,gBAAM,cAAc,MAAM,gBAAgBA,EAAC;AAC3C,gBAAM,OAAO,MAAM,cAAcA,EAAC;AAClC,iBAAO,KAAK,EAAE,MAAM,aAAa,KAAK,CAAC;AAAA,QACzC,SAASN,IAAG;AACV,gBAAM,MAAM,gBAAgBA,EAAC;AAC7B,cAAI,eAAe,UAAU;AAC3B,gBAAIE,OAAM,gBAAgB,uBAAuB;AAC/C,oBAAM,QAAQ,KAAK,UAAU;AAAA,gBAC3B,MAAM;AAAA,gBACN,UAAU,IAAI;AAAA,cAChB,CAAC;AACD,cAAAA,OAAM,aAAa,aAAa,IAAI,eAAe;AAAA,gBACjD,UAAU,KAAK,KAAK;AAAA,gBACpB,MAAM;AAAA,cACR,CAAC;AAAA,YACH;AACA,mBAAO,kBAAkB,IAAI,QAAQ,IAAI,QAAQ;AAAA,UACnD;AACA,gBAAM,UAAU,WAAW,GAAG;AAC9B,gBAAM,QAAQ,MAAM,yBAAyB,OAAO,UAAU,GAAG;AACjE,iBAAOI,MAAK;AACV,gBAAI2B,MAAK,OAAO3B,EAAC,GAAG;AAClB,oBAAM4B;AAAA;AAAA,gBAEJD,MAAK,OAAO3B,EAAC;AAAA;AAEf,oBAAM,QAAQ,MAAMiB,UAAS,EAAE,MAAMW,MAAK,EAAE;AAC5C,kBAAIJ,KAAIxB;AACR,qBAAO,CAAC,OAAOwB,EAAC;AACd,gBAAAA,MAAK;AACP,qBAAO,MAAM,gBAAgB;AAAA,gBAC3B;AAAA,gBACA,SAAS;AAAA,gBACT,UAAAP;AAAA,gBACA,OAAArB;AAAA,gBACA;AAAA,gBACA,aAAa,EAAE,KAAK,MAAM,KAAK,KAAK;AAAA,gBACpC,QAAQ;AAAA,gBACR;AAAA,gBACA,QAAQ,QAAQ,OAAO,MAAM,GAAG4B,KAAI,CAAC,CAAC,EAAE,OAAO;AAAA,kBAC7C,MAAM;AAAA,kBACN,MAAM;AAAA,kBACN,aAAa;AAAA,gBACf,CAAC;AAAA,gBACD;AAAA,cACF,CAAC;AAAA,YACH;AAAA,UACF;AACA,iBAAO,kBAAkB,UAAU,SAAS,MAAM,OAAO;AAAA,QAC3D;AAAA,MACF,OAAO;AACL,eAAO,KAAK,IAAI;AAAA,MAClB;AAAA,IACF;AACA,QAAI5B,OAAM,gBAAgB,uBAAuB;AAC/C,UAAI,EAAE,MAAM,OAAO,IAAI;AAAA,QACrB;AAAA,QACA;AAAA,QACA,OAAO,IAAI,CAAC,SAAS,MAAM,WAAW;AAAA,MACxC;AACA,UAAI,QAAQ;AACV,yBAAiB,SAAS,QAAQ;AAChC,kBAAQ;AAAA,QACV;AAAA,MACF;AACA,MAAAA,OAAM,aAAa,aAAa,IAAI,eAAe;AAAA,QACjD,UAAU,KAAK,IAAI;AAAA,QACnB,MAAM;AAAA,MACR,CAAC;AAAA,IACH;AACA,UAAM,MAAM,WAAW,OAAO,KAAK,KAAK;AACxC,WAAO,MAAM,gBAAgB;AAAA,MAC3B;AAAA,MACA,SAAS;AAAA,MACT,UAAAqB;AAAA,MACA,OAAArB;AAAA,MACA;AAAA,MACA,aAAa;AAAA,QACX,KAAK,WAAW,OAAO,KAAK,KAAK;AAAA,QACjC;AAAA,MACF;AAAA,MACA;AAAA,MACA,OAAO;AAAA,MACP,QAAQ,QAAQ,QAAQ,CAAC,IAAI,QAAQ,MAAM;AAAA,MAC3C;AAAA,MACA;AAAA,IACF,CAAC;AAAA,EACH,SAASF,IAAG;AACV,WAAO,MAAM,mBAAmB;AAAA,MAC9B;AAAA,MACA,SAAS;AAAA,MACT,UAAAuB;AAAA,MACA,OAAArB;AAAA,MACA,QAAQ;AAAA,MACR,OAAOF;AAAA,MACP;AAAA,IACF,CAAC;AAAA,EACH;AACF;AACA,SAAS,KAAK,OAAO,QAAQ,UAAU;AACrC,QAAM,SAAS,CAAC;AAChB,QAAM,SAAS,MAAM,MAAM,CAAC;AAC5B,QAAM,uBAAuB,OAAO,OAAO,CAAC,UAAU,UAAU,MAAM;AACtE,MAAI,WAAW;AACf,WAASM,KAAI,GAAGA,KAAI,OAAO,QAAQA,MAAK,GAAG;AACzC,UAAM,QAAQ,OAAOA,EAAC;AACtB,QAAI,QAAQ,OAAOA,KAAI,QAAQ;AAC/B,QAAI,MAAM,WAAW,MAAM,QAAQ,UAAU;AAC3C,cAAQ,OAAO,MAAMA,KAAI,UAAUA,KAAI,CAAC,EAAE,OAAO,CAAC6B,QAAOA,GAAE,EAAE,KAAK,GAAG;AACrE,iBAAW;AAAA,IACb;AACA,QAAI,UAAU,QAAQ;AACpB,UAAI,MAAM;AACR,eAAO,MAAM,IAAI,IAAI;AACvB;AAAA,IACF;AACA,QAAI,CAAC,MAAM,WAAW,SAAS,MAAM,OAAO,EAAE,KAAK,GAAG;AACpD,aAAO,MAAM,IAAI,IAAI;AACrB,YAAM,aAAa,OAAO7B,KAAI,CAAC;AAC/B,YAAM,aAAa,OAAOA,KAAI,CAAC;AAC/B,UAAI,cAAc,CAAC,WAAW,QAAQ,WAAW,YAAY,cAAc,MAAM,SAAS;AACxF,mBAAW;AAAA,MACb;AACA,UAAI,CAAC,cAAc,CAAC,cAAc,OAAO,KAAK,MAAM,EAAE,WAAW,qBAAqB,QAAQ;AAC5F,mBAAW;AAAA,MACb;AACA;AAAA,IACF;AACA,QAAI,MAAM,YAAY,MAAM,SAAS;AACnC;AACA;AAAA,IACF;AACA;AAAA,EACF;AACA,MAAI;AACF;AACF,SAAO;AACT;AACA,SAAS,iBAAiB,UAAU;AAClC,MAAI,UAAU,SAAS,QAAQ;AAC7B,UAAM,IAAI,MAAM,yEAAyE;AAAA,EAC3F;AACF;AACA,SAAS,YAAY,SAAS,KAAK,gBAAgB;AACjD,QAAM,SAAS,QAAQ,QAAQ,IAAI,QAAQ,KAAK;AAChD,QAAM,sBAAkB,sBAAM,QAAQ,EAAE,QAAQ,CAAC,UAAU,MAAM,CAAC;AAClE,QAAM,iBAAiB,eAAe,IAAI,UAAU,cAAc;AAClE,QAAM,cAAc,CAAC;AACrB,QAAM,WAAW;AAAA,IACf,UAAU;AAAA,IACV,UAAU;AAAA,IACV,QAAQ,IAAI,aAAa,eAAe,IAAI,aAAa,UAAU,QAAQ;AAAA,EAC7E;AACA,QAAM,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASd,IAAI,MAAM,MAAM;AACd,YAAMS,KAAI,YAAY,IAAI;AAC1B,UAAIA,MAAK,eAAe,IAAI,UAAUA,GAAE,QAAQ,MAAM,KAAK,aAAa,IAAI,UAAUA,GAAE,QAAQ,IAAI,GAAG;AACrG,eAAOA,GAAE;AAAA,MACX;AACA,YAAMV,WAAU,MAAM,UAAU;AAChC,YAAM,kBAAc,sBAAM,QAAQ,EAAE,QAAQA,SAAQ,CAAC;AACrD,YAAM,SAAS,YAAY,IAAI;AAC/B,aAAO;AAAA,IACT;AAAA;AAAA;AAAA;AAAA,IAIA,OAAO,MAAM;AACX,YAAMA,WAAU,MAAM,UAAU;AAChC,YAAM,eAAW,sBAAM,QAAQ,EAAE,QAAQA,SAAQ,CAAC;AAClD,iBAAWU,MAAK,OAAO,OAAO,WAAW,GAAG;AAC1C,YAAI,eAAe,IAAI,UAAUA,GAAE,QAAQ,MAAM,KAAK,aAAa,IAAI,UAAUA,GAAE,QAAQ,IAAI,GAAG;AAChG,mBAASA,GAAE,IAAI,IAAIA,GAAE;AAAA,QACvB;AAAA,MACF;AACA,aAAO,OAAO,QAAQ,QAAQ,EAAE,IAAI,CAAC,CAAC,MAAM,KAAK,OAAO,EAAE,MAAM,MAAM,EAAE;AAAA,IAC1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,IAAI,MAAM,OAAO,UAAU;AACzB,uBAAiB,QAAQ;AACzB,mBAAa,MAAM,OAAO,EAAE,GAAG,UAAU,GAAG,SAAS,CAAC;AAAA,IACxD;AAAA;AAAA;AAAA;AAAA;AAAA,IAKA,OAAO,MAAM,UAAU;AACrB,uBAAiB,QAAQ;AACzB,cAAQ,IAAI,MAAM,IAAI,EAAE,GAAG,UAAU,QAAQ,EAAE,CAAC;AAAA,IAClD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAMA,UAAU,MAAM,OAAO,UAAU;AAC/B,uBAAiB,QAAQ;AACzB,UAAI,OAAO,SAAS;AACpB,UAAI,CAAC,SAAS,UAAU,SAAS,WAAW,IAAI,UAAU;AACxD,eAAO,QAAQ,gBAAgB,IAAI;AAAA,MACrC;AACA,iBAAO,0BAAU,MAAM,OAAO,EAAE,GAAG,UAAU,GAAG,UAAU,KAAK,CAAC;AAAA,IAClE;AAAA,EACF;AACA,WAAS,kBAAkB,aAAa,SAAS;AAC/C,UAAM,mBAAmB;AAAA;AAAA,MAEvB,GAAG;AAAA,IACL;AACA,eAAW,QAAQ,aAAa;AAC9B,YAAM,SAAS,YAAY,IAAI;AAC/B,UAAI,CAAC,eAAe,YAAY,UAAU,OAAO,QAAQ,MAAM;AAC7D;AACF,UAAI,CAAC,aAAa,YAAY,UAAU,OAAO,QAAQ,IAAI;AACzD;AACF,YAAMqB,YAAW,OAAO,QAAQ,UAAU;AAC1C,uBAAiB,OAAO,IAAI,IAAIA,UAAS,OAAO,KAAK;AAAA,IACvD;AACA,QAAI,SAAS;AACX,YAAM,aAAS,sBAAM,SAAS,EAAE,QAAQ,CAAC,UAAU,MAAM,CAAC;AAC1D,iBAAW,QAAQ,QAAQ;AACzB,yBAAiB,IAAI,IAAI,OAAO,IAAI;AAAA,MACtC;AAAA,IACF;AACA,WAAO,OAAO,QAAQ,gBAAgB,EAAE,IAAI,CAAC,CAAC,MAAM,KAAK,MAAM,GAAG,IAAI,IAAI,KAAK,EAAE,EAAE,KAAK,IAAI;AAAA,EAC9F;AACA,WAAS,aAAa,MAAM,OAAO,UAAU;AAC3C,QAAI,OAAO,SAAS;AACpB,QAAI,CAAC,SAAS,UAAU,SAAS,WAAW,IAAI,UAAU;AACxD,aAAO,QAAQ,gBAAgB,IAAI;AAAA,IACrC;AACA,gBAAY,IAAI,IAAI,EAAE,MAAM,OAAO,SAAS,EAAE,GAAG,UAAU,KAAK,EAAE;AAAA,EACpE;AACA,SAAO,EAAE,SAAS,aAAa,mBAAmB,aAAa;AACjE;AACA,SAAS,eAAe,UAAU,YAAY;AAC5C,MAAI,CAAC;AACH,WAAO;AACT,QAAM,aAAa,WAAW,CAAC,MAAM,MAAM,WAAW,MAAM,CAAC,IAAI;AACjE,MAAI,aAAa;AACf,WAAO;AACT,SAAO,SAAS,SAAS,MAAM,UAAU;AAC3C;AACA,SAAS,aAAa,MAAM,YAAY;AACtC,MAAI,CAAC;AACH,WAAO;AACT,QAAM,aAAa,WAAW,SAAS,GAAG,IAAI,WAAW,MAAM,GAAG,EAAE,IAAI;AACxE,MAAI,SAAS;AACX,WAAO;AACT,SAAO,KAAK,WAAW,aAAa,GAAG;AACzC;AACA,SAAS,uBAAuB,UAAU,SAAS;AACjD,aAAW,cAAc,SAAS;AAChC,UAAM,EAAE,MAAM,OAAO,SAAS,SAAS,IAAI;AAC3C,aAAS,OAAO,kBAAc,0BAAU,MAAM,OAAO,QAAQ,CAAC;AAC9D,QAAI,SAAS,KAAK,SAAS,OAAO,GAAG;AACnC,YAAM,OAAO,gBAAgB,SAAS,IAAI;AAC1C,eAAS,OAAO,kBAAc,0BAAU,MAAM,OAAO,EAAE,GAAG,UAAU,KAAK,CAAC,CAAC;AAAA,IAC7E;AAAA,EACF;AACF;AACA,SAAS,aAAa,EAAE,OAAO,SAAS,UAAU,UAAAb,WAAU,OAAArB,QAAO,mBAAmB,aAAa,GAAG;AACpG,QAAM,eAAe,OAAO,MAAMC,WAAU;AAC1C,UAAM,mBAAmB,sBAAsB,MAAMA,QAAO,MAAM,GAAG;AACrE,QAAI,QAAQ,gBAAgB,UAAU,KAAK,OAAOA,QAAO,SAAS;AAClE,QAAI,eAAe,gBAAgB,UAAU,KAAK,cAAcA,QAAO,gBAAgB;AACvF,WAAO,SAAS,MAAM,YAAY;AAAA,MAChC;AAAA,MACA,SAAS;AAAA,MACT,OAAO,OAAO,OAAO,UAAU;AAC7B,cAAM,UAAU,sBAAsB,OAAO,OAAO,MAAM,GAAG;AAC7D,cAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;AAC/B,YAAI,CAAC,QAAQ,QAAQ,IAAI,QAAQ,GAAG;AAClC,kBAAQ,QAAQ,IAAI,UAAU,MAAM,IAAI,MAAM;AAAA,QAChD;AACA,YAAI,UAAU,kBAAkB;AAC9B,kBAAQ,iBAAiB,UAAU,MAAM,OAAO,OAAO,SAAS;AAChE,yBAAe,iBAAiB,UAAU,MAAM,cAAc,OAAO,gBAAgB;AAAA,QACvF;AACA,aAAK,QAAQ,WAAW,SAAS,QAAQ,WAAW,YAAY,SAAS,aAAa,IAAI,WAAW,MAAM,IAAI,UAAU,IAAI,WAAW,MAAM,IAAI,SAAS;AACzJ,kBAAQ,QAAQ,OAAO,QAAQ;AAAA,QACjC;AACA,YAAI,IAAI,WAAW,MAAM,IAAI,QAAQ;AACnC,cAAI,IAAI,IAAI,QAAQ,GAAG,SAAS,IAAI,MAAM,IAAI,QAAQ,EAAE,KAAK,gBAAgB,QAAQ;AACnF,kBAAM,SAAS,kBAAkB,KAAK,QAAQ,QAAQ,IAAI,QAAQ,CAAC;AACnE,gBAAI;AACF,sBAAQ,QAAQ,IAAI,UAAU,MAAM;AAAA,UACxC;AACA,iBAAO,MAAM,OAAO;AAAA,QACtB;AACA,cAAM,SAAS,UAAU;AACzB,cAAM,UAAU,mBAAmB,IAAI,QAAQ;AAC/C,cAAM,YAAY,QAAQ,WAAW,MAAM,IAAI,QAAQ,MAAM,OAAO,MAAM,IAAI,SAAS,MAAM,CAAC;AAC9F,cAAM,gBAAgB,GAAG,QAAQ;AACjC,cAAM,WAAWoB,UAAS,OAAO,IAAI,QAAQ;AAC7C,cAAM,gBAAgBA,UAAS,OAAO,IAAI,aAAa;AACvD,YAAI,YAAY,eAAe;AAC7B,gBAAM,OAAO,WAAW,WAAW;AACnC,cAAIrB,OAAM,MAAM;AACd,kBAAM,OAAO,WAAWqB,UAAS,UAAU,SAAS,MAAM,SAAS,YAAY,GAAG,CAAC,CAAC,IAAI;AACxF,mBAAO,IAAI,SAASrB,OAAM,KAAK,IAAI,GAAG;AAAA,cACpC,SAAS,OAAO,EAAE,gBAAgB,KAAK,IAAI,CAAC;AAAA,YAC9C,CAAC;AAAA,UACH;AACA,iBAAO,MAAM,MAAM,OAAO;AAAA,QAC5B;AACA,YAAI,gBAAgB,QAAQ;AAC1B,gBAAM,SAAS,kBAAkB,KAAK,QAAQ,QAAQ,IAAI,QAAQ,CAAC;AACnE,cAAI,QAAQ;AACV,oBAAQ,QAAQ,IAAI,UAAU,MAAM;AAAA,UACtC;AACA,gBAAM,gBAAgB,MAAM,QAAQ,QAAQ,IAAI,eAAe;AAC/D,cAAI,iBAAiB,CAAC,QAAQ,QAAQ,IAAI,eAAe,GAAG;AAC1D,oBAAQ,QAAQ,IAAI,iBAAiB,aAAa;AAAA,UACpD;AAAA,QACF;AACA,YAAI,CAAC,QAAQ,QAAQ,IAAI,QAAQ,GAAG;AAClC,kBAAQ,QAAQ,IAAI,UAAU,KAAK;AAAA,QACrC;AACA,YAAI,CAAC,QAAQ,QAAQ,IAAI,iBAAiB,GAAG;AAC3C,kBAAQ,QAAQ;AAAA,YACd;AAAA;AAAA,YAEA,MAAM,QAAQ,QAAQ,IAAI,iBAAiB;AAAA,UAC7C;AAAA,QACF;AACA,cAAM,WAAW,MAAM,QAAQ,SAAS,UAAUqB,WAAU;AAAA,UAC1D,GAAGrB;AAAA,UACH,OAAOA,OAAM,QAAQ;AAAA,QACvB,CAAC;AACD,cAAM,aAAa,SAAS,QAAQ,IAAI,YAAY;AACpD,YAAI,YAAY;AACd,qBAAW,OAAyB,qCAAmB,UAAU,GAAG;AAClE,kBAAM,EAAE,MAAM,OAAO,GAAG,SAAS,IAAsB,8BAAY,GAAG;AACtE,kBAAM,OAAO,SAAS,SAAS,IAAI,SAAS,MAAM,GAAG,EAAE,MAAM,GAAG,EAAE,EAAE,KAAK,GAAG,KAAK;AACjF,yBAAa,MAAM,OAAO;AAAA,cACxB;AAAA,cACA;AAAA,cACA;AAAA,YACF,CAAC;AAAA,UACH;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAAA,EACH;AACA,SAAO,CAAC,OAAOC,WAAU;AACvB,UAAM,WAAW,aAAa,OAAOA,MAAK;AAC1C,aAAS,MAAM,MAAM;AAAA,IACrB,CAAC;AACD,WAAO;AAAA,EACT;AACF;AACA,SAAS,sBAAsB,MAAMA,QAAO,KAAK;AAC/C,MAAI,gBAAgB,SAAS;AAC3B,WAAO;AAAA,EACT;AACA,SAAO,IAAI,QAAQ,OAAO,SAAS,WAAW,IAAI,IAAI,MAAM,GAAG,IAAI,MAAMA,MAAK;AAChF;AACA,IAAI;AACJ,IAAI;AACJ,IAAI;AACJ,SAAS,eAAe,SAAS;AAC/B,kBAAS,oBAAoB,KAAK,UAAU,UAAU,CAAC;AACvD,kBAAS,KAAK,KAAK,IAAI,CAAC;AACxB,wBAAY,IAAI,QAAQ;AAAA,IACtB,gBAAgB;AAAA,IAChB;AAAA,EACF,CAAC;AACD,MAAI,QAAQ,QAAQ,IAAI,eAAe,MAAM,MAAM;AACjD,WAAO,IAAI,SAAS,QAAQ,EAAE,QAAQ,KAAK,QAAQ,CAAC;AAAA,EACtD;AACA,SAAO,IAAI,SAAS,MAAM,EAAE,QAAQ,CAAC;AACvC;AACA,SAAS,gBAAgB,OAAO;AAC9B,MAAI,UAAU,CAAC;AACf,aAAW,QAAQ,OAAO;AACxB,QAAI,CAAC,MAAM,WAAW,UAAU,CAAC,MAAM,QAAQ;AAC7C;AACF,cAAU;AAAA,MACR,GAAG;AAAA,MACH,GAAG,MAAM,WAAW;AAAA,MACpB,GAAG,MAAM,QAAQ;AAAA,IACnB;AAAA,EACF;AACA,SAAO,OAAO,KAAK,OAAO,EAAE,SAAS,UAAU;AACjD;AACA,IAAM,oBAAoB,CAAC,EAAE,KAAK,MAAM;AACxC,IAAM,iBAAiB,MAAM;AAC7B,IAAM,kBAAkB,CAAC,EAAE,KAAK,MAAM,SAAS,QAAQ,SAAS;AAChE,IAAM,eAA+B,oBAAI,IAAI,CAAC,OAAO,QAAQ,MAAM,CAAC;AACpE,IAAM,uBAAuC,oBAAI,IAAI,CAAC,OAAO,QAAQ,SAAS,CAAC;AAC/E,eAAe,QAAQ,SAAS,UAAUoB,WAAUrB,QAAO;AACzD,QAAM,MAAM,IAAI,IAAI,QAAQ,GAAG;AAC/B,MAAI,SAAS,mBAAmB;AAC9B,UAAM,YAAY,qBAAqB,OAAO,MAAM,QAAQ,WAAW,UAAU,QAAQ,WAAW,SAAS,QAAQ,WAAW,WAAW,QAAQ,WAAW,aAAa,QAAQ,QAAQ,IAAI,QAAQ,MAAM,IAAI;AACjN,QAAI,WAAW;AACb,YAAM,aAAa,IAAI;AAAA,QACrB;AAAA,QACA,cAAc,QAAQ,MAAM;AAAA,MAC9B;AACA,UAAI,QAAQ,QAAQ,IAAI,QAAQ,MAAM,oBAAoB;AACxD,eAAO,KAAK,WAAW,MAAM,EAAE,QAAQ,WAAW,OAAO,CAAC;AAAA,MAC5D;AACA,aAAO,KAAK,WAAW,KAAK,SAAS,EAAE,QAAQ,WAAW,OAAO,CAAC;AAAA,IACpE;AAAA,EACF;AACA,MAAI;AACJ,MAAI;AACF,oBAAgB,SAAS,MAAM,QAAQ,EAAE,KAAK,IAAI,IAAI,GAAG,EAAE,CAAC,KAAK,IAAI;AAAA,EACvE,SAASF,IAAG;AACV,WAAO,KAAK,yBAAyB;AAAA,MACnC,QAAQ;AAAA,IACV,CAAC;AAAA,EACH;AACA,MAAI;AACJ,MAAI;AACF,cAAU,gBAAgB,aAAa;AAAA,EACzC,QAAQ;AACN,WAAO,KAAK,iBAAiB,EAAE,QAAQ,IAAI,CAAC;AAAA,EAC9C;AACA,MAAI,QAAQ;AACZ,MAAI,SAAS,CAAC;AACd,MAAI,QAAQ,CAACE,OAAM,cAAc,UAAU;AACzC,QAAI,CAAC,QAAQ,WAAW,IAAI,GAAG;AAC7B,aAAO,KAAK,aAAa,EAAE,QAAQ,IAAI,CAAC;AAAA,IAC1C;AACA,cAAU,QAAQ,MAAM,KAAK,MAAM,KAAK;AAAA,EAC1C;AACA,MAAI,YAAY,IAAI,SAAS,OAAO,WAAW;AAC7C,WAAO,eAAe,OAAO;AAAA,EAC/B;AACA,MAAI,QAAQ,WAAW,IAAI,SAAS,OAAO,EAAE,GAAG;AAC9C,WAAO,KAAK,aAAa,EAAE,QAAQ,IAAI,CAAC;AAAA,EAC1C;AACA,QAAM,kBAAkB,gBAAgB,OAAO;AAC/C,MAAI;AACJ,MAAI,iBAAiB;AACnB,cAAU,kBAAkB,OAAO,KAAK;AACxC,QAAI,WAAW,kBAAkB,IAAI,QAAQ,KAAK,IAAI,aAAa,IAAI,oBAAoB,MAAM,MAAM,MAAM,OAAO;AACpH,QAAI,aAAa,OAAO,oBAAoB;AAC5C,6BAAyB,IAAI,aAAa,IAAI,iBAAiB,GAAG,MAAM,EAAE,EAAE,IAAI,CAAC,SAAS,SAAS,GAAG;AACtG,QAAI,aAAa,OAAO,iBAAiB;AAAA,EAC3C;AACA,MAAI,CAACA,OAAM,cAAc,UAAU;AACjC,UAAM,WAAW,MAAMqB,UAAS,EAAE,SAAS;AAC3C,eAAW,aAAaA,UAAS,EAAE,QAAQ;AACzC,YAAM,QAAQ,UAAU,QAAQ,KAAK,OAAO;AAC5C,UAAI,CAAC;AACH;AACF,YAAM,UAAU,KAAK,OAAO,UAAU,QAAQ,QAAQ;AACtD,UAAI,SAAS;AACX,gBAAQ;AACR,iBAAS,cAAc,OAAO;AAC9B;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,MAAI,iBAAiB;AACrB,QAAM,WAAW,CAAC;AAClB,MAAI,iBAAiB,CAAC;AACtB,QAAM,QAAQ;AAAA;AAAA,IAEZ,SAAS;AAAA;AAAA,IAET,OAAO;AAAA,IACP,kBAAkBrB,OAAM,qBAAqB,MAAM;AACjD,YAAM,IAAI;AAAA,QACR,GAAG,0BAA0B;AAAA,MAC/B;AAAA,IACF;AAAA,IACA,QAAQ,CAAC;AAAA,IACT;AAAA,IACA,UAAUA,OAAM;AAAA,IAChB;AAAA,IACA,OAAO,EAAE,IAAI,OAAO,MAAM,KAAK;AAAA,IAC/B,YAAY,CAAC,gBAAgB;AAC3B,iBAAW,QAAQ,aAAa;AAC9B,cAAM,QAAQ,KAAK,YAAY;AAC/B,cAAM,QAAQ,YAAY,IAAI;AAC9B,YAAI,UAAU,cAAc;AAC1B,gBAAM,IAAI;AAAA,YACR;AAAA,UACF;AAAA,QACF,WAAW,SAAS,UAAU;AAC5B,gBAAM,IAAI,MAAM,IAAI,IAAI,yBAAyB;AAAA,QACnD,OAAO;AACL,mBAAS,KAAK,IAAI;AAClB,cAAIA,OAAM,gBAAgB,UAAU,iBAAiB;AACnD,YAAAA,OAAM,aAAa;AAAA,YACnB;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA;AAAA,IACA,eAAe;AAAA,IACf,cAAcA,OAAM,QAAQ;AAAA,EAC9B;AACA,MAAI,eAAe;AAAA,IACjB,oBAAoB;AAAA,IACpB,iCAAiC;AAAA,IACjC,SAAS;AAAA,EACX;AACA,MAAI;AACF,QAAI,OAAO;AACT,UAAI,IAAI,aAAa,QAAQ,IAAI,aAAa,OAAO,KAAK;AACxD,yBAAiB;AAAA,MACnB,WAAW,MAAM,MAAM;AACrB,cAAM,QAAQ,MAAM,gBAAgB,MAAM,MAAMqB,SAAQ;AACxD,YAAI;AACF;AACF,yBAAiB,WAAW,OAAO,eAAe;AAAA,MACpD,WAAW,MAAM,UAAU;AACzB,cAAM,OAAO,MAAM,MAAM,SAAS;AAClC,yBAAiB,KAAK;AACtB,YAAI;AACF;AAAA,MACJ;AACA,UAAI,CAAC,iBAAiB;AACpB,cAAM,aAAa,eAAe,IAAI,UAAU,kBAAkB,OAAO;AACzE,YAAI,eAAe,IAAI,YAAY,CAACrB,OAAM,cAAc,UAAU;AAChE,iBAAO,IAAI,SAAS,QAAQ;AAAA,YAC1B,QAAQ;AAAA,YACR,SAAS;AAAA,cACP,yBAAyB;AAAA,cACzB;AAAA;AAAA,iBAEG,WAAW,WAAW,IAAI,IAAI,IAAI,SAAS,aAAa,eAAe,IAAI,WAAW,MAAM,KAAK,IAAI;AAAA;AAAA,YAE1G;AAAA,UACF,CAAC;AAAA,QACH;AAAA,MACF;AACA,UAAIA,OAAM,iBAAiBA,OAAM,UAAU,UAAU;AACnD,YAAImC,UAAS,CAAC;AACd,YAAI,YAAY;AAChB,YAAI,MAAM,UAAU;AAClB,gBAAM,OAAO,MAAM,MAAM,SAAS;AAClC,UAAAA,UAAS,KAAK,UAAUA;AACxB,sBAAY,KAAK,aAAa;AAAA,QAChC,WAAW,MAAM,MAAM;AACrB,gBAAM,QAAQ,MAAM,gBAAgB,MAAM,MAAMd,SAAQ;AACxD,UAAAc,UAAS,gBAAgB,KAAK,KAAKA;AACnC,sBAAY,WAAW,OAAO,WAAW,KAAK;AAAA,QAChD;AACA,YAAInC,OAAM,eAAe;AACvB,UAAAA,OAAM,cAAc,OAAOmC,SAAQ,SAAS;AAAA,QAC9C;AACA,YAAInC,OAAM,UAAU,UAAU;AAC5B,gBAAM,WAAW,MAAMA,OAAM,SAAS,SAAS,EAAE,QAAAmC,SAAQ,UAAU,CAAC;AAAA,QACtE;AAAA,MACF;AAAA,IACF;AACA,UAAM,EAAE,SAAS,aAAa,mBAAmB,aAAa,IAAI;AAAA,MAChE;AAAA,MACA;AAAA,MACA,kBAAkB;AAAA,IACpB;AACA,qBAAiB;AACjB,UAAM,UAAU;AAChB,UAAM,QAAQ,aAAa;AAAA,MACzB;AAAA,MACA,SAAS;AAAA,MACT,UAAAd;AAAA,MACA,OAAArB;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AACD,QAAIA,OAAM,gBAAgB,CAACA,OAAM,aAAa;AAC5C,qBAAe,GAAG;AACpB,UAAM,WAAW,MAAM,SAAS,MAAM,OAAO;AAAA,MAC3C;AAAA,MACA,SAAS,CAAC,QAAQ,SAAS,SAAS,QAAQ,IAAI,EAAE,KAAK,CAAC,cAAc;AACpE,mBAAW,QAAQ,UAAU;AAC3B,gBAAM,QAAQ,SAAS,IAAI;AAC3B,oBAAU,QAAQ;AAAA,YAChB;AAAA;AAAA,YAEA;AAAA,UACF;AAAA,QACF;AACA,+BAAuB,UAAU,SAAS,OAAO,OAAO,cAAc,CAAC;AACvE,YAAIA,OAAM,gBAAgB,OAAO,MAAM,OAAO,MAAM;AAClD,oBAAU,QAAQ,IAAI,uBAAuB,UAAU,OAAO,MAAM,EAAE,CAAC;AAAA,QACzE;AACA,eAAO;AAAA,MACT,CAAC;AAAA,IACH,CAAC;AACD,QAAI,SAAS,WAAW,OAAO,SAAS,QAAQ,IAAI,MAAM,GAAG;AAC3D,UAAI,sBAAsB,QAAQ,QAAQ,IAAI,eAAe;AAC7D,UAAI,qBAAqB,WAAW,KAAK,GAAG;AAC1C,8BAAsB,oBAAoB,UAAU,CAAC;AAAA,MACvD;AACA,YAAM;AAAA;AAAA,QAEJ,SAAS,QAAQ,IAAI,MAAM;AAAA;AAE7B,UAAI,wBAAwB,OAAO;AACjC,cAAM,YAAY,IAAI,QAAQ,EAAE,MAAM,MAAM,CAAC;AAC7C,mBAAW,QAAQ;AAAA,UACjB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF,GAAG;AACD,gBAAM,QAAQ,SAAS,QAAQ,IAAI,IAAI;AACvC,cAAI;AACF,sBAAU,IAAI,MAAM,KAAK;AAAA,QAC7B;AACA,eAAO,IAAI,SAAS,QAAQ;AAAA,UAC1B,QAAQ;AAAA,UACR,SAAS;AAAA,QACX,CAAC;AAAA,MACH;AAAA,IACF;AACA,QAAI,mBAAmB,SAAS,UAAU,OAAO,SAAS,UAAU,KAAK;AACvE,YAAM,WAAW,SAAS,QAAQ,IAAI,UAAU;AAChD,UAAI,UAAU;AACZ,eAAO,uBAAuB,IAAI;AAAA;AAAA,UAEhC,SAAS;AAAA,UACT;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AACA,WAAO;AAAA,EACT,SAASF,IAAG;AACV,QAAIA,cAAa,UAAU;AACzB,YAAM,WAAW,kBAAkB,uBAAuBA,EAAC,IAAI,OAAO,QAAQ,uBAAuB,KAAK,IAAI,qBAAqBA,EAAC,IAAI,kBAAkBA,GAAE,QAAQA,GAAE,QAAQ;AAC9K,6BAAuB,SAAS,SAAS,OAAO,OAAO,cAAc,CAAC;AACtE,aAAO;AAAA,IACT;AACA,WAAO,MAAM,mBAAmB,OAAO,UAAUA,EAAC;AAAA,EACpD;AACA,iBAAe,SAAS,QAAQ,MAAM;AACpC,QAAI;AACF,UAAI,MAAM;AACR,uBAAe;AAAA,UACb,oBAAoB,KAAK,sBAAsB;AAAA,UAC/C,iCAAiC,KAAK,mCAAmC;AAAA,UACzE,SAAS,KAAK,WAAW;AAAA,QAC3B;AAAA,MACF;AACA,UAAIE,OAAM,cAAc,UAAU;AAChC,eAAO,MAAM,gBAAgB;AAAA,UAC3B,OAAO;AAAA,UACP,SAAS;AAAA,UACT,UAAAqB;AAAA,UACA,OAAArB;AAAA,UACA,aAAa,EAAE,KAAK,OAAO,KAAK,KAAK;AAAA,UACrC,QAAQ;AAAA,UACR,OAAO;AAAA,UACP,QAAQ,CAAC;AAAA,UACT,SAAS,CAAC;AAAA,UACV;AAAA,QACF,CAAC;AAAA,MACH;AACA,UAAI,OAAO;AACT,cAAM;AAAA;AAAA,UAEJ,OAAO,QAAQ;AAAA;AAEjB,YAAI;AACJ,YAAI,iBAAiB;AACnB,qBAAW,MAAM;AAAA,YACf;AAAA,YACA;AAAA,YACA;AAAA,YACAqB;AAAA,YACArB;AAAA,YACA;AAAA,YACA,kBAAkB;AAAA,UACpB;AAAA,QACF,WAAW,MAAM,aAAa,CAAC,MAAM,QAAQ,oBAAoB,MAAM,IAAI;AACzE,qBAAW,MAAM,gBAAgB,QAAQ,MAAM,MAAM,SAAS,GAAGA,MAAK;AAAA,QACxE,WAAW,MAAM,MAAM;AACrB,cAAI,aAAa,IAAI,MAAM,GAAG;AAC5B,uBAAW,MAAM,YAAY,QAAQ,MAAM,MAAM,UAAUqB,WAAUrB,QAAO,YAAY;AAAA,UAC1F,OAAO;AACL,kBAAM,mBAAmB,IAAI,IAAI,oBAAoB;AACrD,kBAAM,OAAO,MAAMqB,UAAS,EAAE,MAAM,MAAM,KAAK,IAAI,EAAE;AACrD,gBAAI,MAAM,QAAQ,SAAS;AACzB,+BAAiB,IAAI,MAAM;AAAA,YAC7B;AACA,gBAAI,WAAW,WAAW;AACxB,yBAAW,IAAI,SAAS,MAAM;AAAA,gBAC5B,QAAQ;AAAA,gBACR,SAAS;AAAA,kBACP,OAAO,MAAM,KAAK,iBAAiB,OAAO,CAAC,EAAE,KAAK,IAAI;AAAA,gBACxD;AAAA,cACF,CAAC;AAAA,YACH,OAAO;AACL,oBAAM,MAAM,CAAC,GAAG,gBAAgB,EAAE;AAAA,gBAChC,CAAC,KAAK,SAAS;AACb,sBAAI,IAAI,IAAI;AACZ,yBAAO;AAAA,gBACT;AAAA;AAAA,gBAEA,CAAC;AAAA,cACH;AACA,yBAAW,mBAAmB,KAAK,MAAM;AAAA,YAC3C;AAAA,UACF;AAAA,QACF,OAAO;AACL,gBAAM,IAAI,MAAM,0BAA0B;AAAA,QAC5C;AACA,YAAI,QAAQ,WAAW,SAAS,MAAM,QAAQ,MAAM,UAAU;AAC5D,gBAAM,OAAO,SAAS,QAAQ,IAAI,MAAM,GAAG,MAAM,GAAG,GAAG,IAAI,CAACH,OAAMA,GAAE,KAAK,EAAE,YAAY,CAAC;AACxF,cAAI,EAAE,MAAM,SAAS,QAAQ,KAAK,MAAM,SAAS,GAAG,IAAI;AACtD,uBAAW,IAAI,SAAS,SAAS,MAAM;AAAA,cACrC,QAAQ,SAAS;AAAA,cACjB,YAAY,SAAS;AAAA,cACrB,SAAS,IAAI,QAAQ,SAAS,OAAO;AAAA,YACvC,CAAC;AACD,qBAAS,QAAQ,OAAO,QAAQ,QAAQ;AAAA,UAC1C;AAAA,QACF;AACA,eAAO;AAAA,MACT;AACA,UAAIlB,OAAM,SAAS,OAAO,cAAc;AACtC,eAAO,MAAM,MAAM,SAAS;AAAA,UAC1B,SAAS;AAAA,YACP,qBAAqB;AAAA,UACvB;AAAA,QACF,CAAC;AAAA,MACH;AACA,UAAIA,OAAM,OAAO;AACf,eAAO,KAAK,yBAAyB;AAAA,UACnC,QAAQ;AAAA,QACV,CAAC;AAAA,MACH;AACA,UAAIA,OAAM,UAAU,GAAG;AACrB,eAAO,MAAM,mBAAmB;AAAA,UAC9B,OAAO;AAAA,UACP,SAAS;AAAA,UACT,UAAAqB;AAAA,UACA,OAAArB;AAAA,UACA,QAAQ;AAAA,UACR,OAAO,IAAI,eAAe,KAAK,aAAa,cAAc,OAAO,IAAI,QAAQ,EAAE;AAAA,UAC/E;AAAA,QACF,CAAC;AAAA,MACH;AACA,UAAIA,OAAM,cAAc;AACtB,eAAO,KAAK,aAAa,EAAE,QAAQ,IAAI,CAAC;AAAA,MAC1C;AACA,aAAO,MAAM,MAAM,OAAO;AAAA,IAC5B,SAASF,IAAG;AACV,aAAO,MAAM,mBAAmB,QAAQ,UAAUA,EAAC;AAAA,IACrD,UAAE;AACA,aAAO,QAAQ,MAAM,MAAM;AACzB,cAAM,IAAI,MAAM,qEAAqE;AAAA,MACvF;AACA,aAAO,aAAa,MAAM;AACxB,cAAM,IAAI,MAAM,oEAAoE;AAAA,MACtF;AAAA,IACF;AAAA,EACF;AACF;AACA,SAAS,mBAAmB,KAAK,EAAE,eAAe,eAAe,GAAG;AAClE,SAAO,OAAO;AAAA,IACZ,OAAO,QAAQ,GAAG,EAAE;AAAA,MAClB,CAAC,CAAC2B,EAAC,MAAMA,GAAE,WAAW,cAAc,MAAM,kBAAkB,MAAM,CAACA,GAAE,WAAW,aAAa;AAAA,IAC/F;AAAA,EACF;AACF;AACA,SAAS,kBAAkB,KAAK,EAAE,eAAe,eAAe,GAAG;AACjE,SAAO,OAAO;AAAA,IACZ,OAAO,QAAQ,GAAG,EAAE;AAAA,MAClB,CAAC,CAACA,EAAC,MAAMA,GAAE,WAAW,aAAa,MAAM,mBAAmB,MAAM,CAACA,GAAE,WAAW,cAAc;AAAA,IAChG;AAAA,EACF;AACF;AACA,IAAM,wBAAwB;AAAA,EAC5B,IAAI,EAAE,KAAK,GAAG,MAAM;AAClB,UAAM,IAAI;AAAA,MACR,wCAAwC,IAAI,8CAA8C,KAAK,SAAS,CAAC,sBAAsB,IAAI;AAAA,IACrI;AAAA,EACF;AACF;AA5vFA;AA6vFA,IAAM,SAAN,MAAa;AAAA;AAAA,EAMX,YAAYJ,WAAU;AAJtB;AAAA;AAEA;AAAA;AAGE,uBAAK,UAAW;AAChB,uBAAK,WAAYA;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,MAAM,KAAK,EAAE,KAAK,KAAK,GAAG;AACxB,UAAM,WAAW;AAAA,MACf,eAAe,mBAAK,UAAS;AAAA,MAC7B,gBAAgB,mBAAK,UAAS;AAAA,IAChC;AACA,UAAMe,eAAc,mBAAmB,KAAK,QAAQ;AACpD,UAAM,cAAc,kBAAkB,KAAK,QAAQ;AACnD;AAAA,MACE,eAAe,IAAI,MAAM,EAAE,MAAM,UAAU,GAAG,qBAAqB,IAAIA;AAAA,IACzE;AACA;AAAA,MACE,eAAe,IAAI,MAAM,EAAE,MAAM,SAAS,GAAG,qBAAqB,IAAI;AAAA,IACxE;AACA,wBAAoB,WAAW;AAC/B,QAAI,CAAC,mBAAK,UAAS,OAAO;AACxB,UAAI;AACF,cAAM,SAAS,MAAM,UAAU;AAC/B,2BAAK,UAAS,QAAQ;AAAA,UACpB,QAAQ,OAAO,WAAW,CAAC,EAAE,OAAO,SAAS,SAAS,MAAM,SAAS,KAAK;AAAA,UAC1E,aAAa,OAAO,gBAAgB,CAAC,EAAE,MAAM,MAAM,QAAQ,MAAM,KAAK;AAAA,UACtE,aAAa,OAAO,gBAAgB,CAAC,EAAE,SAAS,OAAO,OAAO,MAAM,OAAO,OAAO;AAAA,UAClF,SAAS,OAAO,YAAY,MAAM;AAAA,UAClC;AAAA,QACF;AAAA,MACF,SAAS,OAAO;AACd;AACE,gBAAM;AAAA,QACR;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA,MAAM,QAAQ,SAAS,UAAU;AAC/B,WAAO,QAAQ,SAAS,mBAAK,WAAU,mBAAK,YAAW;AAAA,MACrD,GAAG;AAAA,MACH,OAAO;AAAA,MACP,OAAO;AAAA,IACT,CAAC;AAAA,EACH;AACF;AAxDE;AAEA;;;ACjwFK,IAAM,YAAY,MAAM;AAC/B,WAAS,OAAO,IAAI;AACnB,QAAI;AACJ,WAAO,MAAM,kBAAW,QAAQ,GAAG;AAAA,EACpC;AAEA,SAAO;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,QAAQ,oBAAI,IAAI,CAAC,aAAa,CAAC;AAAA,IAC/B,WAAW,EAAC,QAAO,YAAW;AAAA,IAC9B,GAAG;AAAA,MACF,QAAQ,EAAC,SAAQ,0CAAyC,OAAM,wCAAuC,WAAU,CAAC,0CAAyC,2CAA0C,+CAA8C,wCAAuC,+CAA8C,yCAAyC,GAAE,eAAc,CAAC,GAAE,SAAQ,CAAC,GAAE,2BAA0B,MAAK;AAAA,MAC9a,OAAO;AAAA,QACN,OAAO,MAAM,mDAAwC;AAAA,QACrD,OAAO,MAAM,qDAAwC;AAAA,QACrD,OAAO,MAAM,qDAAwC;AAAA,QACrD,OAAO,MAAM,qDAAwC;AAAA,MACtD;AAAA,MACA,QAAQ;AAAA,QACP;AAAA,UACC,IAAI;AAAA,UACJ,SAAS;AAAA,UACT,QAAQ,CAAC;AAAA,UACT,MAAM,EAAE,SAAS,CAAC,CAAE,GAAG,QAAQ,CAAC,CAAE,GAAG,MAAM,EAAE;AAAA,UAC7C,UAAU;AAAA,QACX;AAAA,QACA;AAAA,UACC,IAAI;AAAA,UACJ,SAAS;AAAA,UACT,QAAQ,CAAC,EAAC,QAAO,UAAS,YAAW,OAAM,QAAO,OAAM,WAAU,MAAK,CAAC;AAAA,UACxE,MAAM,EAAE,SAAS,CAAC,CAAE,GAAG,QAAQ,CAAC,CAAE,GAAG,MAAM,EAAE;AAAA,UAC7C,UAAU;AAAA,QACX;AAAA,MACD;AAAA,MACA,UAAU,YAAY;AAErB,eAAO,CAAG;AAAA,MACX;AAAA,MACA,eAAe,CAAC;AAAA,IACjB;AAAA,EACD;AACA,GAAG;;;ACvCH,IAAM,SAAS,IAAI,OAAO,QAAQ;AAClC,IAAM,cAAc,OAAO,KAAK;AAAA,EAC/B;AAAA;AAAA,IAA4C,QAAQ;AAAA;AACrD,CAAC;AAMD,IAAO,eAAQ,OAAO,SAAS,YAAY;AAC1C,QAAM;AACN,SAAO,OAAO,QAAQ,SAAS;AAAA,IAC9B,mBAAmB;AAClB;AAAA;AAAA,QAA8B,QAAQ,QAAQ,IAAI,iBAAiB;AAAA;AAAA,IACpE;AAAA,IACA,UAAU;AAAA,MACT;AAAA,IACD;AAAA,EACD,CAAC;AACF;",
  "names": ["a", "b", "callback", "component", "key", "pattern", "escaped", "i", "state", "f", "logger", "a", "b", "key", "options", "_SessionStore_chunk", "i", "c", "_SessionStore_clean", "message", "options", "p", "a", "t", "u", "key", "f", "session", "m", "digest", "digest", "key", "buf", "i", "alg", "CHUNK_SIZE", "i", "init_errors", "message", "alg", "init_errors", "init_errors", "enc", "init_errors", "a", "b", "i", "hash", "key", "alg", "types", "alg", "key", "enc", "init_errors", "headers", "key", "alg", "key", "p2s", "init_errors", "getCryptoKey", "key", "alg", "deriveKey", "p2s", "decrypt", "alg", "init_errors", "alg", "key", "encrypt", "decrypt", "alg", "key", "bitLength", "alg", "init_errors", "init_errors", "init_errors", "alg", "init_errors", "alg", "key", "enc", "encrypt", "init_errors", "wrap", "alg", "key", "unwrap", "alg", "key", "options", "bitLength", "decrypt", "p2s", "unwrap", "init_errors", "init_errors", "s", "key", "options", "protectedHeader", "alg", "enc", "init_decrypt", "init_errors", "key", "options", "init_decrypt", "init_errors", "init_decrypt", "init_errors", "key", "alg", "key", "alg", "enc", "key", "x", "y", "bitLength", "encrypt", "p2s", "wrap", "init_errors", "init_encrypt", "init_errors", "key", "options", "alg", "enc", "init_encrypt", "init_errors", "init_errors", "init_verify", "init_errors", "init_verify", "init_errors", "init_verify", "init_errors", "init_errors", "options", "now", "init_verify", "init_errors", "jwt", "key", "options", "init_decrypt", "init_errors", "init_encrypt", "key", "options", "init_sign", "init_errors", "init_sign", "init_sign", "init_errors", "init_sign", "init_errors", "init_encrypt", "key", "options", "enc", "init_errors", "init_errors", "init_errors", "init_errors", "init_errors", "init_errors", "base64url_exports", "decode", "encode", "init_base64url", "init_base64url", "init_base64url", "init_errors", "init_errors", "init_runtime", "init_decrypt", "init_encrypt", "init_verify", "init_sign", "init_errors", "init_base64url", "init_runtime", "parse", "serialize", "options", "decode", "index", "key", "enc", "encode", "e", "encode", "base64url_exports", "decode", "enc", "secret", "import_cookie", "options", "message", "config", "parseCookie", "e", "headers", "options", "body", "message", "hash", "b", "i", "r", "a", "base", "_", "import_cookie", "init_web", "options", "csrfToken", "csrfTokenHash", "init_web", "isObject", "key", "options", "p", "c", "o", "k", "v", "e", "key", "options", "encode", "decode", "logger", "e", "session", "assign", "obj", "props", "i", "removeNode", "node", "parentNode", "removeChild", "createVNode", "type", "key", "ref", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "vnodeId", "options", "Fragment", "children", "Component", "context", "this", "getDomSibling", "childIndex", "indexOf", "sibling", "length", "updateParentDomPointers", "child", "base", "enqueueRender", "c", "rerenderQueue", "push", "process", "prevDebounce", "debounceRendering", "setTimeout", "queue", "__r", "sort", "a", "b", "some", "component", "commitQueue", "oldVNode", "oldDom", "parentDom", "__P", "diff", "ownerSVGElement", "commitRoot", "diffChildren", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "isSvg", "excessDomChildren", "isHydrating", "j", "childVNode", "newDom", "firstChildDom", "refs", "oldChildren", "EMPTY_ARR", "oldChildrenLength", "Array", "isArray", "EMPTY_OBJ", "reorderChildren", "placeChild", "unmount", "applyRef", "tmp", "nextDom", "sibDom", "outer", "appendChild", "nextSibling", "insertBefore", "diffProps", "dom", "newProps", "oldProps", "hydrate", "setProperty", "setStyle", "style", "value", "IS_NON_DIMENSIONAL", "test", "name", "oldValue", "useCapture", "o", "cssText", "replace", "toLowerCase", "slice", "l", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "event", "newVNode", "isNew", "oldState", "snapshot", "clearProcessingException", "provider", "componentContext", "renderHook", "count", "newType", "contextType", "__E", "prototype", "render", "doRender", "sub", "state", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "forEach", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "diffElementNodes", "diffed", "root", "cb", "call", "oldHtml", "newHtml", "nodeType", "localName", "document", "createTextNode", "createElementNS", "createElement", "is", "data", "childNodes", "dangerouslySetInnerHTML", "attributes", "__html", "innerHTML", "checked", "current", "parentVNode", "skipRemove", "r", "componentWillUnmount", "isValidElement", "error", "errorInfo", "ctor", "handled", "getDerivedStateFromError", "setState", "componentDidCatch", "update", "callback", "s", "forceUpdate", "encodeEntities", "str", "ENCODED_ENTITIES", "test", "last", "i", "out", "ch", "length", "charCodeAt", "slice", "styleObjToCss", "s", "prop", "val", "JS_TO_CSS", "replace", "CSS_REGEX", "toLowerCase", "IS_NON_DIMENSIONAL", "undefined", "getChildren", "accumulator", "children", "Array", "isArray", "reduce", "push", "markAsDirty", "this", "__d", "createComponent", "vnode", "context", "__v", "props", "setState", "forceUpdate", "__h", "getContext", "nodeName", "cxType", "contextType", "provider", "__c", "value", "__", "_renderToStringPretty", "opts", "inner", "isSvgMode", "selectValue", "pretty", "indentChar", "rendered", "component", "type", "isComponent", "shallow", "renderRootComponent", "Fragment", "shallowHighOrder", "c", "options", "__b", "renderHook", "__r", "prototype", "render", "cctx", "_dirty", "state", "_nextState", "__s", "getDerivedStateFromProps", "Object", "assign", "componentWillMount", "count", "call", "getChildContext", "diffed", "displayName", "Function", "name", "toString", "match", "index", "UNNAMED", "propChildren", "html", "attrs", "keys", "sortAttributes", "sort", "v", "UNSAFE_NAME", "allAttributes", "XLINK", "String", "hooked", "attributeHook", "__html", "xml", "selected", "sub", "indexOf", "Error", "isVoid", "VOID_ELEMENTS", "voidElements", "pieces", "isLargeString", "indent", "hasLarge", "lastWasText", "child", "ret", "isText", "join", "substring", "renderToString", "res", "previousSkipEffects", "_renderToString", "EMPTY_ARR", "normalizePropName", "normalizePropValue", "startElement", "hasChildren", "SHALLOW", "shallowRender", "char", "ignoreLines", "createVNode", "type", "props", "key", "__self", "__source", "ref", "i", "normalizedProps", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "vnodeId", "defaultProps", "options", "o", "message", "options", "e", "r", "g", "b", "o", "i", "text", "o", "o", "k", "options", "cookies", "providers", "p", "options", "jwt", "session", "userByAccount", "currentAccount", "p", "provider", "encoder", "decoder", "i", "CHUNK_SIZE", "isCryptoKey", "key", "nonce", "headers", "USER_AGENT", "options", "json", "now", "body", "clockSkew", "e", "n", "x", "y", "index", "clockTolerance", "state", "v", "message", "options", "logger", "encode", "decoder", "base64url_exports", "state", "decode", "nonce", "options", "logger", "state", "nonce", "e", "options", "e", "a", "base64", "init_web", "options", "body", "headers", "jwt", "logger", "redirect", "session", "e", "token", "k", "v", "config", "signIn", "init_callback", "init_web", "options", "jwt", "logger", "session", "newSession", "e", "options", "logger", "as", "k", "state", "nonce", "options", "body", "e", "init_web", "options", "redirect", "init_signin", "options", "jwt", "redirect", "logger", "session", "e", "init_signout", "options", "jwt", "init_session", "options", "init_session", "init_actions", "init_callback", "init_signin", "init_signout", "options", "init_actions", "config", "i", "secret", "p", "config", "message", "page", "e", "init_web", "init", "body", "headers", "encoder", "message", "parseString", "options", "e", "key", "value", "parse", "cookies", "splitCookiesString", "config", "e", "prisma", "p", "session", "e", "n", "i", "t", "r", "j", "H", "w", "$", "A", "M", "m", "h", "p", "s", "o", "u", "l", "f", "c", "a", "O", "S", "L", "d", "g", "v", "N", "_", "C", "x", "I", "z", "T", "y", "b", "k", "require_index_browser", "Decimal", "objectEnumValues", "makeStrictEnum", "Public", "getRuntime", "PrismaClient", "message", "require_index_browser", "prisma", "signIn", "signOut", "setEnvDefaults", "config", "options", "headers", "createActionURL", "body", "c", "_options", "key", "resolve", "reset", "page", "body", "nonce", "message", "base", "key", "callback", "i", "message", "str", "value", "i", "key", "a", "b", "stringify", "v", "k", "c", "key", "p", "index", "value", "stringify_primitive", "i", "i", "subscribe", "run", "key", "parse", "Error", "__exports", "component", "fonts", "imports", "index", "stylesheets", "component_cache", "init__", "actions", "config", "load", "session", "text", "base64", "__exports", "component", "fonts", "imports", "index", "server_id", "stylesheets", "component_cache", "init__", "page_server_ts_exports", "actions", "config", "load", "init_page_server_ts", "text", "page_svelte_exports", "Page", "init_page_svelte", "__exports", "component", "fonts", "imports", "index", "page_server_ts_exports", "server_id", "stylesheets", "component_cache", "init__", "init_page_server_ts", "import_cookie", "types", "i", "a", "b", "message", "page", "state", "e", "server", "actions", "redirect", "init2", "e", "message", "state", "init2", "get", "decoder", "i", "s", "init", "encode", "w", "a", "b", "i2", "x", "c", "d", "chars", "l", "nonce", "v", "f", "r", "manifest", "stylesheets", "fonts", "reset", "k", "encoder", "n", "j", "p", "redirect", "page", "index", "s2", "encoder2", "config", "private_env"]
}
